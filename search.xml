<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[è¿‘æœŸè®¡åˆ’~]]></title>
    <url>%2F2020%2F01%2F08%2F%E8%BF%91%E6%9C%9F%E5%87%86%E5%A4%87.html</url>
    <content type="text"><![CDATA[éšç¬”æ˜¨å¤©åˆšåˆšè€ƒå®Œæ‰€æœ‰è€ƒè¯•ï¼Œæ˜¨å¤©ä¸‹åˆåˆ°ç°åœ¨åˆä¸€ç›´åœ¨èµ¶é¡¹ç›®è¿›åº¦ï¼Œæ‰€ä»¥åœæ›´äº†å‡ å¤©ï¼Œæ¥ä¸‹æ¥å‡ å¤©ä¼šç»§ç»­æ›´ä¸‹å»ï¼åšæŒå°±æ˜¯èƒœåˆ©å–ï¼ å¿«è¦æ‰¾å®ä¹ äº†ï¼æœ‰ç‚¹ç´§å¼ å–ï¼ï¼ï¼ è¿‘æœŸè®¡åˆ’å¤§æ¦‚æ˜¯1æœˆ20å·å›å®¶â€¦æ‰€ä»¥å¤§æ¦‚åšä¸ªå°è®¡åˆ’å§~ æ—¶é—´èŠ‚ç‚¹2020.01.08 â€”â€”â€” 2020.01.24 å®ŒæˆæŒ‡æ ‡ é¦–è¦ä»»åŠ¡ï¼å®ŒæˆäºŒå‰æ ‘éƒ¨åˆ†çš„æ€»ç»“ï¼ï¼ˆ2å¤©å·¦å³ï¼‰ LeetCode äºŒå‰æ ‘çš„é¢˜ç›®æœ‰ç‚¹å­å¤šï¼åŠ æ²¹åšï¼ï¼ˆ3å¤©ï¼‰ æ·±åº¦ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ3å¤©å·¦å³ï¼‰ é›†åˆç±»æºç åˆ†æåšå®¢æ’°å†™ï¼ˆ3å¤©å·¦å³ï¼‰ LeetCode ç²¾é€‰ 100 é¢˜ï¼ˆè¿‡å¹´å‰å®Œæˆ~ å¤§æ¦‚5å¤©ï¼‰ å¤§æ¦‚æ˜¯16å¤©å®Œæˆï¼ğŸ†™ğŸ†™ğŸ†™ å°ç›®æ ‡ å®Œæˆç®—æ³•éƒ¨åˆ†çš„åˆæ­¥å¤ä¹ ï¼Œä»¥åå°†ä¸ä¼šå†ç³»ç»Ÿå¤ä¹ ï¼Œç›´æ¥èµ°å‰‘æŒ‡offer è¿‡å¹´æœŸé—´äº‰å–å°†è‡ªå·±å‡†å¤‡çš„é¢è¯•èµ„æ–™çœ‹ä¸€éï¼Œç„¶ååšå®¢æ•´ç†~ åæœŸéœ€å®Œæˆçš„ä¸œè¥¿(è¿‡å¹´æœŸé—´~) å¸ˆå…„çš„ Java é¢ç»ï¼200å¤šé¡µï¼ï¼ï¼ï¼ï¼ï¼]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤è¯•å‡†å¤‡]]></title>
    <url>%2F2020%2F01%2F05%2F%E5%A4%8D%E8%AF%95%E5%87%86%E5%A4%87.html</url>
    <content type="text"><![CDATA[å¤è¯•å‡†å¤‡å¤§æ¦‚è¯´ä¸€ä¸‹å‡†å¤‡ç­–ç•¥å§â€¦æœ€è¿‘æœ‰è€ƒè¯•ï¼Œä¹Ÿæ²¡å•¥æ—¶é—´ï¼Œå°±åˆç•¥çš„å†™ä¸€ä¸‹å­â€¦å‡‘åˆçœ‹ï¼ ç§‘ç›® æ¦‚è¿°ä»Šå¹´çš„å¤è¯•è·Ÿå»å¹´åªæœ‰ä¸€ä¸ªä¸åŒï¼Œå°±æ˜¯å°†å¾€å¹´çš„30åˆ†çš„è®¡ç®—æœºç½‘ç»œæ›´æ¢ä¸ºç®—æ³•è®¾è®¡ä¸åˆ†æï¼Œå…¶ä»–å…¨éƒ¨ä¿æŒä¸€è‡´ã€‚ å¤è¯•åˆ†ä¸ºæœºè¯•(200) + é¢è¯•(140) + è‹±è¯­ç¬”è¯•(10)ï¼Œæ€»åˆ†å…±è®¡350åˆ†ï¼Œæœ€ååˆ†æ•°æ˜¯ç›´æ¥ä¸åˆè¯•åˆ†æ•°ç›¸åŠ ï¼ŒæŒ‰ç…§æ€»æˆç»©åˆ†æ•°è¿›è¡Œæ’åï¼Œå…¶ä¸­æœºè¯•å°¤ä¸ºå…³é”®ï¼ŒæŒ‰ç…§å¾€å¹´ç»éªŒæ¥è¯´ï¼Œæœºè¯•åˆ†å·®åœ¨50åˆ†å·¦å³éƒ½æ˜¯éå¸¸å¸¸è§çš„ï¼è‡³äºé¢è¯•ï¼Œå¤§å®¶å·®çš„éƒ½ä¸å¤šï¼Œæˆ‘ä¸‹é¢ä¼šä¸»è¦è®²ä¸€ä¸‹æœºè¯•å‡†å¤‡ï¼Œé¡ºå¸¦è®²ä¸€ä¸‹å¤è¯•ï¼ å¤è¯•æµç¨‹ä¸€èˆ¬ä¼šåœ¨3æœˆåˆè¿›è¡Œå¤è¯•ï¼Œæˆ‘ä»¬å»å¹´æ˜¯2æœˆ14å‡ºçš„æˆç»©ï¼Œ3æœˆ7å·å°±å¾—åˆ°è¾¾å“ˆå°”æ»¨è¿›è¡Œè€ƒå‰çš„ä¸€äº›æ‰‹ç»­åŠç†ï¼Œä¸­é—´å¤§æ¦‚åªæœ‰15å¤©çš„æ—¶é—´å‡†å¤‡ï¼Œæ‰€ä»¥åŠ¡å¿…è¦æå‰å¤‡è€ƒ(æˆ‘å°±å¾ˆåæ‚”æ²¡æœ‰æå‰å¤‡è€ƒâ€¦æµä¸‹æ‚”æ¨çš„æ³ªæ°´å•Šâ€¦) è€ƒå‰ä¸€ä¸¤å¤©ä¼šå…ˆè®©ä½ äº¤å„ç§ææ–™ï¼Œç„¶åå¿ƒç†æµ‹è¯„ï¼Œç„¶åå°±å¼€å§‹å¤è¯•ã€‚å¤è¯•æ˜¯ä¸€æ•´å¤©çš„ï¼Œä¸Šåˆæœºè¯•ï¼Œä¸‹åˆé¢è¯•ï¼Œæœºè¯•æ—¶é—´æ˜¯ä¸¤å°æ—¶ï¼Œæ—¶é—´æ˜¯æ¯”è¾ƒç´§å¼ çš„ï¼Œå› ä¸ºé¢˜é‡æ¯”è¾ƒå¤§ï¼Œä¸‹é¢æˆ‘ä¼šè¯¦ç»†è¯´çš„ï¼åœ¨æœºè¯•å¼€å§‹ä¹‹å‰ï¼Œä¼šè®©ä½ å…ˆåšè‹±è¯­ç¬”è¯•ï¼Œä¹Ÿå°±æ˜¯ååœ¨ç”µè„‘é¢å‰ä¼šå…ˆç»™ä½ å‘ä¸€å¼ è‹±è¯­è¯•å·(å…¶å®å°±æ˜¯ä¸€ç¯‡è‹±æ–‡è®ºæ–‡),ç„¶åä½ éœ€è¦çœ‹è¿™ç¯‡è®ºæ–‡ï¼Œå›ç­”ç›¸å…³çš„5ä¸ªé—®é¢˜ï¼Œä¸€å…±10åˆ†ï¼Œæ¯å°é—®2åˆ†(è¿™ä¸ªå¤§å®¶éƒ½ä¸ä¼šï¼Œä¸è¦å½±å“è‡ªå·±çš„æœºè¯•å°±è¡Œï¼) ç„¶åæ˜¯å¼€å§‹æœºè¯•ï¼ä¸¤ä¸ªå°æ—¶ï¼Œåº”è¯¥æ˜¯9ç‚¹åŠåˆ°11ç‚¹åŠï¼Ÿ(æˆ‘ä¹Ÿä¸è®°å¾—äº†å‘€) ï¼Œæœºè¯•å®Œä¹‹ååŸºæœ¬æ²¡æœ‰ä¼‘æ¯ï¼Œå¤§æ¦‚ä¸­åˆä¸€ç‚¹å°±éœ€è¦è¿›å…¥é¢è¯•å‡†å¤‡äº†ï¼Œæ‰€æœ‰äººä¼šæ”¾åˆ°ä¸€ä¸ªå¤§æˆ¿é—´é‡Œï¼Œå»å¹´æ˜¯æœ‰8æ¡çº¿ï¼Œæ¯æ¡çº¿éƒ½æ˜¯ä¸ä¸€æ ·çš„è€å¸ˆï¼Œä¹Ÿå°±æ˜¯æµæ°´çº¿ä½œä¸šï¼Œä¸€å…±æœ‰å››è½®é¢è¯•ï¼Œæ¯è½®35åˆ†ï¼Œå…±140åˆ†ï¼Œæ¯ä¸ªäººä¼šåˆ†åˆ°ä¸€ä¸ªæ•°å­—ï¼Œä»£è¡¨ä½ æ˜¯8æ¡çº¿çš„å“ªä¸€æ¡ï¼Œç„¶åè¿›è¡Œé¢è¯•ï¼Œç„¶ååªæœ‰ç­‰åˆ°æ‰€æœ‰äººå…¨éƒ¨é¢è¯•ç»“æŸï¼Œæ–¹å¯ç¦»å¼€ã€‚ å¤è¯•å®Œå½“å¤©å°±ä¼šæœ‰æ·±åœ³æ ¡åŒºçš„å®£è®²ä¼šï¼Œæ‰€æœ‰è€å¸ˆéƒ½ä¼šåˆ°åœºï¼ï¼ï¼æŠ¥è€ƒæ·±åœ³çš„ä½ ï¼ï¼ï¼ï¼åƒä¸‡åƒä¸‡ä¸è¦é”™è¿‡ï¼Œè„¸çš®ä¸€å®šè¦åšï¼ï¼ï¼ï¼ï¼å½“å¤©å°±éœ€è¦ç¡®å®šå¯¼å¸ˆçš„ï¼Œå¦‚æœä½ ä¸å»æ‰¾ï¼Œåˆ°æ—¶å€™ä¸Šçº¿äº†åªèƒ½æŒ‘åˆ«äººå‰©ä¸‹çš„ï¼Œæ‰€ä»¥ä¸ç®¡ä½ å¤è¯•åˆ°åº•æˆç»©å’‹æ ·(å¤è¯•æˆç»©ä¼šåœ¨ä¹‹åä¸¤å¤©æ‰å‡º)ï¼Œå…ˆæ‰¾è€å¸ˆï¼Œä¸Šçº¿äº†å°±å¯ä»¥ç›´æ¥è·Ÿä»–èµ°ï¼Œæ²¡ä¸Šçº¿çš„è¯å°±å†è”ç³»æœ¬éƒ¨è€å¸ˆå°±è¡Œäº†ï¼ æœºè¯•éƒ¨åˆ†é¦–å…ˆæ˜¯200åˆ†çš„æœºè¯•ï¼ŒæŒ‰ç…§å¾€å¹´æ¨ç®—ï¼Œä»Šå¹´åº”è¯¥é¢˜å‹å¤§æ¦‚ä¿æŒä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯120åˆ†é€‰æ‹©é¢˜ + 80åˆ†ä¸»è§‚é¢˜ï¼Œå…¶ä¸­80åˆ†ä¸»è§‚é¢˜å»å¹´æ˜¯åˆ†ä¸º20åˆ†ç¼–ç¨‹é¢˜ + 60åˆ†æ”¹é”™é¢˜ã€‚ é€‰æ‹©é¢˜ï¼š120åˆ†é€‰æ‹©é¢˜ï¼ŒåŒ…å«äº†æ•°æ®åº“ç³»ç»Ÿã€ç¦»æ•£æ•°å­¦ã€ç®—æ³•è®¾è®¡ä¸åˆ†æã€é€»è¾‘æ€ç»´èƒ½åŠ›ã€‚ä¹Ÿå°±æ˜¯å„å 30åˆ†ï¼Œå…¶ä¸­è¦è¯´æ˜çš„æ˜¯æ•°æ®åº“ç³»ç»Ÿã€ç¦»æ•£æ•°å­¦ã€ç®—æ³•è®¾è®¡ä¸åˆ†æéƒ½æ˜¯2åˆ†ä¸€é¢˜ï¼Œä¹Ÿå°±æ˜¯å…±æœ‰45é¢˜ï¼Œè€Œé€»è¾‘æ€ç»´é¢˜æ˜¯6åˆ†ä¸€é¢˜(å¿˜äº†æ˜¯5åˆ†è¿˜æ˜¯6åˆ†äº†â€¦)ï¼Œæ‰€ä»¥åŠ èµ·æ¥é€‰æ‹©é¢˜æœ‰50æ¥é“ï¼Œè¿™ä¸ªé¢˜é‡æ˜¯å¾ˆå¤§çš„ï¼ŒåŠ¡å¿…è¦è€ƒå‰è®¡åˆ’å¥½æ—¶é—´ï¼ï¼ï¼ï¼å› ä¸ºå»å¹´åæˆ‘æ—è¾¹çš„ä¸¤ä½å¤§å“¥â€¦æˆ‘é€‰æ‹©é¢˜éƒ½åšå®Œäº†ä»–ä»¬è¿˜åœ¨åš20é¢˜ï¼Œæœ€åä»–ä»¬æˆ‘çœ‹åˆ†æ•°éƒ½æ˜¯80ä¸Šä¸‹â€¦ ä¸»è§‚é¢˜ï¼š80åˆ†ï¼Œæˆ‘åªè®²å»å¹´çš„é¢˜å‹ã€‚60åˆ†æ”¹é”™ï¼Œ20åˆ†ç¼–ç¨‹é¢˜ã€‚ å…ˆè®²20åˆ†ç¼–ç¨‹é¢˜ï¼Œé¢˜ç›®è¦æ±‚ç”¨Cè¯­è¨€ä½œç­”ï¼é¢˜ç›®çš„éš¾åº¦åŸºæœ¬ä¸Cè¯­è¨€é‚£æœ¬ä¹¦(è‹å°çº¢çš„)çš„è¯¾åé¢˜æŒå¹³ï¼Œæˆ–è€…è¯´ç•¥å¾®éš¾ä¸€äº›äº›ï¼Œå»å¹´æ˜¯è€ƒçš„å­—ç¬¦ä¸²æ’åºä¹‹ç±»çš„(æˆ‘ä¹Ÿæœ‰ç‚¹å¿˜è®°å•¦ï¼Œä½ ä»¬å¯ä»¥ä¸Šç‹é“è®ºå›çœ‹çœ‹æœ€æ–°çš„å¤è¯•è¯•å·ï¼Œæˆ‘æ˜¯æ²¡æœ‰æ”¶é›†çš„å“ˆ~æˆ‘ç»™çš„èµ„æ–™éƒ½æ˜¯æˆ‘å»å¹´çš„ï¼Œæ²¡æœ‰é›†åˆ19å¹´çš„)ã€‚ å†è®²60åˆ†æ”¹é”™ã€‚æ”¹é”™ä¹Ÿæ˜¯ç»™ä½ ä¸€é“é¢˜ï¼Œç»™ä½ ä»£ç ï¼Œç„¶åä½ ä¿®æ”¹ï¼Œå…¨éƒ¨æ”¹å¯¹æ‰èƒ½acï¼Œå¦åˆ™å°±æ˜¯0åˆ†ï¼Œä¸€å…±3é¢˜ï¼Œæ¯é¢˜20åˆ†ï¼æ”¹å¯¹ä¸€é“å°±åŸºæœ¬æ¯”è¾ƒç¨³äº†ã€‚ æ•°æ®åº“ç³»ç»Ÿæˆ‘å»ºè®®è¿™ä¸ªå¯ä»¥æ”¾åˆ°åé¢å¤ä¹ ï¼Œè€ƒè¯•é¢˜ç›®æ˜¯åœ¨ä¸­å›½å¤§å­¦MOOCä¸­æˆ˜å¾·è‡£è®²çš„ã€Šæ•°æ®åº“ç³»ç»Ÿã€‹ä¸­çš„æµ‹éªŒé‡Œçš„é¢˜ç›®å‡ºï¼Œä¸ä¼šè¶…å‡ºè¿™ä¸ªèŒƒå›´å“Ÿï¼ï¼ï¼ï¼ï¼å¦‚æœåæœŸæ—¶é—´ä¸å¤ªå¤Ÿï¼Œå¯ä»¥ç›´æ¥çœ‹é¢˜ç›®èƒŒç­”æ¡ˆï¼Œå½“ç„¶ä½ éœ€è¦èƒŒçš„å¾ˆç†Ÿå“¦(æˆ‘å½“æ—¶æ˜¯åˆ·äº†å¾ˆå¤šéï¼Œç›´æ¥èƒŒçš„é¢˜ç›®å’Œç­”æ¡ˆï¼Œçœ‹åˆ°é¢˜ç›®å°±çŸ¥é“ç­”æ¡ˆï¼)ï¼Œå› ä¸ºæˆ‘å½“æ—¶æ—¶é—´å¾ˆç´§è¿«ï¼Œå°±æ²¡æœ‰å…¨éƒ¨çœ‹å®Œè§†é¢‘ï¼Œå› ä¸ºè§†é¢‘å¤ªå¤šäº†â€¦ä¸Šä¸­ä¸‹â€¦æ„Ÿè§‰å¾—çœ‹å‡ æ˜ŸæœŸã€‚ é¢„æœŸå¦‚æœä¸€è¾¹çœ‹è§†é¢‘ï¼Œä¸€è¾¹èƒŒé¢˜çš„è¯ï¼Œä¸€æ˜ŸæœŸå¤§æ¦‚å°±èƒ½æ‹¿ä¸‹ï¼ä½ å¯ä»¥è‡ªå·±å»æ„Ÿå—ä¸‹é¢˜é‡è¿˜æœ‰è§†é¢‘çš„å¤šå°‘ï¼Œç„¶åè‡ªå·±ä¼°è®¡éœ€è¦å¤šä¹…æ—¶é—´ï¼Œèƒ½æŠŠé‡Œé¢çš„é¢˜ç›®å…¨éƒ¨åšä¼šï¼Œå¹¶ä¸”è¦ååº”ç‰¹åˆ«å¿«ï¼Œè¿™æ ·ä¼šç»™æœºè¯•äº‰å–å¤§é‡æ—¶é—´â€¦è¿™å¯èƒ½å°±æ˜¯æˆ‘æœºè¯•æ¯”åˆ«äººåšå¾—å¿«çš„åŸå› å§â€¦ ç¦»æ•£æ•°å­¦è¿™æ˜¯æ‰€æœ‰å¤è¯•ç§‘ç›®é‡Œé¢æœ€éš¾çš„ä¸€é—¨ï¼ï¼å› ä¸ºåŒ…æ‹¬äº†é›†åˆè®ºä¸å›¾è®ºä»¥åŠè¿‘ä¸–ä»£æ•°ï¼å»ºè®®çœ‹Moocï¼Œçœ‹å’±å·¥å¤§è€å¸ˆçš„ç¦»æ•£æ•°å­¦ï¼å…·ä½“åå­—æˆ‘ç»™å¿˜äº†ï¼ä¸€å®šè¦è¶æ—©å¤ä¹ ï¼Œä¸ç„¶åŸºæœ¬ä¸ŠåæœŸå°±æ˜¯å®Œå…¨æ”¾å¼ƒçš„çŠ¶æ€ï¼Œè¿™ä¸ªä¸€å®šææ—©å¤ä¹ ï¼Œé¢„æœŸå¤ä¹ æ—¶é—´è‡³å°‘è¦ç»™åˆ° 15-20 å¤©â€¦ ä¹ é¢˜çš„è¯å»ºè®®æŠŠæˆ‘èµ„æ–™é‡Œé‚£äº›ç¦»æ•£æ•°å­¦éƒ¨åˆ†çš„ä¹ é¢˜åšå®Œå°±å·®ä¸å¤šäº†ï¼Œéš¾åº¦åŸºæœ¬ä¸ä¹‹æŒå¹³ã€‚ ç®—æ³•è®¾è®¡ä¸åˆ†æè¿™ä¸ªæˆ‘æ²¡è€ƒè¿‡..é¢„æœŸæ˜¯ç®—æ—¶é—´å¤æ‚åº¦ä¹‹ç±»çš„é¢˜å‹å§â€¦æ¯•ç«Ÿæ˜¯é€‰æ‹©é¢˜â€¦ é€»è¾‘æ€ç»´èƒ½åŠ›è¿™ä¸ªè€ƒå‰æ— éœ€å‡†å¤‡ï¼Œç¨å¾®çœ‹ä¸€ä¸‹æˆ‘ç»™çš„èµ„æ–™é‡Œçš„é¢˜ç›®å°±è¡Œï¼Œé¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œå»ºè®®è€ƒè¯•å…ˆåšè¿™ä¸ªï¼Œåˆ†å€¼å¾ˆé‡ï¼Œå¾ˆå¤šåŒå­¦åœ¨è€ƒè¯•çš„æ—¶å€™æœ€åéƒ½æ²¡æ—¶é—´åšè¿™ä¸ªï¼ï¼ï¼ï¼è´¼å¯æƒœçš„å–ï¼ï¼é€åˆ†é¢˜å˜æˆäº†é€å‘½é¢˜â€¦ Cè¯­è¨€è¿™ä¸ª80åˆ†æ˜¯å¤§å¤´å“Ÿï¼ŒåŸºæœ¬ä¸Šå†³å®šä½ èƒ½ä¸èƒ½ä¸Šä½ çš„ä¸€å¿—æ„¿ï¼åŸºæœ¬ä¸Šåšå‡ºä¸€ä¸¤é“æ”¹é”™å°±å¾ˆç¨³äº†ï¼Œæ¯•ç«Ÿ20åˆ†ä¸€é¢˜å–ï¼å¦‚ä½•å‡†å¤‡ï¼Ÿæˆ‘å»ºè®®è¿™ä¸ªåœ¨å‡ºåˆ†å‰å°±åŸºæœ¬è¦å‡†å¤‡å®Œæˆï¼Œå‡ºåˆ†åå¯ä»¥è¿›è¡Œæ•°æ®åº“ç³»ç»Ÿçš„å¤ä¹ å’Œç¦»æ•£æ•°å­¦è¿‘ä¸–ä»£æ•°éƒ¨åˆ†å¤ä¹ ã€‚å‡†å¤‡æ–¹å¼å°±æ˜¯åˆ·è‹å°çº¢è€å¸ˆé‚£æœ¬Cè¯­è¨€çš„ä¹¦ï¼ŒæŠŠé‡è¦ç« èŠ‚(å­—ç¬¦ä¸²é‚£å‡ ç« )è¯¾åé¢˜å…¨éƒ¨åˆ·ä¸€éï¼Œæ‰¾åˆ°acé¢˜ç›®çš„æ„Ÿè§‰ï¼ŒåŒæ—¶æ¸©é¦¨æé†’å¯ä»¥ä¸ŠLeetCodeæ‰¾ä¸€äº›ç›¸å…³çš„ä¸“é¢˜è¿›è¡Œç»ƒä¹ ï¼Œè¿™æ ·åœ¨è€ƒåœºä¼šæœ‰ä¸€ç§ç†Ÿæ‚‰çš„æ„Ÿè§‰ï¼ è¿™ä¸ªå‡†å¤‡èµ·æ¥æ—¶é—´åº”è¯¥å·®ä¸å¤š15å¤©å·¦å³ï¼Œä¸€å®šè¦å¤šå†™ä»£ç ï¼Œæœ‰æ„Ÿè§‰æ˜¯æœ€é‡è¦çš„ã€‚ é¢è¯•éƒ¨åˆ†æˆ‘æ˜¯æ²¡æœ‰åšè¿‡ä»»ä½•é¢è¯•éƒ¨åˆ†çš„å‡†å¤‡çš„ï¼ä½†æ˜¯ï¼æˆ‘æœ‰äº›è¯è¿˜æ˜¯è¦å‘Šè¯«ä½ ä¸€ä¸‹ï¼ ä¸€é¢35åˆ†ï¼Œç¬¬ä¸€é¢è‡ªæˆ‘ä»‹ç»ï¼Œç„¶åç»™ä½ ä¸€å¼ å›¾ï¼Œè®©ä½ çœ‹çœ‹èƒ½çœ‹åˆ°å•¥(é¬¼çŸ¥é“è¿™æ˜¯åœ¨æ•´å•¥ç©æ„â€¦)ï¼Œå…¨ç¨‹å¯ä»¥é€‰æ‹©è‹±æ–‡ or ä¸­æ–‡ï¼Œå¯èƒ½ç”¨è‹±æ–‡å…¨ç¨‹ä½œç­”ä¼šæœ‰ç‚¹åŠ åˆ†å§â€¦ äºŒé¢35åˆ†ï¼Œç¬¬äºŒé¢æ˜¯è®²ç«èµ›ç»å†å’Œé¡¹ç›®ç»å†ï¼Œä¸»è¦æ˜¯çœ‹è¯ä¹¦(å¥–å­¦é‡‘è¯ä¹¦å•¥çš„æ²¡ç”¨å“ˆ)ï¼Œè¦çš„æ˜¯CCFä¹‹ç±»çš„è·å¥–è¯ä¹¦ï¼Œå…¶ä»–çš„ä¸€å¾‹ä¸çœ‹ï¼ ä¸‰é¢æ˜¯ä¸“ä¸šé¢ï¼Œå°±æ˜¯ç»™ä½ ä¸€é“é¢˜ï¼Œä½ åœ¨å¤–é¢æ€è€ƒ5åˆ†é’Ÿï¼Œå¦‚ä½•åšï¼Œä¸€èˆ¬å°±æ˜¯æ™®é€šçš„æ™ºåŠ›é¢˜ï¼Œä¸ç”¨å¤ªæ‹…å¿ƒï¼ŒæŒºç®€å•çš„ï¼Œæˆ‘å½“æ—¶çš„é¢˜ç›®æ˜¯çˆ¬å±±é—®é¢˜ï¼Œä¸€ä¸ªäººä»å±±ä¸‹çˆ¬ä¸Šå»ï¼Œä¸€ä¸ªä»å±±ä¸‹ä¸‹æ¥ï¼Œä»€ä¹ˆæ—¶å€™ç›¸é‡â€¦è¿™ç±»çš„é—®é¢˜ã€‚ å››é¢ï¼ï¼ï¼ï¼è¿™ä¸ªæˆ‘æœ€æƒ³è®²ï¼Œå› ä¸ºæˆ‘é¢çš„ä¸å¥½ï¼Œæ²¡æœ‰å‡†å¤‡ï¼Œä¹Ÿæ²¡ç»éªŒï¼ï¼ç°åœ¨ï¼Œç»éªŒæ¥äº†ï¼ï¼ä¸€å®šè¦çœ‹çœ‹äººå·¥æ™ºèƒ½ï¼Œè‡ªç„¶è¯­è¨€ï¼Œæœºå™¨ç¿»è¯‘ï¼Œæ¨¡å¼è¯†åˆ«ç­‰ç­‰ä¹‹ç±»çš„ä¸œè¥¿ï¼Œè¿™ä¸€é¢ä¸»è¦å°±é—®è¿™ä¸ªï¼Œæˆ‘å½“æ—¶æ˜¯é¢çš„äººå·¥æ™ºèƒ½ï¼Œå¦ˆå‘€å•¥ä¹Ÿä¸ä¼šå•Šï¼Œè®²ä¸å‡ºè¯â€¦ä½ å‡†å¤‡çš„è¯å°±å¤§æ¦‚çœ‹çœ‹äººå·¥æ™ºèƒ½æ˜¯ä¸ªå•¥â€¦ç”¨äºå“ªäº›é¢†åŸŸï¼Œæœ‰å¤§æ¦‚å“ªäº›æŠ€æœ¯ï¼Œåˆç•¥çš„å¤§æ¦‚çœ‹çœ‹å°±è¡Œï¼Œä¸ç„¶åˆ°æ—¶å€™æ²¡è¯è¯´è´¼å°´å°¬çš„ï¼]]></content>
  </entry>
  <entry>
    <title><![CDATA[é€’å½’æ€»ç»“(è½¬)]]></title>
    <url>%2F2020%2F01%2F04%2F%E9%80%92%E5%BD%92%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[3é“é¢˜å½»åº•æå®šï¼šå¥—è·¯è§£å†³é€’å½’é—®é¢˜(è½¬)å‰è¨€è½¬çš„å“ˆ~æˆ‘è‡ªå·±å­¦ä¹ çœ‹çš„ï¼ï¼ åŸæ–‡é“¾æ¥ â€”â€”-&gt; è§£å†³é€’å½’ ç›¸ä¿¡ä¸å°‘åŒå­¦å’Œæˆ‘ä¸€æ ·ï¼Œåœ¨åˆšå­¦å®Œæ•°æ®ç»“æ„åå¼€å§‹åˆ·ç®—æ³•é¢˜æ—¶ï¼Œé‡åˆ°é€’å½’çš„é—®é¢˜æ€»æ˜¯å¾ˆå¤´ç–¼ï¼Œè€Œä¸€çœ‹è§£ç­”ï¼Œå´å‘ç°å¤§ä½¬ä»¬å‡ è¡Œé€’å½’ä»£ç å°±ä¼˜é›…çš„è§£å†³äº†é—®é¢˜ã€‚ä»æˆ‘è‡ªå·±çš„å­¦ä¹ ç»å†æ¥çœ‹ï¼Œåˆšå¼€å§‹ç†è§£é€’å½’æ€è·¯éƒ½å¾ˆå›°éš¾ï¼Œæ›´åˆ«è¯´è‡ªå·±å†™äº†ã€‚ æˆ‘ä¸€ç›´è§‰å¾—åˆ·ç®—æ³•é¢˜å’Œåº”è¯•ä¸€æ ·ï¼Œæ—¢ç„¶æ˜¯åº”è¯•å°±ä¸€å®šæœ‰å¥—è·¯å­˜åœ¨ã€‚åœ¨åˆ·é¢˜ä¸­ï¼Œæˆ‘æ€»ç»“å‡ºäº†ä¸€å¥—è§£å†³é€’å½’é—®é¢˜çš„æ¨¡ç‰ˆæ€è·¯ä¸è§£æ³•ï¼Œç”¨è¿™ä¸ªæ€è·¯å¯ä»¥ç§’è§£å¾ˆå¤šé€’å½’é—®é¢˜ã€‚ é€’å½’è§£é¢˜ä¸‰éƒ¨æ›²ä½•ä¸ºé€’å½’ï¼Ÿç¨‹åºåå¤è°ƒç”¨è‡ªèº«å³æ˜¯é€’å½’ã€‚ æˆ‘è‡ªå·±åœ¨åˆšå¼€å§‹è§£å†³é€’å½’é—®é¢˜çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šå»çº ç»“è¿™ä¸€å±‚å‡½æ•°åšäº†ä»€ä¹ˆï¼Œå®ƒè°ƒç”¨è‡ªèº«åçš„ä¸‹ä¸€å±‚å‡½æ•°åˆåšäº†ä»€ä¹ˆâ€¦ç„¶åå°±ä¼šè§‰å¾—å®ç°ä¸€ä¸ªé€’å½’è§£æ³•ååˆ†å¤æ‚ï¼Œæ ¹æœ¬å°±æ— ä»ä¸‹æ‰‹ã€‚ ç›¸ä¿¡å¾ˆå¤šåˆå­¦è€…å’Œæˆ‘ä¸€æ ·ï¼Œè¿™æ˜¯ä¸€ä¸ªæ€ç»´è¯¯åŒºï¼Œä¸€å®šè¦èµ°å‡ºæ¥ã€‚æ—¢ç„¶é€’å½’æ˜¯ä¸€ä¸ªåå¤è°ƒç”¨è‡ªèº«çš„è¿‡ç¨‹ï¼Œè¿™å°±è¯´æ˜å®ƒæ¯ä¸€çº§çš„åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸€çº§é€’å½’çš„è§£å†³è¿‡ç¨‹å³å¯ã€‚ æˆ‘ä»¬éœ€è¦å…³å¿ƒçš„ä¸»è¦æ˜¯ä»¥ä¸‹ä¸‰ç‚¹ï¼š æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ã€‚ ä¸€çº§é€’å½’éœ€è¦åšä»€ä¹ˆï¼Ÿ åº”è¯¥è¿”å›ç»™ä¸Šä¸€çº§çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ å› æ­¤ï¼Œä¹Ÿå°±æœ‰äº†æˆ‘ä»¬è§£é€’å½’é¢˜çš„ä¸‰éƒ¨æ›²ï¼š æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼šé€’å½’åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ç»“æŸï¼Ÿ æ‰¾è¿”å›å€¼ï¼šåº”è¯¥ç»™ä¸Šä¸€çº§è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼Ÿ æœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆï¼šåœ¨è¿™ä¸€çº§é€’å½’ä¸­ï¼Œåº”è¯¥å®Œæˆä»€ä¹ˆä»»åŠ¡ï¼Ÿ ä¸€å®šè¦ç†è§£è¿™3æ­¥ï¼Œè¿™å°±æ˜¯ä»¥åé€’å½’ç§’æ€ç®—æ³•é¢˜çš„ä¾æ®å’Œæ€è·¯ã€‚ ä½†è¿™ä¹ˆè¯´å¥½åƒå¾ˆç©ºï¼Œæˆ‘ä»¬æ¥ä»¥é¢˜ç›®ä½œä¸ºä¾‹å­ï¼Œçœ‹çœ‹æ€ä¹ˆå¥—è¿™ä¸ªæ¨¡ç‰ˆï¼Œç›¸ä¿¡3é“é¢˜ä¸‹æ¥ï¼Œä½ å°±èƒ½æ…¢æ…¢ç†è§£è¿™ä¸ªæ¨¡ç‰ˆã€‚ä¹‹åå†è§£è¿™ç§å¥—è·¯é€’å½’é¢˜éƒ½èƒ½ç›´æ¥ç§’äº†ã€‚ ä¾‹1ï¼šæ±‚äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦å…ˆçœ‹ä¸€é“ç®€å•çš„Leetcodeé¢˜ç›®ï¼š Leetcode 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ é¢˜ç›®å¾ˆç®€å•ï¼Œæ±‚äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œé‚£ä¹ˆç›´æ¥å¥—é€’å½’è§£é¢˜ä¸‰éƒ¨æ›²æ¨¡ç‰ˆï¼š æ‰¾ç»ˆæ­¢æ¡ä»¶ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹é€’å½’ç»“æŸï¼Ÿå½“ç„¶æ˜¯æ ‘ä¸ºç©ºçš„æ—¶å€™ï¼Œæ­¤æ—¶æ ‘çš„æ·±åº¦ä¸º0ï¼Œé€’å½’å°±ç»“æŸäº†ã€‚ æ‰¾è¿”å›å€¼ã€‚ åº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿé¢˜ç›®æ±‚çš„æ˜¯æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œæˆ‘ä»¬éœ€è¦ä»æ¯ä¸€çº§å¾—åˆ°çš„ä¿¡æ¯è‡ªç„¶æ˜¯å½“å‰è¿™ä¸€çº§å¯¹åº”çš„æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œå› æ­¤æˆ‘ä»¬çš„è¿”å›å€¼åº”è¯¥æ˜¯å½“å‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œè¿™ä¸€æ­¥å¯ä»¥ç»“åˆç¬¬ä¸‰æ­¥æ¥çœ‹ã€‚ æœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆã€‚ é¦–å…ˆï¼Œè¿˜æ˜¯å¼ºè°ƒè¦èµ°å‡ºä¹‹å‰çš„æ€ç»´è¯¯åŒºï¼Œé€’å½’åæˆ‘ä»¬çœ¼é‡Œçš„æ ‘ä¸€å®šæ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œçœ‹ä¸‹å›¾ã€‚æ­¤æ—¶å°±ä¸‰ä¸ªèŠ‚ç‚¹ï¼šrootã€root.leftã€root.rightï¼Œå…¶ä¸­æ ¹æ®ç¬¬äºŒæ­¥ï¼Œroot.leftå’Œroot.rightåˆ†åˆ«è®°å½•çš„æ˜¯rootçš„å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ã€‚é‚£ä¹ˆæœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆå°±å¾ˆæ˜ç¡®äº†ï¼Œè‡ªç„¶å°±æ˜¯åœ¨rootçš„å·¦å³å­æ ‘ä¸­é€‰æ‹©è¾ƒå¤§çš„ä¸€ä¸ªï¼Œå†åŠ ä¸Š1å°±æ˜¯ä»¥rootä¸ºæ ¹çš„å­æ ‘çš„æœ€å¤§æ·±åº¦äº†ï¼Œç„¶åå†è¿”å›è¿™ä¸ªæ·±åº¦å³å¯ã€‚ å…·ä½“Javaä»£ç å¦‚ä¸‹ï¼š 12345678910111213class Solution &#123; public int maxDepth(TreeNode root) &#123; //ç»ˆæ­¢æ¡ä»¶ï¼šå½“æ ‘ä¸ºç©ºæ—¶ç»“æŸé€’å½’ï¼Œå¹¶è¿”å›å½“å‰æ·±åº¦0 if(root == null)&#123; return 0; &#125; //rootçš„å·¦ã€å³å­æ ‘çš„æœ€å¤§æ·±åº¦ int leftDepth = maxDepth(root.left); int rightDepth = maxDepth(root.right); //è¿”å›çš„æ˜¯å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦+1 return Math.max(leftDepth, rightDepth) + 1; &#125;&#125; å½“è¶³å¤Ÿç†Ÿç»ƒåï¼Œä¹Ÿå¯ä»¥å’ŒLeetcodeè¯„è®ºåŒºä¸€æ ·ï¼Œå¾ˆéªšçš„å‡ è¡Œä»£ç æå®šé—®é¢˜ï¼Œè®©ä¹‹åçš„æ–°æ‰‹çœ‹çš„ä¸€è„¸æ‡µé€¼(è¿™é“é¢˜ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä¸€è¡Œä»£ç æå®šä¸€é“Leetcodeé¢˜)ï¼š 12345class Solution &#123; public int maxDepth(TreeNode root) &#123; return root == null ? 0 : Math.max(maxDepth(root.left), maxDepth(root.right)) + 1; &#125;&#125; ä¾‹2ï¼šä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹çœ‹äº†ä¸€é“é€’å½’å¥—è·¯è§£å†³äºŒå‰æ ‘çš„é—®é¢˜åï¼Œæœ‰ç‚¹å¥—è·¯æå®šé€’å½’çš„æ„Ÿè§‰äº†å—ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹ä¸€é“Leetcodeä¸­ç­‰éš¾åº¦çš„é“¾è¡¨çš„é—®é¢˜ï¼ŒæŒæ¡å¥—è·¯åè¿™ç§ä¸­ç­‰éš¾åº¦çš„é—®é¢˜çœŸçš„å°±æ˜¯ç§’ï¼šLeetcode 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ ç›´æ¥ä¸Šä¸‰éƒ¨æ›²æ¨¡ç‰ˆï¼š æ‰¾ç»ˆæ­¢æ¡ä»¶ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹é€’å½’ç»ˆæ­¢ï¼Ÿæ²¡å¾—äº¤æ¢çš„æ—¶å€™ï¼Œé€’å½’å°±ç»ˆæ­¢äº†å‘—ã€‚å› æ­¤å½“é“¾è¡¨åªå‰©ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…æ²¡æœ‰èŠ‚ç‚¹çš„æ—¶å€™ï¼Œè‡ªç„¶é€’å½’å°±ç»ˆæ­¢äº†ã€‚ æ‰¾è¿”å›å€¼ã€‚ æˆ‘ä»¬å¸Œæœ›å‘ä¸Šä¸€çº§é€’å½’è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼Ÿç”±äºæˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå› æ­¤è‡ªç„¶å¸Œæœ›äº¤æ¢ç»™ä¸Šä¸€çº§é€’å½’çš„æ˜¯å·²ç»å®Œæˆäº¤æ¢å¤„ç†ï¼Œå³å·²ç»å¤„ç†å¥½çš„é“¾è¡¨ã€‚ æœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆã€‚ ç»“åˆç¬¬äºŒæ­¥ï¼Œçœ‹ä¸‹å›¾ï¼ç”±äºåªè€ƒè™‘æœ¬çº§é€’å½’ï¼Œæ‰€ä»¥è¿™ä¸ªé“¾è¡¨åœ¨æˆ‘ä»¬çœ¼é‡Œå…¶å®ä¹Ÿå°±ä¸‰ä¸ªèŠ‚ç‚¹ï¼šheadã€head.nextã€å·²å¤„ç†å®Œçš„é“¾è¡¨éƒ¨åˆ†ã€‚è€Œæœ¬çº§é€’å½’çš„ä»»åŠ¡ä¹Ÿå°±æ˜¯äº¤æ¢è¿™3ä¸ªèŠ‚ç‚¹ä¸­çš„å‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå°±å¾ˆeasyäº†ã€‚ é™„ä¸ŠJavaä»£ç ï¼š 123456789101112131415class Solution &#123; public ListNode swapPairs(ListNode head) &#123; //ç»ˆæ­¢æ¡ä»¶ï¼šé“¾è¡¨åªå‰©ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…æ²¡èŠ‚ç‚¹äº†ï¼Œæ²¡å¾—äº¤æ¢äº†ã€‚è¿”å›çš„æ˜¯å·²ç»å¤„ç†å¥½çš„é“¾è¡¨ if(head == null || head.next == null)&#123; return head; &#125; //ä¸€å…±ä¸‰ä¸ªèŠ‚ç‚¹:head, next, swapPairs(next.next) //ä¸‹é¢çš„ä»»åŠ¡ä¾¿æ˜¯äº¤æ¢è¿™3ä¸ªèŠ‚ç‚¹ä¸­çš„å‰ä¸¤ä¸ªèŠ‚ç‚¹ ListNode next = head.next; head.next = swapPairs(next.next); next.next = head; //æ ¹æ®ç¬¬äºŒæ­¥ï¼šè¿”å›ç»™ä¸Šä¸€çº§çš„æ˜¯å½“å‰å·²ç»å®Œæˆäº¤æ¢åï¼Œå³å¤„ç†å¥½äº†çš„é“¾è¡¨éƒ¨åˆ† return next; &#125;&#125; ä¾‹3ï¼šå¹³è¡¡äºŒå‰æ ‘ç›¸ä¿¡ç»è¿‡ä»¥ä¸Š2é“é¢˜ï¼Œä½ å·²ç»å¤§æ¦‚ç†è§£äº†è¿™ä¸ªæ¨¡ç‰ˆçš„è§£é¢˜æµç¨‹äº†ã€‚ é‚£ä¹ˆè¯·ä½ å…ˆä¸çœ‹ä»¥ä¸‹éƒ¨åˆ†ï¼Œå°è¯•è§£å†³ä¸€ä¸‹è¿™é“easyéš¾åº¦çš„Leetcodeé¢˜ï¼ˆä¸ªäººè§‰å¾—æ­¤é¢˜æ¯”ä¸Šé¢çš„mediuméš¾åº¦è¦éš¾ï¼‰ï¼šLeetcode 110. å¹³è¡¡äºŒå‰æ ‘ æˆ‘è§‰å¾—è¿™ä¸ªé¢˜çœŸçš„æ˜¯é›†åˆäº†æ¨¡ç‰ˆçš„ç²¾é«“æ‰€åœ¨ï¼Œä¸‹é¢å¥—ä¸‰éƒ¨æ›²æ¨¡ç‰ˆï¼š æ‰¾ç»ˆæ­¢æ¡ä»¶ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹é€’å½’åº”è¯¥ç»ˆæ­¢ï¼Ÿè‡ªç„¶æ˜¯å­æ ‘ä¸ºç©ºçš„æ—¶å€™ï¼Œç©ºæ ‘è‡ªç„¶æ˜¯å¹³è¡¡äºŒå‰æ ‘äº†ã€‚ åº”è¯¥è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼š ä¸ºä»€ä¹ˆæˆ‘è¯´è¿™ä¸ªé¢˜æ˜¯é›†åˆäº†æ¨¡ç‰ˆç²¾é«“ï¼Ÿæ­£æ˜¯å› ä¸ºæ­¤é¢˜çš„è¿”å›å€¼ã€‚è¦çŸ¥é“æˆ‘ä»¬æè¿™ä¹ˆå¤šèŠ±é‡Œèƒ¡å“¨çš„ï¼Œéƒ½æ˜¯ä¸ºäº†èƒ½å†™å‡ºæ­£ç¡®çš„é€’å½’å‡½æ•°ï¼Œå› æ­¤åœ¨è§£è¿™ä¸ªé¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦æ€è€ƒï¼Œæˆ‘ä»¬åˆ°åº•å¸Œæœ›è¿”å›ä»€ä¹ˆå€¼ï¼Ÿ ä½•ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼Ÿå¹³è¡¡äºŒå‰æ ‘å³å·¦å³ä¸¤æ£µå­æ ‘é«˜åº¦å·®ä¸å¤§äº1çš„äºŒå‰æ ‘ã€‚è€Œå¯¹äºä¸€é¢—æ ‘ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹³è¡¡äºŒå‰æ ‘éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼šå®ƒçš„å·¦å­æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒçš„å³å­æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å³å­æ ‘çš„é«˜åº¦å·®ä¸å¤§äº1ã€‚æ¢å¥è¯è¯´ï¼šå¦‚æœå®ƒçš„å·¦å­æ ‘æˆ–å³å­æ ‘ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œæˆ–è€…å®ƒçš„å·¦å³å­æ ‘é«˜åº¦å·®å¤§äº1ï¼Œé‚£ä¹ˆå®ƒå°±ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚ è€Œåœ¨æˆ‘ä»¬çœ¼é‡Œï¼Œè¿™é¢—äºŒå‰æ ‘å°±3ä¸ªèŠ‚ç‚¹ï¼šrootã€leftã€rightã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥è¿”å›ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœè¿”å›ä¸€ä¸ªå½“å‰æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘çš„booleanç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘åªçŸ¥é“leftå’Œrightè¿™ä¸¤æ£µæ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œæ— æ³•å¾—å‡ºleftå’Œrightçš„é«˜åº¦å·®æ˜¯å¦ä¸å¤§äº1ï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•å¾—å‡ºrootè¿™æ£µæ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘äº†ã€‚è€Œå¦‚æœæˆ‘è¿”å›çš„æ˜¯ä¸€ä¸ªå¹³è¡¡äºŒå‰æ ‘çš„é«˜åº¦çš„intç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘å°±åªçŸ¥é“ä¸¤æ£µæ ‘çš„é«˜åº¦ï¼Œä½†æ— æ³•çŸ¥é“è¿™ä¸¤æ£µæ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æ³•åˆ¤æ–­rootè¿™æ£µæ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘äº†ã€‚ å› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬è¿”å›çš„ä¿¡æ¯åº”è¯¥æ˜¯æ—¢åŒ…å«å­æ ‘çš„æ·±åº¦çš„intç±»å‹çš„å€¼ï¼ŒåˆåŒ…å«å­æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘çš„booleanç±»å‹çš„å€¼ã€‚å¯ä»¥å•ç‹¬å®šä¹‰ä¸€ä¸ªReturnNodeç±»ï¼Œå¦‚ä¸‹ï¼š 123456789class ReturnNode&#123; boolean isB; int depth; //æ„é€ æ–¹æ³• public ReturnNode(boolean isB, int depth)&#123; this.isB = isB; this.depth = depth; &#125;&#125; æœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆã€‚ çŸ¥é“äº†ç¬¬äºŒæ­¥çš„è¿”å›å€¼åï¼Œè¿™ä¸€æ­¥å°±å¾ˆç®€å•äº†ã€‚ç›®å‰æ ‘æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼šrootï¼Œleftï¼Œrightã€‚æˆ‘ä»¬é¦–å…ˆåˆ¤æ–­leftå­æ ‘å’Œrightå­æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå¦‚æœä¸æ˜¯åˆ™ç›´æ¥è¿”å›falseã€‚å†åˆ¤æ–­ä¸¤æ ‘é«˜åº¦å·®æ˜¯å¦ä¸å¤§äº1ï¼Œå¦‚æœå¤§äº1ä¹Ÿç›´æ¥è¿”å›falseã€‚å¦åˆ™è¯´æ˜ä»¥rootä¸ºèŠ‚ç‚¹çš„å­æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œé‚£ä¹ˆå°±è¿”å›trueå’Œå®ƒçš„é«˜åº¦ã€‚ å…·ä½“çš„Javaä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536class Solution &#123; //è¿™ä¸ªReturnNodeæ˜¯å‚è€ƒæˆ‘æè¿°çš„é€’å½’å¥—è·¯çš„ç¬¬äºŒæ­¥ï¼šæ€è€ƒè¿”å›å€¼æ˜¯ä»€ä¹ˆ //ä¸€æ£µæ ‘æ˜¯BSTç­‰ä»·äºå®ƒçš„å·¦ã€å³ä¿©å­æ ‘éƒ½æ˜¯BSTä¸”ä¿©å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1 //å› æ­¤æˆ‘è®¤ä¸ºè¿”å›å€¼åº”è¯¥åŒ…å«å½“å‰æ ‘æ˜¯å¦æ˜¯BSTå’Œå½“å‰æ ‘çš„é«˜åº¦è¿™ä¸¤ä¸ªä¿¡æ¯ private class ReturnNode&#123; boolean isB; int depth; public ReturnNode(int depth, boolean isB)&#123; this.isB = isB; this.depth = depth; &#125; &#125; //ä¸»å‡½æ•° public boolean isBalanced(TreeNode root) &#123; return isBST(root).isB; &#125; //å‚è€ƒé€’å½’å¥—è·¯çš„ç¬¬ä¸‰éƒ¨ï¼šæè¿°å•æ¬¡æ‰§è¡Œè¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ //è¿™é‡Œçš„å•æ¬¡æ‰§è¡Œè¿‡ç¨‹å…·ä½“å¦‚ä¸‹ï¼š //æ˜¯å¦ç»ˆæ­¢?-&gt;æ²¡ç»ˆæ­¢çš„è¯ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³ä¸å¹³è¡¡çš„ä¸‰ä¸ªæ¡ä»¶-&gt;è¿”å›å€¼ public ReturnNode isBST(TreeNode root)&#123; if(root == null)&#123; return new ReturnNode(0, true); &#125; //ä¸å¹³è¡¡çš„æƒ…å†µæœ‰3ç§ï¼šå·¦æ ‘ä¸å¹³è¡¡ã€å³æ ‘ä¸å¹³è¡¡ã€å·¦æ ‘å’Œå³æ ‘å·®çš„ç»å¯¹å€¼å¤§äº1 ReturnNode left = isBST(root.left); ReturnNode right = isBST(root.right); if(left.isB == false || right.isB == false)&#123; return new ReturnNode(0, false); &#125; if(Math.abs(left.depth - right.depth) &gt; 1)&#123; return new ReturnNode(0, false); &#125; //ä¸æ»¡è¶³ä¸Šé¢3ç§æƒ…å†µï¼Œè¯´æ˜å¹³è¡¡äº†ï¼Œæ ‘çš„æ·±åº¦ä¸ºå·¦å³ä¿©å­æ ‘æœ€å¤§æ·±åº¦+1 return new ReturnNode(Math.max(left.depth, right.depth) + 1, true); &#125;&#125; ä¸€äº›å¯ä»¥ç”¨è¿™ä¸ªå¥—è·¯è§£å†³çš„é¢˜æš‚æ—¶å°±å†™è¿™ä¹ˆå¤šå•¦ï¼Œä½œä¸ºä¸€ä¸ªé«˜è€ƒè¯­æ–‡åŠæ ¼åˆ†ï¼Œå¤§å­¦åˆå­¦äº†å·¥ç§‘çš„äººï¼Œè¡¨è¿°èƒ½åŠ›å®åœ¨å·®å› æ­¤å•°å•°å—¦å—¦å†™äº†ä¸€å¤§å †ï¼Œå¸Œæœ›å¤§å®¶èƒ½ç†è§£è¿™ä¸ªå¾ˆå¥½ç”¨çš„å¥—è·¯ã€‚ ä¸‹é¢æˆ‘å†åˆ—ä¸¾å‡ é“æˆ‘åœ¨åˆ·é¢˜è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¹Ÿæ˜¯ç”¨è¿™ä¸ªå¥—è·¯ç§’çš„é¢˜ï¼ŒçœŸçš„å¤ªå¤šäº†ï¼Œå¤§éƒ¨åˆ†é“¾è¡¨å’Œæ ‘çš„é€’å½’é¢˜éƒ½èƒ½è¿™ä¹ˆç§’ï¼Œå› ä¸ºæ ‘å’Œé“¾è¡¨å¤©ç”Ÿå°±æ˜¯é€‚åˆé€’å½’çš„ç»“æ„ã€‚ æˆ‘ä¼šéšæ—¶è¡¥å……ï¼Œæ­£å¥½å¤§å®¶å¯ä»¥çœ‹äº†ä¸Šé¢ä¸‰ä¸ªé¢˜åå¯ä»¥æ‹¿è¿™äº›é¢˜æ¥ç»ƒç»ƒæ‰‹ï¼Œçœ‹çœ‹è‡ªå·±æ˜¯å¦èƒ½ç‹¬ç«‹å¿«é€Ÿå‡†ç¡®çš„å†™å‡ºé€’å½’è§£æ³•äº†ã€‚ Leetcode 101. å¯¹ç§°äºŒå‰æ ‘ Leetcode 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ Leetcode 226. ç¿»è½¬äºŒå‰æ ‘ï¼šè¿™ä¸ªé¢˜çš„å¤‡æ³¨æ˜¯æœ€éªšçš„ã€‚Mac OSä¸‹è½½ç¥å™¨homebrewçš„å¤§ä½¬ä½œè€…å»é¢è¯•è°·æ­Œï¼Œæ²¡åšå‡ºæ¥è¿™é“ç®—æ³•é¢˜ï¼Œç„¶åè¢«è°·æ­Œé¢è¯•å®˜æ€¼äº†ï¼šâ€æˆ‘ä»¬90ï¼…çš„å·¥ç¨‹å¸ˆä½¿ç”¨æ‚¨ç¼–å†™çš„è½¯ä»¶(Homebrew)ï¼Œä½†æ˜¯æ‚¨å´æ— æ³•åœ¨é¢è¯•æ—¶åœ¨ç™½æ¿ä¸Šå†™å‡ºç¿»è½¬äºŒå‰æ ‘è¿™é“é¢˜ï¼Œè¿™å¤ªç³Ÿç³•äº†ã€‚â€ Leetcode 617. åˆå¹¶äºŒå‰æ ‘ Leetcode 654. æœ€å¤§äºŒå‰æ ‘ Leetcode 83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  Leetcode 206. ç¿»è½¬é“¾è¡¨]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>recrusion</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†å¹´é¢ç»æ€»ç»“]]></title>
    <url>%2F2019%2F12%2F27%2F%E5%8E%86%E5%B9%B4%E9%9D%A2%E7%BB%8F%E6%80%BB%E7%BB%93.html</url>
    <content type="text"><![CDATA[å¿«æ‰‹ç¯‡æ•°æ®ç»“æ„ è¯´è¯´B+æ ‘å’ŒBæ ‘çš„åŒºåˆ«ï¼Œä¼˜ç¼ºç‚¹ç­‰ï¼Ÿ ç»æœ‰ä¸€ä¸ªæŸ¥è¯¢å¥½å‹çš„æ¥å£ï¼Œè®¾è®¡ä¸€ä¸ªå¾®ä¿¡æœ‹å‹åœˆï¼Œå¯ä»¥å®ç°å‘è¡¨æœ‹å‹åœˆï¼Œæ·»åŠ è¯„è®ºï¼ŒæŸ¥çœ‹è¯„è®ºç­‰åŠŸèƒ½ã€‚ä¸»è¦æ˜¯è®¾è®¡æ•°æ®ç»“æ„ æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œ TCPä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ä¸­æœåŠ¡ç«¯çš„å“ªå‡ ç§çŠ¶æ€ï¼Œå“ªå‡ ç§åŒ… ç®—æ³• ç®—æ³•é¢˜ï¼šæ— åºæ•°åˆ—ä¸­æ±‚ç¬¬kå¤§çš„æ•°(ç»´æŠ¤æœ€å°å †ï¼Œç„¶åä¾æ¬¡éå†ï¼Œä¸å †é¡¶æ¯”è¾ƒ å†™ä¸€ä¸ªé€‰æ‹©æ’åºæˆ–è€…æ’å…¥æ’åº å†™ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€… ä¸€ä¸ªäºŒç»´çŸ©é˜µè¿›è¡Œé€†ç½®æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¡Œå˜åˆ—åˆ—å˜è¡Œã€‚æ‰©å±•ä¸€ä¸‹ï¼ŒäºŒç»´æ•°ç»„å­˜åœ¨500gçš„æ–‡ä»¶ä¸­ï¼Œæ€ä¹ˆåšæ‰èƒ½å®Œæˆä¸Šé¢ç®—æ³•çš„æ“ä½œï¼Œæˆ‘å°±è¯´å…ˆæŒ‰è¡Œæ‹†åˆ†ï¼Œæœ€åå†æ‹¼æ¥ã€‚ javaåŸºç¡€ HashMapçš„åº•å±‚æ•°æ®ç»“æ„ HashMapå“ˆå¸Œå‡½æ•°çš„è®¤è¯†ï¼ŒJDK1.8é‡‡ç”¨çš„hashå‡½æ•° å¤šçº¿ç¨‹ å¤šçº¿ç¨‹JUCåŒ…ä¸‹çš„ä¸€äº›å¸¸è§çš„ç±»ï¼Œæ¯”å¦‚CountDownLatchã€Semaphoreç­‰ é”çš„æ¦‚å¿µï¼Œé”ç›¸å…³çš„å…³é”®å­—ï¼Œvolatileï¼Œsynchronizedã€‚è¿˜æ¯”è¾ƒäº†ReentrantLockä¸synchronizedã€‚ çº¿ç¨‹æ± æœ‰å“ªäº›å‚æ•°ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆç”¨ï¼Ÿå¦‚æœä»»åŠ¡æ•°è¶…è¿‡çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿé˜»å¡é˜Ÿåˆ—å¤§å°æ˜¯å¤šå°‘ï¼Ÿ æ€ä¹ˆå®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„è®¡æ•°å™¨ï¼Ÿ æ¥ç€èŠConcurrentHashMapï¼Œåº•å±‚å®ç° Javaå¤šçº¿ç¨‹äº†è§£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ä¸€ä¸ªintï¼Œç±»å‹çš„æ“ä½œæ˜¯ä¸å®‰å…¨çš„ï¼Œè‡ªåŠ å‘¢ï¼Œèµ‹å€¼å‘¢ã€‚å¦‚æœä½¿ç”¨volatileä¿®é¥°çš„è¯æœ‰ä»€ä¹ˆä½œç”¨ã€‚ æœ‰ä¸€ä¸ªåœºæ™¯ï¼Œå¤šçº¿ç¨‹å¹¶å‘ï¼Œä¸ºæ¯ä¸ªçº¿ç¨‹å®‰æ’ä¸€ä¸ªéšæœºçš„ç¡çœ æ—¶é—´ï¼Œè®¾æƒ³ä¸€ç§æ•°æ®ç»“æ„å»å”¤é†’ç¡çœ æ—¶é—´ç»“æŸçš„çº¿ç¨‹ï¼Œåº”è¯¥ç”¨å“ªç§ç»“æ„ï¼Œç­”åº”è¯¥ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯å°é¡¶å †ï¼Œé¡¶éƒ¨æ˜¯å‰©ä½™ç¡çœ æ—¶é—´æœ€çŸ­çš„é‚£ä¸ªçº¿ç¨‹ã€‚ JVM ä½ äº†è§£å“ªäº›æ”¶é›†å™¨ï¼ŸCMSå’ŒG1ã€‚è¯¦ç»†è°ˆè°ˆG1çš„ä¼˜ç‚¹ï¼Ÿä»€ä¹ˆæ—¶å€™è¿›è¡ŒFull GCå‘¢ï¼Ÿ æ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ Springä¸­æ¶‰åŠçš„ä¸€äº›è®¾è®¡æ¨¡å¼ èŠèŠSpringï¼Œä¸»è¦IOCç­‰ç­‰ æ•°æ®åº“ MySQLåˆ›å»ºç´¢å¼•çš„åŸåˆ™ï¼Œå¥½å¤„ æ•°æ®åº“ç´¢å¼•ï¼Œç´¢å¼•åº•å±‚çš„å®ç°ï¼ŒB+æ ‘çš„ç»“æ„ä»¥åŠä¸æ™®é€šæŸ¥æ‰¾æ ‘çš„ä¼˜ç‚¹ MySQLå’Œredisçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ ä¸ºä»€ä¹ˆMySQLå’ŒRediséƒ½è¦ä½¿ç”¨ç‹¬ç«‹è¿›ç¨‹æ¥éƒ¨ç½²ï¼Œå¼€æ”¾ç«¯å£æ¥æä¾›æœåŠ¡ï¼Œä¸ºä»€ä¹ˆä¸å†™åœ¨å†…æ ¸ä¸­ã€‚ å…¶ä»– è®¾è®¡æ¨¡å¼ï¼šè®²äº†å•ä¾‹ï¼Œå·¥å‚æ–¹æ³•ï¼ŒæŠ½è±¡å·¥å‚ï¼Œç­–ç•¥æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ï¼Œè¿˜é¡ºä¾¿è®²äº†ä¸‹springåŠ¨æ€ä»£ç†çš„å®ç°åŸç† çº¢é»‘æ ‘çš„å…·ä½“ç»“æ„åŠå®ç°ï¼Œçº¢é»‘æ ‘ä¸æŸ¥æ‰¾æ ‘çš„åŒºåˆ«ä½“ç° é¡¹ç›®ä¸­ç”¨åˆ°dubboï¼Ÿé‚£ä½ è¯´è¯´ä»€ä¹ˆæ˜¯rpcæ¡†æ¶ï¼Ÿå’Œhttpè°ƒç”¨çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ Redisæœ‰å“ªäº›æ•°æ®ç»“æ„ï¼ŸæŒä¹…åŒ–æ–¹æ¡ˆå’ŒåŒºåˆ«ï¼Ÿ Rediså“¨å…µã€é›†ç¾¤çš„è®¾è®¡åŸç†å’ŒåŒºåˆ«ï¼Ÿ Redisç¼“å­˜å’Œæ•°æ®åº“ä¼šå­˜åœ¨ä¸€è‡´æ€§é—®é¢˜å—ï¼Ÿæ€ä¹ˆè§£å†³ Kafkaæ€ä¹ˆä¿è¯æ•°æ®å¯é æ€§ï¼Ÿè®²äº†ç”Ÿäº§è€…ç«¯å‘é€æ¶ˆæ¯åˆ°brokeræŒä¹…åŒ–ï¼Œåˆ†åŒºå’Œå‰¯æœ¬æœºåˆ¶ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯çš„at-least-onceå’Œat-most-onceï¼Ÿæ€ä¹ˆå®ç°Exactly-Onceï¼Ÿ å­—èŠ‚ç¯‡æ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿ ç”¨æˆ·æ€å¦‚ä½•åˆ‡æ¢åˆ°å†…æ ¸æ€ è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼ï¼Œå“ªç§æœ€å¿« ä¿¡å·é‡æ€ä¹ˆå®ç°å¯¹å…±äº«èµ„æºçš„è®¿é—® selectå’Œepoll è®¡ç®—æœºç½‘ç»œ TCPçš„æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ ä¸åŒå­ç½‘å¯ä»¥é€šè¿‡ARPè·å–macåœ°å€å— æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€åˆ°è·å¾—é¡µé¢çš„å…¨è¿‡ç¨‹ è¾“å…¥ www.baidu.comï¼Œæ€ä¹ˆå˜æˆ https://www.baidu.com çš„ï¼Œæ€ä¹ˆç¡®å®šç”¨HTTPè¿˜æ˜¯HTTPS ä¸‰æ¬¡æ¡æ‰‹ æ¡æ‰‹æ—¶äº§ç”Ÿçš„åºåˆ—å·å¹²ä»€ä¹ˆç”¨çš„ è®²ä¸€ä¸‹æ¥æ”¶çª—å£ TCPå’ŒUDPçš„æœ¬è´¨åŒºåˆ« ä»€ä¹ˆæ—¶å€™é€‰æ‹©TCP/UDP HTTPSçš„è¿æ¥è¿‡ç¨‹ 7å±‚æ¨¡å‹å’Œ4å±‚æ¨¡å‹ï¼Œæ¯ä¸€å±‚æœ‰å“ªäº›å¸¸è§åè®®ï¼Ÿ è·¯ç”±å™¨/äº¤æ¢æœºæ˜¯å“ªä¸€å±‚ ç½‘ç»œå±‚ç”¨æ¥å¹²å˜›ï¼Ÿä¼ è¾“å±‚ç”¨æ¥å¹²å˜›ï¼Ÿ HTTPå¯ä»¥ä½¿ç”¨UDPå— HTTPSæ€ä¹ˆç¡®è®¤æ”¶åˆ°çš„åŒ…å°±æ˜¯æœåŠ¡å™¨å‘æ¥çš„ ç¡®å®šå‘é€çª—å£çš„å¤§å°ï¼Œå¦‚ä½•æœ€å¤§åˆ©ç”¨å¸¦å®½ï¼Œå‡è®¾å»¶è¿Ÿ100msï¼Œå‘é€ç«¯10Mb/sï¼Œæ¥æ”¶ç«¯100Mb/s ç½‘ç»œäº”å±‚æ¨¡å‹ï¼Œæ¯ä¸€å±‚åˆ†åˆ«æœ‰å“ªäº›åè®® ICMPï¼ŒTCPï¼ŒIPï¼ŒHTTPåˆ†åˆ«æ˜¯å“ªä¸€å±‚ï¼Œä¸ºä»€ä¹ˆç½‘ç»œæ¨¡å‹è¦åˆ†å±‚ï¼Œæ¯ä¸€å±‚ä¹‹é—´æ€ä¹ˆä¼ é€’ httpå¤´é‡Œçš„gzip åå‘***è¯´ä¸€ä¸‹ ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡ï¼Œæ¯ä¸€æ¬¡åˆ†åˆ«ç¡®è®¤äº†ä»€ä¹ˆ TCPåè®®çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼Ÿ ç®—æ³• æ±‚xçš„yæ¬¡æ–¹ï¼Œæƒ³å‡ºæ¯”ç›´æ¥forå¾ªç¯æ›´å¥½çš„æ–¹æ¡ˆ æ±‚ç»å¯¹ä¼—æ•° ç®—æ³•é¢˜ï¼šçº¢è“ä¸¤ç§çƒï¼Œæ€»å…±Nä¸ªï¼Œ N&gt;2, æ’åˆ—ç»„åˆï¼Œè¿ç»­3ä¸ªé¢œè‰²ä¸€æ ·æ˜¯éæ³•çš„ï¼Œæ±‚åˆæ³•çš„æ’åˆ—æ•°é‡ æè¿°ä¸€ä¸‹å †æ’çš„è¿‡ç¨‹ï¼Ÿå»ºå †çš„æ—¶é—´å¤æ‚åº¦ï¼Ÿæœ€å¤§å †ä¸­æ±‚å‰kä¸ªæœ€å¤§å€¼çš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ ç®—æ³•é¢˜ï¼šæµ·å²›é¢ç§¯è®¡ç®—é¢˜ï¼Œç»™ä¸€ä¸ªçŸ©é˜µï¼Œ0è¡¨ç¤ºæµ·æ°´ï¼Œç›¸è¿çš„1è¡¨ç¤ºæµ·å²›ï¼Œä¸Šä¸‹å·¦å³è¡¨ç¤ºç›¸è¿ã€‚000111101110001ï¼ˆ1ï¼‰æ±‚æœ€å¤§æµ·å²›é¢ç§¯ã€‚ï¼ˆ2ï¼‰æ±‚æœ€å¤§æµ·å²›é¢ç§¯å’Œå¯¹åº”æµ·å²›çš„æ‰€æœ‰åæ ‡ã€‚ï¼ˆ3ï¼‰æ±‚æ‰€æœ‰æµ·å²›çš„æ‰€æœ‰åæ ‡ï¼ŒæŒ‰æµ·å²›åˆ†ã€‚æ¯å°é¢˜è®²æ€è·¯ï¼Œæœ€åå†™ç¬¬äºŒé¢˜ã€‚ javaåŸºç¡€ Beançš„é»˜è®¤ä½œç”¨èŒƒå›´æ˜¯ä»€ä¹ˆï¼Ÿå…¶ä»–çš„ä½œç”¨èŒƒå›´ï¼Ÿ å¹³å¸¸ç”¨çº¿ç¨‹ä¸»è¦æ˜¯æ€ä¹ˆå†™çš„ï¼Œä¼šç”¨ä¸€äº›çº¿ç¨‹æ¡†æ¶å—ï¼Ÿï¼ˆæ²¡æœ‰ç”¨æ¡†æ¶ï¼‰Javaçº¿ç¨‹æ± çš„æ¦‚å¿µï¼Ÿçº¿ç¨‹æ± æœ‰å“ªäº›ï¼Ÿçº¿ç¨‹æ± å·¥å‚æœ‰å“ªäº›çº¿ç¨‹æ± ç±»å‹ï¼ŒåŠå…¶çº¿ç¨‹æ± å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ ConcurrentHashMapè®²ä¸€è®²ï¼Ÿ Java binåŒ…ä¸‹é¢çš„å·¥å…·ç”¨è¿‡å“ªäº›ï¼Ÿ åŒæ­¥IOå’Œå¼‚æ­¥IOçš„åŒºåˆ«ï¼Ÿ çº¿ç¨‹å¦‚ä½•å®ç°åŒæ­¥ï¼Ÿ ConcurrentHashMap åœ¨Java7å’ŒJava8ä¸­çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆJava8å¹¶å‘æ•ˆç‡æ›´å¥½ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ç”¨HashMapï¼Œä»€ä¹ˆæƒ…å†µç”¨ConcurrentHashMapï¼Ÿ åŠ é”æœ‰ä»€ä¹ˆæœºåˆ¶ï¼Ÿ ThreadLocalï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ å¤šçº¿ç¨‹JVM Java GCæœºåˆ¶ï¼ŸGC Rootsæœ‰å“ªäº›ï¼Ÿ æ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ å¾®æœåŠ¡æ³¨å†Œå‘ç°ï¼Œä¸ºä»€ä¹ˆç”¨å¾®æœåŠ¡ï¼Œgrpcï¼Œprotobufï¼Œdubboè®²ä¸€ä¸‹ IoCæ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿ Webå®¹å™¨ç”¨çš„ä»€ä¹ˆï¼Ÿä½ é¡¹ç›®é‡Œæ¶‰åŠäº†SSMæ¡†æ¶ï¼Œä¸€ä¸ªè¯·æ±‚åˆ°Tomcatå®¹å™¨äº†ï¼Œæ€ä¹ˆåˆ°SSMä»£ç ä¸­å»ï¼Ÿ æ•°æ®åº“ äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ å››ç§éš”ç¦»çº§åˆ« ä»€ä¹ˆæ˜¯å¹»è¯» InnoDB æ€ä¹ˆé˜²æ­¢å¹»è¯» B+æ ‘åŸç†ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨B+è€Œä¸æ˜¯äºŒå‰å¹³è¡¡æ ‘ 1000ä¸‡ä¸ªobjectçš„æ–‡ä»¶ï¼Œæœ‰ABCä¸‰ä¸ªdate memberï¼Œæ€ä¹ˆæ ¹æ®ABCçš„æ¡ä»¶æŸ¥è¯¢æ¯”è¾ƒå¿« è”åˆç´¢å¼• ç´¢å¼•æ˜¯ä»€ä¹ˆæ¦‚å¿µæœ‰ä»€ä¹ˆä½œç”¨ï¼ŸMySQLé‡Œä¸»è¦æœ‰å“ªäº›ç´¢å¼•ç»“æ„ï¼Ÿå“ˆå¸Œç´¢å¼•å’ŒB+æ ‘ç´¢å¼•æ¯”è¾ƒï¼Ÿ MySQLäº†è§£åˆ°ä»€ä¹ˆç¨‹åº¦ï¼ŸbinLogçŸ¥é“å—ï¼Ÿ å…¶ä»– redisåˆ†å¸ƒå¼é”ä¸¤ç§å®ç° æ€ä¹ˆç†è§£å¾®æœåŠ¡ ä»€ä¹ˆæ˜¯Pythonç”Ÿæˆå™¨ï¼Œè¿­ä»£å™¨ï¼› ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼› æµè§ˆå™¨ç¼“å­˜ã€CPUçš„ç¼“å­˜å’ŒRedisçš„ç¼“å­˜çš„å…³ç³»ï¼Œä¸ºä»€ä¹ˆè¦æœ‰ç¼“å­˜ å…ƒç»„å’Œlistçš„åŒºåˆ«ï¼› Pythonä¸­çš„dictåº•å±‚æ€ä¹ˆå®ç°çš„ listçš„åº•å±‚æ€ä¹ˆå®ç°çš„ï¼› åŒç­‰äºå’Œisæœ‰ä»€ä¹ˆåŒºåˆ« JSONå’ŒprotobufåŒºåˆ« BloomFilterå¹²å˜›çš„ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ REST apiå’ŒRPC ä¸ºä»€ä¹ˆprotobufæ•ˆç‡æ›´é«˜ï¼ŒJSONç¼ºç‚¹ 1000ä¸‡æ¡ç›¸åŒclassæ ¼å¼objectç»„æˆçš„jsonï¼Œæ€ä¹ˆå‹ç¼© 123456789è®¾è®¡é¢˜ï¼šä¸€ä¸ªæ•°æ®åº“å­˜äº†ä»¥ä¸‹æ•°æ®ï¼šç”¨æˆ·idï¼Œç™»å½•æ—¶é—´ï¼Œç™»å‡ºæ—¶é—´ï¼›å¦‚ä½•æ‰¾åˆ°ä¸€å¤©å½“ä¸­çš„ç”¨æˆ·å³°å€¼ï¼ˆç”¨ä¸€ä¸ªhash mapå­˜æ‰€æœ‰ç§’æ•°çš„åœ¨çº¿äººæ•°ï¼‰ä¸ºä»€ä¹ˆè¦åˆ†ç”¨æˆ·æ€å’Œå†…æ ¸æ€Git åˆ‡æ¢åˆ†æ”¯ï¼Œæäº¤ï¼Œå…·ä½“å¦‚ä½•åˆå¹¶åˆ†æ”¯Pythonå¤šçº¿ç¨‹ç”¨äº†å‡ ä¸ªCPUç®—æ³•ï¼šäºŒå‰æ ‘ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸ºnçš„è·¯å¾„ï¼ˆå¯ä»¥ä»ä¸­é—´ç»“ç‚¹åˆ°ä¸­é—´ç»“ç‚¹ï¼‰ é˜¿é‡Œæ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³• çº¢é»‘æ ‘ã€äºŒå‰æ ‘çš„ç®—æ³• javaåŸºç¡€ Servletè§„èŒƒäº†è§£å—ï¼ŸServletçš„æ•´ä¸ªä¸šåŠ¡æµç¨‹ï¼Ÿsessionå’Œcookieçš„åŒºåˆ«ï¼Ÿsessionæ€ä¹ˆå˜æˆcookieï¼Œæ€ä¹ˆå˜å›sessionï¼Ÿè°æ¥å®ç°æ•´ä¸ªæµç¨‹ï¼Ÿ åˆšæ‰æåˆ°çš„åˆ†å¸ƒå¼å®ç°å¤šä¸ªåº”ç”¨çš„Sessionå…±äº«é—®é¢˜ï¼Ÿ å¤šçº¿ç¨‹JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ é¡¹ç›®æåˆ°çš„SSMæ¡†æ¶é‡Œé¢äº†è§£å“ªäº›ï¼ŸSpring IoCä¸­Beançš„ç”Ÿå‘½å‘¨æœŸï¼Ÿè°æ¥ç®¡ç†Beançš„ç”Ÿå‘½å‘¨æœŸï¼ŸBeanFactoryå’ŒApplicationContextçš„å…³ç³»ï¼Ÿ@Autowiredå’Œ@Resourceçš„åŒºåˆ«ï¼Ÿ Springçš„è‡ªåŠ¨æ‰«ææ€ä¹ˆå®ç°çš„ï¼Ÿè°å®ç°çš„ï¼Ÿ MyBatisä»‹ç»ä¸€ä¸‹ï¼Ÿä½ è¯´åˆ°è¿™æ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶ï¼Œé‚£ä½ äº†è§£JPAè§„èŒƒå—ï¼Ÿ æ•°æ®åº“å…¶ä»– UMLäº†è§£å—ï¼Ÿï¼ˆä¸ä¼šï¼‰è®¾è®¡æ¨¡å¼ï¼Ÿ Zookeeperäº†è§£å—ï¼Ÿ å•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€***æ¨¡å¼â€¦â€¦å•ä¾‹æ¨¡å¼æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„å—ï¼Ÿï¼ˆå¤šçº¿ç¨‹å¹¶å‘é—®é¢˜ï¼šsynchronized+volatileï¼‰ä½ å†™å•ä¾‹çš„æ—¶å€™å¦‚æœè¿™ä¸ªå•ä¾‹å¯¹è±¡æœ‰å­—æ®µå€¼ï¼Œä½ ä¼šå»æ”¹å˜è¿™äº›å­—æ®µå€¼å—ï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿ é¹…å‚æ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œ httpä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ HTTPå¸¸è§é”™è¯¯ç ï¼ŸTCPä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ ç®—æ³• æµ·é‡æ•°æ®å¯»æ‰¾TopK æµ·é‡æ•°æ®æ’åº 16Gçš„æ–‡ä»¶å‚¨å­˜çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¦æ±‚åªç”¨1Gå†…å­˜æŠŠä»–ä»¬æ’å¥½åºã€‚ æ’åºç®—æ³•äº†è§£å“ªäº›ï¼ŸJavaé‡Œå†…ç½®çš„æ˜¯ç”¨ä»€ä¹ˆæ’åºæ–¹æ³•ï¼Ÿå¿«æ’æ˜¯ç¨³å®šçš„å—ï¼Ÿå¿«æ’æ’å¯¹è±¡çš„æ—¶å€™æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆæç¤ºæˆ‘ï¼Œä¸‰ä¸ªå­—æ®µï¼Œç¬¬ä¸€ä¸ªå­—æ®µå’Œç¬¬äºŒä¸ªå­—æ®µåšhashï¼Œç¬¬ä¸‰ä¸ªä¸åšï¼Œè¿˜æ˜¯ä¸å¤ªæ‡‚ï¼‰ åäº¿ä¸ªIPï¼Œè·å¾—è®¿é—®æ¬¡æ•°æœ€å¤šçš„åä¸ªã€‚ äº”ä¸ªå•è¯ï¼Œåœ¨ä¸€ä¸ªé•¿æ–‡æœ¬ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ã€‚ å¿«é€Ÿæ’åºç®—æ³• javaåŸºç¡€ Javaä¸­å„ç§é”èŠä¸€ä¸‹ï¼ŒCASæœºåˆ¶ã€‚ stlè¯´ä¸€ä¸‹ï¼ŒmapåŸç†ï¼Œæ—¶é—´å¤æ‚åº¦ HashMapæœ‰äº†è§£å—ï¼ŸHashMapçš„æ—¶é—´å¤æ‚åº¦ï¼ŸHashMapä¸­Hashå†²çªæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿé“¾è¡¨çš„ä¸Šä¸€çº§ç»“æ„æ˜¯ä»€ä¹ˆï¼ŸJava8ä¸­çš„HashMapæœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿçº¢é»‘æ ‘éœ€è¦æ¯”è¾ƒå¤§å°æ‰èƒ½è¿›è¡Œæ’å…¥ï¼Œæ˜¯ä¾æ®ä»€ä¹ˆè¿›è¡Œæ¯”è¾ƒçš„ï¼Ÿå…¶ä»–Hashå†²çªè§£å†³æ–¹å¼ï¼Ÿ å®ç°çº¿ç¨‹å®‰å…¨çš„æ–¹å¼ï¼ŸThreadLocalåŸç†ï¼Ÿçº¿ç¨‹æ± äº†è§£å—è¯´è¯´çœ‹ï¼Ÿè‡ªå·±ç”¨çº¿ç¨‹æ± æ€ä¹ˆå®šå‚æ•°ï¼Ÿ å¤šçº¿ç¨‹ volatileæœ‰ç”¨è¿‡ä¹ˆï¼Œåº•å±‚å®ç°ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯è®²åˆ°äº†CPUå¡«å……ç¼“å­˜è¡ŒæŒ‡ä»¤ã€‚ Javaçº¿ç¨‹æ±  JVM GCå›æ”¶å™¨JVMè°ƒä¼˜å‚æ•°é…ç½® JJavaå †ä¸­æ€ä¹ˆåˆ†åŒºï¼Ÿæ€ä¹ˆåˆ¤æ–­å¯¹è±¡æ˜¯å¦éœ€è¦å›æ”¶ï¼ŸJavaå†…å­˜å ç”¨è¿‡å¤§æ€ä¹ˆæŸ¥çœ‹ï¼ŸJavaå†…å­˜æº¢å‡ºæœ‰ç¢°åˆ°è¿‡å—ï¼ŸJavaå†…å­˜æº¢å‡ºæ€ä¹ˆå®šä½ï¼Ÿ æ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶æ•°æ®åº“ æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œmvccæœºåˆ¶èŠä¸€ä¸‹ã€‚ æ•°æ®åº“ç´¢å¼•ï¼ŒB+æ ‘ç»“æ„å’Œç‰¹ç‚¹ã€‚æ€ä¹ˆè¿›è¡Œä¼˜åŒ– mysqlé—´éš™é”ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œä»€ä¹ˆæ¡ä»¶ä¸‹ä¼šè§¦å‘ã€‚ MySQLæ•°æ®åº“å¼•æ“ï¼Ÿåº”ç”¨åœºæ™¯ï¼ŸæŸ¥è¯¢ä¼˜åŒ–ï¼ŸNoSQLæœ‰ç”¨æˆ–äº†è§£å—ï¼Ÿ å…¶ä»– çº¢é»‘æ ‘ï¼ŒAVLæ ‘ï¼ŒæŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ç”¨çº¢é»‘æ ‘è€Œä¸ç”¨map è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿå¹³å¸¸çš„å¼€å‘ç¯å¢ƒæ˜¯Windowsè¿˜æ˜¯Linuxï¼ŸLinuxå‘½ä»¤çŸ¥é“å“ªäº›ï¼Ÿè¦åœ¨å¤šä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­æ‰¾ä¸€ä¸ªå…³é”®è¯ç”¨ä»€ä¹ˆå‘½ä»¤ï¼Ÿï¼ˆgrepï¼‰ç½‘ç»œç›¸å…³çš„å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ åº¦å¨˜æ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³•javaåŸºç¡€å¤šçº¿ç¨‹JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ springbootå’Œspringæ¯”æœ‰ä»€ä¹ˆä¼˜ç‚¹ springbootè‡ªåŠ¨é…ç½®åŸç† æ•°æ®åº“ é«˜å¹¶å‘æ•°æ®åº“å¤§è¡¨ä¼˜åŒ–ï¼Œåˆ†åº“åˆ†è¡¨ï¼Œæ°´å¹³æ€ä¹ˆæ‹†ï¼Œå‚ç›´æ€ä¹ˆæ‹† çŸ¥é“å“ªäº›ç´¢å¼•ï¼Œç´¢å¼•æ•°æ®ç»“æ„ è”åˆç´¢å¼•è§„åˆ™ æ•°æ®åº“æ€ä¹ˆä¼˜åŒ–ï¼ŒæŸ¥è¯¢æ€§èƒ½ç“¶é¢ˆæ€ä¹ˆæŸ¥ï¼ˆexplainï¼‰ å…¶ä»–ç¾å›¢æ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³•javaåŸºç¡€å¤šçº¿ç¨‹JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶æ•°æ®åº“å…¶ä»–æ‹¼å¤•å¤•æ•°æ®ç»“æ„ äºŒå‰æ ‘çš„ååºéå†ï¼Œéé€’å½’ç®—æ³•ã€‚ æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œ TCPä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼Œå¦‚æœæ²¡æœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹æœ‰ä»€ä¹ˆé—®é¢˜ã€‚ ç®—æ³•javaåŸºç¡€ å¦‚ä½•è®¿é—®ä¸€ä¸ªæ–‡ä»¶çš„å­—èŠ‚æµå‘¢ å¤šçº¿ç¨‹ åšçš„ä¸»è¦æ˜¯Javaå¯¹å§ï¼Œè®²ä¸€ä¸‹å¤šçº¿ç¨‹æŠŠï¼Œç”¨åˆ°å“ªäº›å†™ä¸€ä¸‹ï¼Œå†™äº†threadå’Œrunnableï¼Œç„¶åå†™äº†çº¿ç¨‹æ± ï¼Œå¥¹é—®æˆ‘çº¿ç¨‹æ± ç”±å“ªäº›ç»„ä»¶ç»„æˆï¼Œæœ‰å“ªäº›çº¿ç¨‹æ± ï¼Œåˆ†åˆ«æ€ä¹ˆä½¿ç”¨ï¼Œä»¥åŠæ‹’ç»ç­–ç•¥æœ‰å“ªäº›ã€‚ ä»€ä¹ˆæ—¶å€™å¤šçº¿ç¨‹ä¼šå‘ç”Ÿæ­»é”ï¼Œå†™ä¸€ä¸ªä¾‹å­å§ï¼Œç„¶åæˆ‘å†™äº†ä¸€ä¸ªä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸¤ä¸ªé”ï¼Œåˆ†åˆ«æŒæœ‰ä¸€ä¸ªï¼Œè¯·æ±‚å¦ä¸€ä¸ªçš„æ­»é”å®ä¾‹ é›†åˆç±»ç†Ÿæ‚‰å§ï¼Œå†™ä¸€ä¸ªé¢˜ç›®ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²é›†åˆï¼Œæ‰¾å‡ºpddå¹¶ä¸”åˆ é™¤ï¼Œæˆ‘ç›´æ¥å†™äº†ä¸€ä¸ªlistç„¶åforå¾ªç¯åˆ¤æ–­ç›¸ç­‰æ—¶åˆ é™¤ï¼Œå¥¹è¯´æ˜æ˜¾é—®é¢˜ï¼Œæˆ‘æ‰å‘ç°listç›´æ¥åˆ ä½ç½®ä¼šå‡ºé”™ï¼Œäºæ˜¯æˆ‘è¯´æ”¹ç”¨æ•°ç»„ï¼Œå¥¹è¯´ä¸å¤ªç¬¦åˆè¦æ±‚ï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨iteratoråˆ é™¤ä¼šå¥½ä¸€ç‚¹ï¼Œä¿®æ”¹ä¼šåæ˜ åˆ°é›†åˆç±»ï¼Œå¹¶ä¸”ä¸ä¼šå‡ºé”™ã€‚ ç„¶åè¯´ä¸€ä¸‹Rediså§ï¼Œæ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹ï¼ŒRedisçš„åˆ†å¸ƒå¼æ€ä¹ˆåšï¼Œè¯´äº†é›†ç¾¤ã€‚ RPCäº†è§£ä¹ˆï¼Œæˆ‘è¯´äº†ä¸»è¦æ˜¯åè®®æ ˆ+æ•°æ®æ ¼å¼+åºåˆ—åŒ–æ–¹å¼ï¼Œç„¶åéœ€è¦æœ‰æœåŠ¡æ³¨å†Œä¸­å¿ƒç®¡ç†ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œä»–é—®æˆ‘æ³¨å†Œä¸­å¿ƒå®•æœºæ€ä¹ˆåŠï¼Œæˆ‘è¯´å¯ä»¥åšé«˜å¯ç”¨ï¼Œä»–è¯´è¦é—®çš„ä¸æ˜¯è¿™ä¸ªï¼Œæ˜¯æƒ³é—®æˆ‘æ³¨å†Œä¸­å¿ƒå®•æœºæ—¶æ¶ˆè´¹è€…æ˜¯å¦èƒ½è®¿é—®ç”Ÿäº§è€…ã€‚ çº¿ç¨‹æ•°å¾ˆå¤šä¼šæ€ä¹ˆæ ·ï¼Œæˆ‘è¯´ä¼šå å†…å­˜ï¼Œè¿˜æœ‰å°±æ˜¯åˆ‡æ¢çº¿ç¨‹æ¯”è¾ƒé¢‘ç¹ï¼Œä»–é—®åˆ‡æ¢çº¿ç¨‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œåº”è¯¥å°±æ˜¯CPUåˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Œå…·ä½“å°±æ˜¯å¯„å­˜å™¨å’Œå†…å­˜åœ°å€çš„åˆ·æ–°ã€‚ JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶æ•°æ®åº“ MySQLçš„ä¸»ä»å¤åˆ¶æ€ä¹ˆåšçš„ï¼Œç­”æ—¥å¿—ï¼Œå…·ä½“åŸç†æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ã€‚ å…¶ä»– Redisäº†è§£å“ªäº›å†…å®¹ï¼Œæ˜¯å•çº¿ç¨‹ä¹ˆï¼Œä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹å‘¢ï¼Œæ•°æ®ä¸€å®šæ˜¯å­˜åœ¨ç‰©ç†å†…å­˜ä¸­ä¹ˆï¼Œæˆ‘ä¸æ‡‚è¿™è¯å•¥æ„æ€ï¼Œå°±é—®äº†ä¸€ä¸‹æ˜¯ä¸æ˜¯æŒ‡å¯èƒ½ä¹Ÿåœ¨è™šæ‹Ÿå†…å­˜ä¸­ã€‚ä»–è¯´é‚£è®²ä¸€ä¸‹è™šæ‹Ÿå†…å­˜çš„æœºåˆ¶æŠŠï¼Œæˆ‘å°±è®²äº†åˆ†é¡µï¼Œé¡µè¡¨ï¼Œæ¢é¡µè¿™äº›ä¸œè¥¿ã€‚ åˆ†å¸ƒå¼äº†è§£å“ªäº›ä¸œè¥¿ï¼Œæ¶ˆæ¯é˜Ÿåˆ—äº†è§£ä¹ˆï¼Œç”¨åœ¨ä»€ä¹ˆåœºæ™¯ï¼Œè¯´äº†å‰Šå³°ï¼Œé™æµå’Œå¼‚æ­¥ã€‚è¯´äº†kafkaï¼Œé—®æˆ‘æ€ä¹ˆä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œä»¥åŠç¡®ä¿æ¶ˆæ¯ä¸ä¼šè¢«é‡å¤æ¶ˆè´¹ã€‚è¿˜é—®äº†æ¶ˆæ¯é€è¾¾ç¡®è®¤æ˜¯æ€ä¹ˆåšçš„ã€‚ capäº†è§£ä¹ˆï¼Œåˆ†åˆ«æŒ‡ä»€ä¹ˆï¼Œbaseå‘¢ï¼Œå¼ºä¸€è‡´æ€§å’Œå¼±ä¸€è‡´æ€§æœ‰ä»€ä¹ˆæ–¹æ³•æ¥åšï¼Œ2pcäº†è§£ä¹ˆï¼Œè¯´ä¸€ä¸‹å¤§æ¦‚è¿‡ç¨‹ã€‚ è¿™æ ·ä¸€ä¸ªé¢˜ç›®ï¼Œä¸€ä¸ªèŠ‚ç‚¹è¦å’Œå®¢æˆ·è¿æ¥å»ºç«‹å¿ƒè·³æ£€æµ‹ï¼Œå¤§æ¦‚æœ‰ç™¾ä¸‡æ•°é‡çš„è¿æ¥ï¼Œå¹¶ä¸”ä¼šå®šæœŸå‘é€å¿ƒè·³åŒ…ï¼Œè¦å†™ä¸€ä¸ªupdateæ–¹æ³•å’Œcheckæ–¹æ³•ï¼Œupdateæ–¹æ³•æ›´æ–°å¿ƒè·³çŠ¶æ€ï¼Œcheckåˆ é™¤è¶…æ—¶èŠ‚ç‚¹ï¼Œæ€ä¹ˆåšï¼Œåˆšå¼€å§‹åšäº†ä¸ªhashå‘ç°checkè¦è½®è¯¢å¤ªæ…¢äº†ï¼Œç„¶åç”¨è®¡æ—¶å™¨å’Œå¼€çº¿ç¨‹æ£€æµ‹ä¹Ÿä¸è¡Œï¼Œæœ€åè¯´äº†ä¸ªLRUï¼Œä»–è¯´OKçš„ã€‚ åä¸ºæ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³•javaåŸºç¡€å¤šçº¿ç¨‹JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ è¯·æ±‚åˆ°SSHæ¡†æ¶çš„æµç¨‹å›¾ç”»ä¸€ä¸‹ï¼Ÿè¿œç¨‹è°ƒç”¨Shellè„šæœ¬ç”¨åˆ°å“ªäº›å‘½ä»¤ï¼Ÿ æ•°æ®åº“ æ•°æ®é‡å¤šå¤§ï¼Ÿé¡¹ç›®PGï¼ˆPostgreSQLï¼‰ç‰ˆæœ¬ï¼Ÿéç»“æ„åŒ–æ•°æ®æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿæœ‰æ²¡æœ‰è€ƒè™‘è¿‡nosqlï¼Ÿåˆ†åº“åˆ†è¡¨æ€ä¹ˆåˆ†ï¼ŸæŸ¥è¯¢çš„è¡¨ä¼šåˆå¹¶åœ¨ä¸€èµ·å—ï¼Ÿ é¡¹ç›®æ€§èƒ½æœ‰æ²¡æœ‰è€ƒè™‘è¿‡ï¼Ÿï¼ˆæˆ‘æ˜¯åšæœåŠ¡ç«¯çš„ï¼Œä¸»è¦è€ƒè™‘è¯·æ±‚å¹¶å‘é‡ï¼‰æ•°æ®åº“æ€§èƒ½å‘¢ï¼Ÿï¼ˆäº†è§£ä¸€ç‚¹ï¼ŒMySQLä¸»ä»ç»“æ„ï¼‰ å…¶ä»– NginxåŸç†äº†è§£å—ï¼Ÿï¼ˆåªç”¨åˆ°è´Ÿè½½å‡è¡¡ï¼Œä»‹ç»äº†ä¸€ä¸‹è´Ÿè½½å‡è¡¡ç­–ç•¥ ç½‘æ˜“æ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³• åˆ¤æ–­æ ‘å¯¹ç§° æ•°ç»„é¡ºæ—¶é’ˆæ—‹è½¬90åº¦ ç”¨waitå’Œnotifyæ¨¡æ‹Ÿç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ javaåŸºç¡€ public protected privateåŒºåˆ«ï¼Ÿfinalå’ŒfinallyåŒºåˆ«ï¼Ÿfinalå¯ä»¥ç”¨åœ¨æ–¹æ³•å‚æ•°ä¸Šå—ï¼ŸRuntimeExceptionå’ŒéRuntimeExceptionï¼Ÿå„ä¸¾å‡ ä¸ªä¾‹å­ï¼Ÿæ¯”æ–¹è¯´æ–‡ä»¶è¯»å†™çš„æ—¶å€™ä¼šæœ‰ä»€ä¹ˆå¼‚å¸¸ï¼Ÿæ€ä¹ˆå®ç°åºåˆ—åŒ–ï¼Ÿé™¤äº†JavaåŸç”Ÿåºåˆ—åŒ–æ–¹æ³•ï¼Œåºåˆ—åŒ–è¿˜æœ‰ä»€ä¹ˆæ ¼å¼ï¼Ÿ ArrayListå’ŒLinkedListåŒºåˆ«ï¼Ÿ ArrayListå’ŒLinkedListæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä¸ºä»€ä¹ˆè¯´ä»–ä»¬ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸¾å®é™…åœºæ™¯ï¼Ÿ æœ‰ä»€ä¹ˆçº¿ç¨‹å®‰å…¨çš„Listï¼Ÿï¼ˆCopyOnWriteArrayListï¼‰è®²ä¸€ä¸‹æ€ä¹ˆå®ç°çº¿ç¨‹å®‰å…¨çš„ï¼Ÿï¼ˆè¯»æ—¶å¤åˆ¶ï¼Œå†™æ—¶å…±äº«ï¼ŒåŠ é”æœºåˆ¶ï¼‰ çº¿ç¨‹Aå’Œçº¿ç¨‹BåŒæ—¶é’ˆå¯¹ä¸€ä¸ªå…±äº«å˜é‡è¿›è¡Œæ“ä½œï¼Œå¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨ï¼Ÿ å¹³å¸¸æ€ä¹ˆåˆ›å»ºçº¿ç¨‹ï¼Ÿçº¿ç¨‹æ± é‡Œé—²ç½®çº¿ç¨‹æ€ä¹ˆä¿æ´»ï¼Ÿï¼ˆä¸æ¸…æ¥šï¼Œè¯´äº†è‡ªå·±çš„æƒ³æ³•ï¼‰é‚£æ€ä¹ˆå”¤é†’ï¼Ÿå¦‚æœç”¨wait()å’Œnotify()ï¼Œå¯¹è°åŠ é”ï¼Ÿ synchronized å’Œ ReentranLockçš„åŒºåˆ«ï¼Ÿå¹³å¸¸æœ‰ç”¨å“ªäº›é›†åˆç±»ï¼ŸConcurrentåŒ…æœ‰ç”¨å—ï¼Ÿ å¤šçº¿ç¨‹JVM JVMå†…å­˜æ¨¡å‹ï¼Ÿå¦‚æœç»™ä¸€ä¸ªç±»ï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ªmainæ–¹æ³•ï¼Œæ–¹æ³•é‡Œé¢åªæœ‰ä¸€å¥System.out.println(â€œhelloworldâ€)ï¼Œé—®è¿è¡Œè¿™ä¸ªç±»ä¼šåœ¨Javaå†…å­˜æ¨¡å‹é‡Œå‘ç”Ÿä»€ä¹ˆï¼Ÿ â€œhelloworldâ€å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ JVMå†…å­˜æ¨¡å‹ï¼Ÿæ¯ä¸ªåŒºæ˜¯åšä»€ä¹ˆçš„ï¼Ÿåƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ æ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ Springä¸­Beanç”Ÿå‘½å‘¨æœŸï¼Ÿæåˆ°çš„Awareç›¸å…³æ¥å£æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿå¹³å¸¸ä¼šè‡ªå·±ä¼šç”¨Awareç›¸å…³æ¥å£å—ï¼ŸBeanç”Ÿå‘½å‘¨æœŸè¿™ä¹ˆé•¿æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ æ•°æ®åº“ ç»™ä¸€ä¸ªæ•°æ®åº“è¡¨ï¼ŒIDã€scoreä¸¤ä¸ªå­—æ®µåˆ†åˆ«ä»£è¡¨å­¦ç”ŸIDå’Œæˆç»©ï¼Œå†™SQLè¯­å¥æ±‚ID=ï¼Ÿçš„å­¦ç”Ÿæ’ç¬¬å‡ åï¼Ÿ å‡è®¾æ˜¯InnoDBï¼Œç»™ä¸Šè¿°SQLè¯­å¥åŠ ç´¢å¼•æ€ä¹ˆåŠ ï¼Ÿä¸ºä»€ä¹ˆè¿™æ ·å»ºç«‹ï¼Ÿèšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ MySQLæ•°æ®åº“ï¼Œç»™ä¸€ä¸ªç”¨æˆ·è¡¨æ ¼ï¼ŒIDã€ç”¨æˆ·åã€æ€§åˆ«ã€ç”¨æˆ·ä¿¡æ¯â€¦ï¼Œå‡è®¾ç»å¸¸å¯¹æ€§åˆ«å­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œé—®æ€ä¹ˆå»ºç«‹ç´¢å¼•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå‡è®¾ç”¨æˆ·åéœ€è¦æ˜¯å”¯ä¸€çš„ï¼Œé—®æ€ä¹ˆå»ºç´¢å¼•ï¼Ÿ æ·»åŠ ç´¢å¼•çš„SQLè¯­å¥ï¼Ÿç»™ä¸€ä¸ªabcä¸‰ä¸ªå­—æ®µçš„ç´¢å¼•ï¼Œwhere a=0 order by cèƒ½ç”¨åˆ°ç´¢å¼•å—ï¼Ÿwhere a=0 and bå¤§äº0 order by cèƒ½ç”¨åˆ°ç´¢å¼•å—ï¼ŸHashç´¢å¼•å’ŒBæ ‘ç´¢å¼•çš„åŒºåˆ«ï¼ŸHashç´¢å¼•æœ‰åŒºé—´æŸ¥è¯¢å—ï¼Ÿæœ‰æ²¡æœ‰ç”¨nosqlï¼Ÿ å…¶ä»– ä»‹ç»ä¸€ä¸‹è§‰å¾—åšå¾—æœ€å¥½çš„é¡¹ç›®ï¼Ÿç”»ä¸€ä¸‹é¡¹ç›®çš„æ¡†æ¶ç»“æ„å›¾ï¼ŸNginxç”¨æ¥åšä»€ä¹ˆï¼Ÿé‡‡ç”¨äº†ä»€ä¹ˆè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Ÿä¸‡ä¸€æŸä¸€ä¸ªæœåŠ¡å™¨æŒ‚æ‰æ€ä¹ˆåŠï¼Ÿï¼ˆä¸€è‡´æ€§hashï¼‰å¦‚æœæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹å‘¢ï¼Ÿ å¹³å¸¸ç”¨åˆ°å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿä»‹ç»ä¸€ä¸‹æ¨¡å¼ï¼Ÿæ¨¡å¼å’Œè£…é¥°å™¨æ¨¡å¼åŒºåˆ«ï¼Ÿ NIOå’ŒBIOåŒºåˆ«ï¼ŸNIOæ€ä¹ˆå†™ï¼Ÿé˜»å¡å’Œéé˜»å¡ï¼ŒåŒæ­¥å’Œå¼‚æ­¥åŒºåˆ«ï¼Ÿ CVTEæ•°æ®ç»“æ„æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œç®—æ³•javaåŸºç¡€ Javaä¸ºä»€ä¹ˆè¯´æ˜¯é¢å‘å¯¹è±¡çš„ï¼Ÿ avaçš„ä¸‰å¤§ç‰¹æ€§ï¼Ÿå¦‚æœè¯´æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼ŒåŒååŒå‚æ•°ä½†ä¸åŒè¿”å›å€¼ï¼Œé—®æ˜¯é‡è½½å—ï¼Ÿ å¹³å¸¸ç”¨åˆ°å“ªäº›é›†åˆç±»ï¼ŸArrayListå’ŒLinkedListåŒºåˆ«ï¼ŸHashMapå†…éƒ¨æ•°æ®ç»“æ„ï¼ŸConcurrentHashMapåˆ†æ®µé”ï¼Ÿ å¤šçº¿ç¨‹ Volatileå…³é”®è¯ï¼Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ å¦‚ä½•å®ç°synchronizedä¸€æ ·çš„æ•ˆæœï¼Ÿ JVMæ¶ˆæ¯ä¸­é—´ä»¶springå…¨å®¶æ¡¶ Spring Cloudç”¨åˆ°ä»€ä¹ˆä¸œè¥¿ï¼Ÿå¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡ï¼ŸæœåŠ¡æŒ‚äº†æ³¨å†Œä¸­å¿ƒæ€ä¹ˆåˆ¤æ–­ Springçš„ä¼˜ç‚¹ï¼ŸSpring AOPå®ç°åŸç†ï¼ŸAOPåº”ç”¨åœºæ™¯ï¼Ÿæ‹¦æˆªå™¨ç”¨æ¥åšä»€ä¹ˆä¸šåŠ¡ï¼Ÿ æ•°æ®åº“ MySQLæ•°æ®åº“å¼•æ“å’Œåº”ç”¨åœºæ™¯ MySQLè¡Œé”æ˜¯å¦ä¼šæœ‰æ­»é”çš„æƒ…å†µï¼Ÿ MySQLäº‹åŠ¡éš”ç¦»çº§åˆ« MySQLå¹³å¸¸æœ‰ç´¢å¼•ä¼˜åŒ–å—ï¼Ÿæ€ä¹ˆå»çŸ¥é“ä¸€ä¸ªSQLè¯­å¥éœ€ä¸éœ€è¦ä¼˜åŒ–ï¼Ÿä¸€ä¸ªè¡¨ï¼Œå»ºç«‹äº†ç´¢å¼•ï¼ˆBï¼ŒAï¼‰ï¼Œé—®where A=1 and B=2ç´¢å¼•æ˜¯å¦èƒ½å¤Ÿç”Ÿæ•ˆï¼Ÿ ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—ï¼ŸJDKä¸­æ¶‰åŠåˆ°ä¹è§‚é”å’Œæ‚²è§‚é”çš„å†…å®¹ å…¶ä»– Nginxè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Ÿ ip_hashçš„ä¼˜ç¼ºç‚¹ï¼Ÿ Nginxå’Œå…¶ä»–è´Ÿè½½å‡è¡¡æ¡†æ¶å¯¹æ¯”è¿‡å—ï¼Ÿ Tomcaté›†ç¾¤Sessionå…±äº«é—®é¢˜ï¼Ÿ MySQLé‡‡ç”¨äº†ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ åˆ†å¸ƒå¼é”ï¼Ÿ]]></content>
      <tags>
        <tag>é¢ç»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ»‘åŠ¨çª—å£æŠ€å·§æ±‡æ€»]]></title>
    <url>%2F2019%2F12%2F24%2F%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%8A%80%E5%B7%A7%E6%B1%87%E6%80%BB.html</url>
    <content type="text"><![CDATA[æœ¬æ–‡è¯¦è§£ã€Œæ»‘åŠ¨çª—å£ã€è¿™ç§é«˜çº§åŒæŒ‡é’ˆæŠ€å·§çš„ç®—æ³•æ¡†æ¶ï¼Œå¸¦ä½ ç§’æ€å‡ é“é«˜éš¾åº¦çš„å­å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ã€‚ LeetCode ä¸Šè‡³å°‘æœ‰ 9 é“é¢˜ç›®å¯ä»¥ç”¨æ­¤æ–¹æ³•é«˜æ•ˆè§£å†³ã€‚ä½†æ˜¯æœ‰å‡ é“æ˜¯ VIP é¢˜ç›®ï¼Œæœ‰å‡ é“é¢˜ç›®è™½ä¸éš¾ä½†å¤ªå¤æ‚ï¼Œæ‰€ä»¥æœ¬æ–‡åªé€‰æ‹©ç‚¹èµæœ€é«˜ï¼Œè¾ƒä¸ºç»å…¸çš„ï¼Œæœ€èƒ½å¤Ÿè®²æ˜ç™½çš„ä¸‰é“é¢˜æ¥è®²è§£ã€‚ç¬¬ä¸€é¢˜ä¸ºäº†è®©è¯»è€…æŒæ¡ç®—æ³•æ¨¡æ¿ï¼Œç¯‡å¹…ç›¸å¯¹é•¿ï¼Œåä¸¤é¢˜å°±åŸºæœ¬ç§’æ€äº†ã€‚ æœ¬æ–‡ä»£ç ä¸º C++ å®ç°ï¼Œä¸ä¼šç”¨åˆ°ä»€ä¹ˆç¼–ç¨‹æ–¹é¢çš„å¥‡æŠ€æ·«å·§ï¼Œä½†æ˜¯è¿˜æ˜¯ç®€å•ä»‹ç»ä¸€ä¸‹ä¸€äº›ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼Œä»¥å…æœ‰çš„è¯»è€…å› ä¸ºè¯­è¨€çš„ç»†èŠ‚é—®é¢˜é˜»ç¢å¯¹ç®—æ³•æ€æƒ³çš„ç†è§£ï¼š unordered_map å°±æ˜¯å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰ï¼Œå®ƒçš„ä¸€ä¸ªæ–¹æ³• count(key) ç›¸å½“äº containsKey(key) å¯ä»¥åˆ¤æ–­é”® key æ˜¯å¦å­˜åœ¨ã€‚ å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è®¿é—®é”®å¯¹åº”çš„å€¼ map[key]ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥ key ä¸å­˜åœ¨ï¼ŒC++ ä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ª keyï¼Œå¹¶æŠŠ map[key] èµ‹å€¼ä¸º 0ã€‚ æ‰€ä»¥ä»£ç ä¸­å¤šæ¬¡å‡ºç°çš„ map[key]++ ç›¸å½“äº Java çš„ map.put(key, map.getOrDefault(key, 0) + 1)ã€‚ æœ¬æ–‡å¤§éƒ¨åˆ†ä»£ç éƒ½æ˜¯å›¾ç‰‡å½¢å¼ï¼Œå¯ä»¥ç‚¹å¼€æ”¾å¤§ï¼Œæ›´é‡è¦çš„æ˜¯å¯ä»¥å·¦å³æ»‘åŠ¨æ–¹ä¾¿å¯¹æ¯”ä»£ç ã€‚ä¸‹é¢è¿›å…¥æ­£é¢˜ã€‚ ä¸€ã€æœ€å°è¦†ç›–å­ä¸² é¢˜ç›®é“¾æ¥ é¢˜ç›®ä¸éš¾ç†è§£ï¼Œå°±æ˜¯è¯´è¦åœ¨ S(source) ä¸­æ‰¾åˆ°åŒ…å« T(target) ä¸­å…¨éƒ¨å­—æ¯çš„ä¸€ä¸ªå­ä¸²ï¼Œé¡ºåºæ— æ‰€è°“ï¼Œä½†è¿™ä¸ªå­ä¸²ä¸€å®šæ˜¯æ‰€æœ‰å¯èƒ½å­ä¸²ä¸­æœ€çŸ­çš„ã€‚ å¦‚æœæˆ‘ä»¬ä½¿ç”¨æš´åŠ›è§£æ³•ï¼Œä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š 1234for (int i = 0; i &lt; s.size(); i++) for (int j = i + 1; j &lt; s.size(); j++) if s[i:j] åŒ…å« t çš„æ‰€æœ‰å­—æ¯: æ›´æ–°ç­”æ¡ˆ æ€è·¯å¾ˆç›´æ¥å§ï¼Œä½†æ˜¯æ˜¾ç„¶ï¼Œè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦è‚¯å®šå¤§äº O(N^2) äº†ï¼Œä¸å¥½ã€‚ æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š 1ã€æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² S ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ– left = right = 0ï¼ŒæŠŠç´¢å¼•é—­åŒºé—´ [left, right] ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ã€‚ 2ã€æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ  right æŒ‡é’ˆæ‰©å¤§çª—å£ [left, right]ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† T ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚ 3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ  rightï¼Œè½¬è€Œä¸æ–­å¢åŠ  left æŒ‡é’ˆç¼©å°çª—å£ [left, right]ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« T ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  leftï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚ 4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° right åˆ°è¾¾å­—ç¬¦ä¸² S çš„å°½å¤´ã€‚ è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œçª—å£ä¸æ–­å‘å³æ»‘åŠ¨ã€‚ ä¸‹é¢ç”»å›¾ç†è§£ä¸€ä¸‹ï¼Œneeds å’Œ window ç›¸å½“äºè®¡æ•°å™¨ï¼Œåˆ†åˆ«è®°å½• T ä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œçª—å£ä¸­çš„ç›¸åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ åˆå§‹çŠ¶æ€ï¼š 0 å¢åŠ  rightï¼Œç›´åˆ°çª—å£ [left, right] åŒ…å«äº† T ä¸­æ‰€æœ‰å­—ç¬¦ï¼š 0 ç°åœ¨å¼€å§‹å¢åŠ  leftï¼Œç¼©å°çª—å£ [left, right]ã€‚ 0 ç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼Œleft ä¸å†ç»§ç»­ç§»åŠ¨ã€‚ 0 ä¹‹åé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå…ˆç§»åŠ¨ rightï¼Œå†ç§»åŠ¨ leftâ€¦â€¦ ç›´åˆ° right æŒ‡é’ˆåˆ°è¾¾å­—ç¬¦ä¸² S çš„æœ«ç«¯ï¼Œç®—æ³•ç»“æŸã€‚ å¦‚æœä½ èƒ½å¤Ÿç†è§£ä¸Šè¿°è¿‡ç¨‹ï¼Œæ­å–œï¼Œä½ å·²ç»å®Œå…¨æŒæ¡äº†æ»‘åŠ¨çª—å£ç®—æ³•æ€æƒ³ã€‚è‡³äºå¦‚ä½•å…·ä½“åˆ°é—®é¢˜ï¼Œå¦‚ä½•å¾—å‡ºæ­¤é¢˜çš„ç­”æ¡ˆï¼Œéƒ½æ˜¯ç¼–ç¨‹é—®é¢˜ï¼Œç­‰ä¼šæä¾›ä¸€å¥—æ¨¡æ¿ï¼Œç†è§£ä¸€ä¸‹å°±ä¼šäº†ã€‚ ä¸Šè¿°è¿‡ç¨‹å¯ä»¥ç®€å•åœ°å†™å‡ºå¦‚ä¸‹ä¼ªç æ¡†æ¶ï¼š 123456789101112131415161718string s, t;// åœ¨ s ä¸­å¯»æ‰¾ t çš„ã€Œæœ€å°è¦†ç›–å­ä¸²ã€int left = 0, right = 0;string res = s;while(right &lt; s.size()) &#123; window.add(s[right]); right++; // å¦‚æœç¬¦åˆè¦æ±‚ï¼Œç§»åŠ¨ left ç¼©å°çª—å£ while (window ç¬¦åˆè¦æ±‚) &#123; // å¦‚æœè¿™ä¸ªçª—å£çš„å­ä¸²æ›´çŸ­ï¼Œåˆ™æ›´æ–° res res = minLen(res, window); window.remove(s[left]); left++; &#125;&#125;return res; å¦‚æœä¸Šè¿°ä»£ç ä½ ä¹Ÿèƒ½å¤Ÿç†è§£ï¼Œé‚£ä¹ˆä½ ç¦»è§£é¢˜æ›´è¿‘äº†ä¸€æ­¥ã€‚ç°åœ¨å°±å‰©ä¸‹ä¸€ä¸ªæ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜ï¼šå¦‚ä½•åˆ¤æ–­ window å³å­ä¸² s[leftâ€¦right] æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œæ˜¯å¦åŒ…å« t çš„æ‰€æœ‰å­—ç¬¦å‘¢ï¼Ÿ å¯ä»¥ç”¨ä¸¤ä¸ªå“ˆå¸Œè¡¨å½“ä½œè®¡æ•°å™¨è§£å†³ã€‚ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ needs è®°å½•å­—ç¬¦ä¸² t ä¸­åŒ…å«çš„å­—ç¬¦åŠå‡ºç°æ¬¡æ•°ï¼Œç”¨å¦ä¸€ä¸ªå“ˆå¸Œè¡¨ window è®°å½•å½“å‰ã€Œçª—å£ã€ä¸­åŒ…å«çš„å­—ç¬¦åŠå‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœ window åŒ…å«æ‰€æœ‰ needs ä¸­çš„é”®ï¼Œä¸”è¿™äº›é”®å¯¹åº”çš„å€¼éƒ½å¤§äºç­‰äº needs ä¸­çš„å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥çŸ¥é“å½“å‰ã€Œçª—å£ã€ç¬¦åˆè¦æ±‚äº†ï¼Œå¯ä»¥å¼€å§‹ç§»åŠ¨ left æŒ‡é’ˆäº†ã€‚ ç°åœ¨å°†ä¸Šé¢çš„æ¡†æ¶ç»§ç»­ç»†åŒ–ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142string s, t;// åœ¨ s ä¸­å¯»æ‰¾ t çš„ã€Œæœ€å°è¦†ç›–å­ä¸²ã€int left = 0, right = 0;string res = s;// ç›¸å½“äºä¸¤ä¸ªè®¡æ•°å™¨unordered_map&lt;char, int&gt; window;unordered_map&lt;char, int&gt; needs;for (char c : t) needs[c]++;// è®°å½• window ä¸­å·²ç»æœ‰å¤šå°‘å­—ç¬¦ç¬¦åˆè¦æ±‚äº†int match = 0; while (right &lt; s.size()) &#123; char c1 = s[right]; if (needs.count(c1)) &#123; window[c1]++; // åŠ å…¥ window if (window[c1] == needs[c1]) // å­—ç¬¦ c1 çš„å‡ºç°æ¬¡æ•°ç¬¦åˆè¦æ±‚äº† match++; &#125; right++; // window ä¸­çš„å­—ç¬¦ä¸²å·²ç¬¦åˆ needs çš„è¦æ±‚äº† while (match == needs.size()) &#123; // æ›´æ–°ç»“æœ res res = minLen(res, window); char c2 = s[left]; if (needs.count(c2)) &#123; window[c2]--; // ç§»å‡º window if (window[c2] &lt; needs[c2]) // å­—ç¬¦ c2 å‡ºç°æ¬¡æ•°ä¸å†ç¬¦åˆè¦æ±‚ match--; &#125; left++; &#125;&#125;return res; ä¸Šè¿°ä»£ç å·²ç»å…·å¤‡å®Œæ•´çš„é€»è¾‘äº†ï¼Œåªæœ‰ä¸€å¤„ä¼ªç ï¼Œå³æ›´æ–° res çš„åœ°æ–¹ï¼Œä¸è¿‡è¿™ä¸ªé—®é¢˜å¤ªå¥½è§£å†³äº†ï¼Œç›´æ¥çœ‹è§£æ³•å§ï¼ 123456789101112131415161718192021222324252627282930313233343536373839404142string minWindow(string s, string t) &#123; // è®°å½•æœ€çŸ­å­ä¸²çš„å¼€å§‹ä½ç½®å’Œé•¿åº¦ int start = 0, minLen = INT_MAX; int left = 0, right = 0; unordered_map&lt;char, int&gt; window; unordered_map&lt;char, int&gt; needs; for (char c : t) needs[c]++; int match = 0; while (right &lt; s.size()) &#123; char c1 = s[right]; if (needs.count(c1)) &#123; window[c1]++; if (window[c1] == needs[c1]) match++; &#125; right++; while (match == needs.size()) &#123; if (right - left &lt; minLen) &#123; // æ›´æ–°æœ€å°å­ä¸²çš„ä½ç½®å’Œé•¿åº¦ start = left; minLen = right - left; &#125; char c2 = s[left]; if (needs.count(c2)) &#123; window[c2]--; if (window[c2] &lt; needs[c2]) match--; &#125; left++; &#125; &#125; return minLen == INT_MAX ? "" : s.substr(start, minLen);&#125; å¦‚æœç›´æ¥ç”©ç»™ä½ è¿™ä¹ˆä¸€å¤§æ®µä»£ç ï¼Œæˆ‘æƒ³ä½ çš„å¿ƒæ€æ˜¯çˆ†ç‚¸çš„ï¼Œä½†æ˜¯é€šè¿‡ä¹‹å‰çš„æ­¥æ­¥è·Ÿè¿›ï¼Œä½ æ˜¯å¦èƒ½å¤Ÿç†è§£è¿™ä¸ªç®—æ³•çš„å†…åœ¨é€»è¾‘å‘¢ï¼Ÿä½ æ˜¯å¦èƒ½æ¸…æ™°çœ‹å‡ºè¯¥ç®—æ³•çš„ç»“æ„å‘¢ï¼Ÿ è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(M + N)ï¼ŒM å’Œ N åˆ†åˆ«æ˜¯å­—ç¬¦ä¸² S å’Œ T çš„é•¿åº¦ã€‚å› ä¸ºæˆ‘ä»¬å…ˆç”¨ for å¾ªç¯éå†äº†å­—ç¬¦ä¸² T æ¥åˆå§‹åŒ– needsï¼Œæ—¶é—´ O(N)ï¼Œä¹‹åçš„ä¸¤ä¸ª while å¾ªç¯æœ€å¤šæ‰§è¡Œ 2M æ¬¡ï¼Œæ—¶é—´ O(M)ã€‚ è¯»è€…ä¹Ÿè®¸è®¤ä¸ºåµŒå¥—çš„ while å¾ªç¯å¤æ‚åº¦åº”è¯¥æ˜¯å¹³æ–¹çº§ï¼Œä½†æ˜¯ä½ è¿™æ ·æƒ³ï¼Œwhile æ‰§è¡Œçš„æ¬¡æ•°å°±æ˜¯åŒæŒ‡é’ˆ left å’Œ right èµ°çš„æ€»è·¯ç¨‹ï¼Œæœ€å¤šæ˜¯ 2M å˜›ã€‚ äºŒã€æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ é¢˜ç›®é“¾æ¥ è¿™é“é¢˜çš„éš¾åº¦æ˜¯ Easyï¼Œä½†æ˜¯è¯„è®ºåŒºç‚¹èµæœ€å¤šçš„ä¸€æ¡æ˜¯è¿™æ ·ï¼š 1How can this problem be marked as easy??? å®é™…ä¸Šï¼Œè¿™ä¸ª Easy æ˜¯å±äºäº†è§£åŒæŒ‡é’ˆæŠ€å·§çš„äººçš„ï¼Œåªè¦æŠŠä¸Šä¸€é“é¢˜çš„ä»£ç æ”¹ä¸­æ›´æ–° res éƒ¨åˆ†çš„ä»£ç ç¨åŠ ä¿®æ”¹å°±æˆäº†è¿™é“é¢˜çš„è§£ï¼š 12345678910111213141516171819202122232425262728293031323334353637vector&lt;int&gt; findAnagrams(string s, string t) &#123; // ç”¨æ•°ç»„è®°å½•ç­”æ¡ˆ vector&lt;int&gt; res; int left = 0, right = 0; unordered_map&lt;char, int&gt; needs; unordered_map&lt;char, int&gt; window; for (char c : t) needs[c]++; int match = 0; while (right &lt; s.size()) &#123; char c1 = s[right]; if (needs.count(c1)) &#123; window[c1]++; if (window[c1] == needs[c1]) match++; &#125; right++; while (match == needs.size()) &#123; // å¦‚æœ window çš„å¤§å°åˆé€‚ // å°±æŠŠèµ·å§‹ç´¢å¼• left åŠ å…¥ç»“æœ if (right - left == t.size()) &#123; res.push_back(left); &#125; char c2 = s[left]; if (needs.count(c2)) &#123; window[c2]--; if (window[c2] &lt; needs[c2]) match--; &#125; left++; &#125; &#125; return res;&#125; å› ä¸ºè¿™é“é¢˜å’Œä¸Šä¸€é“çš„åœºæ™¯ç±»ä¼¼ï¼Œä¹Ÿéœ€è¦ window ä¸­åŒ…å«ä¸² t çš„æ‰€æœ‰å­—ç¬¦ï¼Œä½†ä¸Šä¸€é“é¢˜è¦æ‰¾é•¿åº¦æœ€çŸ­çš„å­ä¸²ï¼Œè¿™é“é¢˜è¦æ‰¾é•¿åº¦ç›¸åŒçš„å­ä¸²ï¼Œä¹Ÿå°±æ˜¯ã€Œå­—æ¯å¼‚ä½è¯ã€å˜›ã€‚ ä¸‰ã€æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² é¢˜ç›®é“¾æ¥ é‡åˆ°å­ä¸²é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯æ»‘åŠ¨çª—å£æŠ€å·§ã€‚ ç±»ä¼¼ä¹‹å‰çš„æ€è·¯ï¼Œä½¿ç”¨ window ä½œä¸ºè®¡æ•°å™¨è®°å½•çª—å£ä¸­çš„å­—ç¬¦å‡ºç°æ¬¡æ•°ï¼Œç„¶åå…ˆå‘å³ç§»åŠ¨ rightï¼Œå½“ window ä¸­å‡ºç°é‡å¤å­—ç¬¦æ—¶ï¼Œå¼€å§‹ç§»åŠ¨ left ç¼©å°çª—å£ï¼Œå¦‚æ­¤å¾€å¤ï¼š 123456789101112131415161718192021int lengthOfLongestSubstring(string s) &#123; int left = 0, right = 0; unordered_map&lt;char, int&gt; window; int res = 0; // è®°å½•æœ€é•¿é•¿åº¦ while (right &lt; s.size()) &#123; char c1 = s[right]; window[c1]++; right++; // å¦‚æœ window ä¸­å‡ºç°é‡å¤å­—ç¬¦ // å¼€å§‹ç§»åŠ¨ left ç¼©å°çª—å£ while (window[c1] &gt; 1) &#123; char c2 = s[left]; window[c2]--; left++; &#125; res = max(res, right - left); &#125; return res;&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯æœ€é•¿å­ä¸²ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ¯æ¬¡ç§»åŠ¨ right å¢å¤§çª—å£æ—¶æ›´æ–° resï¼Œè€Œä¸æ˜¯åƒä¹‹å‰çš„é¢˜ç›®åœ¨ç§»åŠ¨ left ç¼©å°çª—å£æ—¶æ›´æ–° resã€‚ æœ€åæ€»ç»“é€šè¿‡ä¸Šé¢ä¸‰é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºæ»‘åŠ¨çª—å£ç®—æ³•çš„æŠ½è±¡æ€æƒ³ï¼š 12345678910111213int left = 0, right = 0;while (right &lt; s.size()) &#123; window.add(s[right]); right++; while (valid) &#123; window.remove(s[left]); left++; &#125;&#125; å…¶ä¸­ window çš„æ•°æ®ç±»å‹å¯ä»¥è§†å…·ä½“æƒ…å†µè€Œå®šï¼Œæ¯”å¦‚ä¸Šè¿°é¢˜ç›®éƒ½ä½¿ç”¨å“ˆå¸Œè¡¨å……å½“è®¡æ•°å™¨ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„å®ç°åŒæ ·æ•ˆæœï¼Œå› ä¸ºæˆ‘ä»¬åªå¤„ç†è‹±æ–‡å­—æ¯ã€‚ ç¨å¾®éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯è¿™ä¸ª valid æ¡ä»¶ï¼Œä¸ºäº†å®ç°è¿™ä¸ªæ¡ä»¶çš„å®æ—¶æ›´æ–°ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™å¾ˆå¤šä»£ç ã€‚æ¯”å¦‚å‰ä¸¤é“é¢˜ï¼Œçœ‹èµ·æ¥è§£æ³•ç¯‡å¹…é‚£ä¹ˆé•¿ï¼Œå®é™…ä¸Šæ€æƒ³è¿˜æ˜¯å¾ˆç®€å•ï¼Œåªæ˜¯å¤§å¤šæ•°ä»£ç éƒ½åœ¨å¤„ç†è¿™ä¸ªé—®é¢˜è€Œå·²ã€‚]]></content>
      <tags>
        <tag>java</tag>
        <tag>åŒæŒ‡é’ˆ</tag>
        <tag>æ»‘åŠ¨çª—å£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»]]></title>
    <url>%2F2019%2F12%2F24%2F%E5%8F%8C%E6%8C%87%E9%92%88%E6%8A%80%E5%B7%A7%E6%B1%87%E6%80%BB.html</url>
    <content type="text"><![CDATA[æˆ‘æŠŠåŒæŒ‡é’ˆæŠ€å·§å†åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ã€Œå¿«æ…¢æŒ‡é’ˆã€ï¼Œä¸€ç±»æ˜¯ã€Œå·¦å³æŒ‡é’ˆã€ã€‚å‰è€…è§£å†³ä¸»è¦è§£å†³é“¾è¡¨ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚å…¸å‹çš„åˆ¤å®šé“¾è¡¨ä¸­æ˜¯å¦åŒ…å«ç¯ï¼›åè€…ä¸»è¦è§£å†³æ•°ç»„ï¼ˆæˆ–è€…å­—ç¬¦ä¸²ï¼‰ä¸­çš„é—®é¢˜ï¼Œæ¯”å¦‚äºŒåˆ†æŸ¥æ‰¾ã€‚ ä¸€ã€å¿«æ…¢æŒ‡é’ˆçš„å¸¸è§ç®—æ³•å¿«æ…¢æŒ‡é’ˆä¸€èˆ¬éƒ½åˆå§‹åŒ–æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ headï¼Œå‰è¿›æ—¶å¿«æŒ‡é’ˆ fast åœ¨å‰ï¼Œæ…¢æŒ‡é’ˆ slow åœ¨åï¼Œå·§å¦™è§£å†³ä¸€äº›é“¾è¡¨ä¸­çš„é—®é¢˜ã€‚ 1ã€åˆ¤å®šé“¾è¡¨ä¸­æ˜¯å¦å«æœ‰ç¯ è¿™åº”è¯¥å±äºé“¾è¡¨æœ€åŸºæœ¬çš„æ“ä½œäº†ï¼Œå¦‚æœè¯»è€…å·²ç»çŸ¥é“è¿™ä¸ªæŠ€å·§ï¼Œå¯ä»¥è·³è¿‡ã€‚ å•é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯æ¯ä¸ªèŠ‚ç‚¹åªçŸ¥é“ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸€ä¸ªæŒ‡é’ˆçš„è¯æ— æ³•åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å«æœ‰ç¯çš„ã€‚ å¦‚æœé“¾è¡¨ä¸­ä¸å«ç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ°ç©ºæŒ‡é’ˆ null è¡¨ç¤ºé“¾è¡¨åˆ°å¤´äº†ï¼Œè¿™è¿˜å¥½è¯´ï¼Œå¯ä»¥åˆ¤æ–­è¯¥é“¾è¡¨ä¸å«ç¯ã€‚ 12345boolean hasCycle(ListNode head) &#123; while (head != null) head = head.next; return false;&#125; ä½†æ˜¯å¦‚æœé“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæŒ‡é’ˆå°±ä¼šé™·å…¥æ­»å¾ªç¯ï¼Œå› ä¸ºç¯å½¢æ•°ç»„ä¸­æ²¡æœ‰ null æŒ‡é’ˆä½œä¸ºå°¾éƒ¨èŠ‚ç‚¹ã€‚ ç»å…¸è§£æ³•å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªè·‘å¾—å¿«ï¼Œä¸€ä¸ªè·‘å¾—æ…¢ã€‚å¦‚æœä¸å«æœ‰ç¯ï¼Œè·‘å¾—å¿«çš„é‚£ä¸ªæŒ‡é’ˆæœ€ç»ˆä¼šé‡åˆ° nullï¼Œè¯´æ˜é“¾è¡¨ä¸å«ç¯ï¼›å¦‚æœå«æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¶…æ…¢æŒ‡é’ˆä¸€åœˆï¼Œå’Œæ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜é“¾è¡¨å«æœ‰ç¯ã€‚ 123456789101112boolean hasCycle(ListNode head) &#123; ListNode fast, slow; fast = slow = head; while (fast != null &amp;&amp; fast.next != null) &#123; fast = fast.next.next; slow = slow.next; if (fast == slow) return true; &#125; return false;&#125; 2ã€å·²çŸ¥é“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œè¿”å›è¿™ä¸ªç¯çš„èµ·å§‹ä½ç½® 1 è¿™ä¸ªé—®é¢˜ä¸€ç‚¹éƒ½ä¸å›°éš¾ï¼Œæœ‰ç‚¹ç±»ä¼¼è„‘ç­‹æ€¥è½¬å¼¯ï¼Œå…ˆç›´æ¥çœ‹ä»£ç ï¼š 12345678910111213141516ListNode detectCycle(ListNode head) &#123; ListNode fast, slow; fast = slow = head; while (fast != null &amp;&amp; fast.next != null) &#123; fast = fast.next.next; slow = slow.next; if (fast == slow) break; &#125; // ä¸Šé¢çš„ä»£ç ç±»ä¼¼ hasCycle å‡½æ•° slow = head; while (slow != fast) &#123; fast = fast.next; slow = slow.next; &#125; return slow;&#125; å¯ä»¥çœ‹åˆ°ï¼Œå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä»»ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åè®©å®ƒä¿©ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå†æ¬¡ç›¸é‡æ—¶æ‰€åœ¨çš„èŠ‚ç‚¹ä½ç½®å°±æ˜¯ç¯å¼€å§‹çš„ä½ç½®ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œå‡è®¾æ…¢æŒ‡é’ˆ slow èµ°äº† k æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ fast ä¸€å®šèµ°äº† 2k æ­¥ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯” slow å¤šèµ°äº† k æ­¥ï¼ˆä¹Ÿå°±æ˜¯ç¯çš„é•¿åº¦ï¼‰ã€‚ 2 è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º mï¼Œé‚£ä¹ˆç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹ head çš„è·ç¦»ä¸º k - mï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä» head å‰è¿› k - m æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚ å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿› k - m æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚ 3 æ‰€ä»¥ï¼Œåªè¦æˆ‘ä»¬æŠŠå¿«æ…¢æŒ‡é’ˆä¸­çš„ä»»ä¸€ä¸ªé‡æ–°æŒ‡å‘ headï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåŒé€Ÿå‰è¿›ï¼Œk - m æ­¥åå°±ä¼šç›¸é‡ï¼Œç›¸é‡ä¹‹å¤„å°±æ˜¯ç¯çš„èµ·ç‚¹äº†ã€‚ 3ã€å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹ ç±»ä¼¼ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®©å¿«æŒ‡é’ˆä¸€æ¬¡å‰è¿›ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡å‰è¿›ä¸€æ­¥ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨å°½å¤´æ—¶ï¼Œæ…¢æŒ‡é’ˆå°±å¤„äºé“¾è¡¨çš„ä¸­é—´ä½ç½®ã€‚ 123456while (fast != null &amp;&amp; fast.next != null) &#123; fast = fast.next.next; slow = slow.next;&#125;// slow å°±åœ¨ä¸­é—´ä½ç½®return slow; å½“é“¾è¡¨çš„é•¿åº¦æ˜¯å¥‡æ•°æ—¶ï¼Œslow æ°å·§åœåœ¨ä¸­ç‚¹ä½ç½®ï¼›å¦‚æœé•¿åº¦æ˜¯å¶æ•°ï¼Œslow æœ€ç»ˆçš„ä½ç½®æ˜¯ä¸­é—´åå³ï¼š center å¯»æ‰¾é“¾è¡¨ä¸­ç‚¹çš„ä¸€ä¸ªé‡è¦ä½œç”¨æ˜¯å¯¹é“¾è¡¨è¿›è¡Œå½’å¹¶æ’åºã€‚ å›æƒ³æ•°ç»„çš„å½’å¹¶æ’åºï¼šæ±‚ä¸­ç‚¹ç´¢å¼•é€’å½’åœ°æŠŠæ•°ç»„äºŒåˆ†ï¼Œæœ€ååˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ã€‚å¯¹äºé“¾è¡¨ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨æ˜¯å¾ˆç®€å•çš„ï¼Œéš¾ç‚¹å°±åœ¨äºäºŒåˆ†ã€‚ ä½†æ˜¯ç°åœ¨ä½ å­¦ä¼šäº†æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå°±èƒ½å®ç°é“¾è¡¨çš„äºŒåˆ†äº†ã€‚å…³äºå½’å¹¶æ’åºçš„å…·ä½“å†…å®¹æœ¬æ–‡å°±ä¸å…·ä½“å±•å¼€äº†ã€‚ 4ã€å¯»æ‰¾é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªå…ƒç´  æˆ‘ä»¬çš„æ€è·¯è¿˜æ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œè®©å¿«æŒ‡é’ˆå…ˆèµ° k æ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆå¼€å§‹åŒé€Ÿå‰è¿›ã€‚è¿™æ ·å½“å¿«æŒ‡é’ˆèµ°åˆ°é“¾è¡¨æœ«å°¾ null æ—¶ï¼Œæ…¢æŒ‡é’ˆæ‰€åœ¨çš„ä½ç½®å°±æ˜¯å€’æ•°ç¬¬ k ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼ˆä¸ºäº†ç®€åŒ–ï¼Œå‡è®¾ k ä¸ä¼šè¶…è¿‡é“¾è¡¨é•¿åº¦ï¼‰ï¼š 1234567891011ListNode slow, fast;slow = fast = head;while (k-- &gt; 0) fast = fast.next;while (fast != null) &#123; slow = slow.next; fast = fast.next;&#125;return slow; äºŒã€å·¦å³æŒ‡é’ˆçš„å¸¸ç”¨ç®—æ³•å·¦å³æŒ‡é’ˆåœ¨æ•°ç»„ä¸­å®é™…æ˜¯æŒ‡ä¸¤ä¸ªç´¢å¼•å€¼ï¼Œä¸€èˆ¬åˆå§‹åŒ–ä¸º left = 0, right = nums.length - 1 ã€‚ 1ã€äºŒåˆ†æŸ¥æ‰¾ å‰æ–‡ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€æœ‰è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œåªå†™æœ€ç®€å•çš„äºŒåˆ†ç®—æ³•ï¼Œæ—¨åœ¨çªå‡ºå®ƒçš„åŒæŒ‡é’ˆç‰¹æ€§ï¼š 1234567891011121314int binarySearch(int[] nums, int target) &#123; int left = 0; int right = nums.length - 1; while(left &lt;= right) &#123; int mid = (right + left) / 2; if(nums[mid] == target) return mid; else if (nums[mid] &lt; target) left = mid + 1; else if (nums[mid] &gt; target) right = mid - 1; &#125; return -1;&#125; 2ã€ä¸¤æ•°ä¹‹å’Œ ç›´æ¥çœ‹ä¸€é“ LeetCode é¢˜ç›®å§ï¼š title åªè¦æ•°ç»„æœ‰åºï¼Œå°±åº”è¯¥æƒ³åˆ°åŒæŒ‡é’ˆæŠ€å·§ã€‚è¿™é“é¢˜çš„è§£æ³•æœ‰ç‚¹ç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾ï¼Œé€šè¿‡è°ƒèŠ‚ left å’Œ right å¯ä»¥è°ƒæ•´ sum çš„å¤§å°ï¼š 123456789101112131415int[] twoSum(int[] nums, int target) &#123; int left = 0, right = nums.length - 1; while (left &lt; right) &#123; int sum = nums[left] + nums[right]; if (sum == target) &#123; // é¢˜ç›®è¦æ±‚çš„ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„ return new int[]&#123;left + 1, right + 1&#125;; &#125; else if (sum &lt; target) &#123; left++; // è®© sum å¤§ä¸€ç‚¹ &#125; else if (sum &gt; target) &#123; right--; // è®© sum å°ä¸€ç‚¹ &#125; &#125; return new int[]&#123;-1, -1&#125;;&#125; 3ã€åè½¬æ•°ç»„ 1234567891011void reverse(int[] nums) &#123; int left = 0; int right = nums.length - 1; while (left &lt; right) &#123; // swap(nums[left], nums[right]) int temp = nums[left]; nums[left] = nums[right]; nums[right] = temp; left++; right--; &#125;&#125; 4ã€æ»‘åŠ¨çª—å£ç®—æ³• è¿™ä¹Ÿè®¸æ˜¯åŒæŒ‡é’ˆæŠ€å·§çš„æœ€é«˜å¢ƒç•Œäº†ï¼Œå¦‚æœæŒæ¡äº†æ­¤ç®—æ³•ï¼Œå¯ä»¥è§£å†³ä¸€å¤§ç±»å­å­—ç¬¦ä¸²åŒ¹é…çš„é—®é¢˜ï¼Œä¸è¿‡ã€Œæ»‘åŠ¨çª—å£ã€ç¨å¾®æ¯”ä¸Šè¿°çš„è¿™äº›ç®—æ³•å¤æ‚äº›ã€‚ å¹¸è¿çš„æ˜¯ï¼Œè¿™ç±»ç®—æ³•æ˜¯æœ‰æ¡†æ¶æ¨¡æ¿çš„ï¼Œä¸‹ç¯‡æ–‡ç« å°±å‡†å¤‡è®²è§£ã€Œæ»‘åŠ¨çª—å£ã€ç®—æ³•æ¨¡æ¿ï¼Œå¸®å¤§å®¶ç§’æ€å‡ é“ LeetCode å­ä¸²åŒ¹é…çš„é—®é¢˜ã€‚]]></content>
      <tags>
        <tag>java</tag>
        <tag>åŒæŒ‡é’ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[labuladongå…¬ä¼—å·ç¬”è®°]]></title>
    <url>%2F2019%2F12%2F22%2Flabuladong%E5%85%AC%E4%BC%97%E5%8F%B7%E7%AC%94%E8%AE%B0(dp%26%26%E4%BA%8C%E5%88%86).html</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’ï¼šä¸åŒçš„å®šä¹‰äº§ç”Ÿä¸åŒçš„è§£æ³•æ–‡ç« é“¾æ¥é”®ç›˜ç»„åˆé—®é¢˜ æ”¶è·å¯¹çŠ¶æ€æœºçš„å®šä¹‰ä¸åŒï¼Œå¾—åˆ°çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±å®Œå…¨ä¸åŒ ç»å…¸é¢è¯•é¢˜ï¼šæœ€é•¿å›æ–‡å­ä¸²ï¼ˆLeetCodeç¬¬5é¢˜ï¼‰æ–‡ç« é“¾æ¥ç»å…¸é¢è¯•é¢˜ï¼šæœ€é•¿å›æ–‡å­ä¸² æ”¶è·å›æ–‡å­ä¸²æœ‰ä¸¤ä¸ªåšæ³•ï¼Œä¸€ä¸ªæ˜¯ä»ä¸­é—´å±•å¼€çš„ç®—æ³•ï¼Œä¸€ä¸ªæ˜¯ä¸¤ä¾§å‘ä¸­é—´é é½çš„dp å•è°ƒæ ˆæ–‡ç« é“¾æ¥å•è°ƒæ ˆ Monotonic Stack çš„ä½¿ç”¨ æ”¶è· å•è°ƒæ ˆç®—æ³•è¿‡ç¨‹ å¤„ç†Next Greater Numberï¼Œä»åå‘å‰éå† å…ˆåˆ¤æ–­ æ ˆæ˜¯å¦ä¸ºç©º å’Œ æ ˆé¡¶çš„å€¼æ˜¯ä¸æ˜¯æ¯”å³å°†å…¥æ ˆçš„å€¼å° å¦‚æœæ ˆç©ºï¼Œåˆ™è¯´æ˜æ‰¾ä¸åˆ°æ¯”è¯¥æ•°å¤§çš„æ•°ï¼Œå°†å…¶Next Greater Numberç½®ä¸º-1 æ ˆä¸ä¸ºç©ºï¼Œç›´åˆ°æ‰¾åˆ°æ¯”è¯¥æ•°å¤§çš„æ•°ï¼Œå°†å…¶ç½®ä¸ºæ ˆé¡¶ï¼Œæ¯”å…¶å°çš„ä¹Ÿå°±æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº† ç„¶åå°†è¯¥æ•°çš„Next Greater Numberå®šä¸ºæ ˆé¡¶å…ƒç´ ï¼Œå¹¶å°†è¯¥æ•°åŠ å…¥æ ˆä¸­ å¤„ç†å¾ªç¯æ•°ç»„ å°†è¯¥æ•°ç»„çš„åŒå€é•¿åº¦æ„é€ å‡ºæ¥ï¼Œè¿™æ ·çš„è¯å°±å°±ä¸ä»…èƒ½æ¯”è¾ƒå³è¾¹çš„æ•°ï¼Œè¿˜èƒ½æ¯”è¾ƒå·¦è¾¹çš„æ•°äº† äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¯¦è§£æ–‡ç« é“¾æ¥äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¯¦è§£ äºŒåˆ†æŸ¥æ‰¾çš„æ¡†æ¶ æœ€åŸºæœ¬çš„æ¡†æ¶1ï¼ˆå½¢å¼æ˜¯[a,b)ï¼‰ 123456789101112131415int binarySearch(int nums[],int target)&#123; int left = 0; int right = nums.length; while(left &lt; right)&#123; //é˜²æ­¢è®¡ç®—midæ—¶æº¢å‡º int mid = left + (right - left) / 2; if(nums[mid] == target) return mid; else if(nums[mid] &lt; target) left = mid + 1; else if(nums[mid] &gt; target) right = mid; &#125; return -1;&#125; æœ€åŸºæœ¬çš„æ¡†æ¶2 (å½¢å¼æ˜¯[a,b]) 123456789101112131415int binarySearch(int nums[],int target)&#123; int left = 0; int right = nums.length - 1; while(left &lt;= right)&#123; //é˜²æ­¢è®¡ç®—midæ—¶æº¢å‡º int mid = left + (right - left) / 2; if(nums[mid] == target) return mid; else if(nums[mid] &lt; target) left = mid + 1; else if(nums[mid] &gt; target) right = mid - 1; &#125; return -1;&#125; å¯»æ‰¾å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢ 12345678910111213141516171819202122232425/** * è¿”å›çš„æ˜¯æ¯”targetå°çš„æ•°é‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€å·¦targetçš„ä¸‹æ ‡ * @param nums * @param target * @return */int binarySearchLeft(int nums[],int target)&#123; int left = 0; int right = nums.length; while(left &lt; right)&#123; //é˜²æ­¢è®¡ç®—midæ—¶æº¢å‡º int mid = left + (right - left) / 2; if(nums[mid] == target) right = mid; else if(nums[mid] &lt; target) left = mid + 1; else if(nums[mid] &gt; target) right = mid; &#125; //è¦æ—¶åˆ»æ³¨æ„å¤„ç†è¾¹ç•Œï¼Œå¦‚æœæ•´ä¸ªæ•°ç»„éƒ½æ²¡æœ‰è¿™ä¸ªtargetï¼Œåˆ™leftä¼šåˆ°nums.length // target æ¯”æ‰€æœ‰æ•°éƒ½å¤§ if (left == nums.length) return -1; // ç±»ä¼¼ä¹‹å‰ç®—æ³•çš„å¤„ç†æ–¹å¼ return nums[left] == target ? left : -1;&#125; å¯»æ‰¾å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢ 1234567891011121314151617181920212223242526/** * è¿”å›çš„æ˜¯æœ€å³targetçš„ä¸‹æ ‡ * @param nums * @param target * @return */int binarySearchRight(int nums[],int target)&#123; int left = 0; int right = nums.length; while(left &lt; right)&#123; //é˜²æ­¢è®¡ç®—midæ—¶æº¢å‡º int mid = left + (right - left) / 2; if(nums[mid] == target) left = mid + 1; else if(nums[mid] &lt; target) left = mid + 1; else if(nums[mid] &gt; target) right = mid; &#125; //è¦æ—¶åˆ»æ³¨æ„å¤„ç†è¾¹ç•Œï¼Œå¦‚æœæ•´ä¸ªæ•°ç»„éƒ½æ²¡æœ‰è¿™ä¸ªtargetï¼Œåˆ™leftä¼šåˆ°nums.length // target æ¯”æ‰€æœ‰æ•°éƒ½å¤§ // return left - 1; if (left == 0) return -1; // ç±»ä¼¼ä¹‹å‰ç®—æ³•çš„å¤„ç†æ–¹å¼ return nums[left-1] == target ? (left-1) : -1;&#125; æ”¶è· å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢ï¼Œleftå³ä»£è¡¨æ¯”targetå°çš„æ•°çš„æ•°é‡ å³ä¾§è¾¹ç•Œçš„äºŒåˆ†æœç´¢ï¼Œleftå³ä»£è¡¨æ¯”targetå¤§çš„ç¬¬ä¸€ä¸ªæ•°çš„ä¸‹æ ‡ï¼Œæ¯”å¦‚æ˜¯5ï¼Œåˆ™ä»£è¡¨ç´¢å¼•ä¸º4æ˜¯targetçš„æœ€å³ä¾§æ•° æœ€é•¿é€’å½’å­åºåˆ—(LeetCodeç¬¬300é¢˜)æ–‡ç« é“¾æ¥åŠ¨æ€è§„åˆ’ä¹‹æœ€é•¿é€’å½’å­åºåˆ— ä¸¤ä¸ªæ–¹æ³•ï¼š dp æ‰‘å…‹ç‰Œç®—æ³•ï¼Œè¿ç”¨äºŒåˆ†æŸ¥æ‰¾ dpæ³¨æ„äº‹é¡¹æœ€é‡è¦çš„æ˜¯å…ˆç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¹¶ä¸”æ˜ç¡®dpæ•°ç»„çš„å«ä¹‰ï¼Œè¿™é‡Œè¦æ±‚çš„æ˜¯æœ€é•¿é€’å½’å­åºåˆ—ï¼Œæ‰€å»ºç«‹çš„dpæ•°ç»„æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„(ä¸ºä½•é€‰å–çš„æ˜¯ä¸€ç»´æ•°ç»„å‘¢ï¼Ÿ)ï¼Œå¹¶ä¸”dp[i]çš„å«ä¹‰æ˜¯æŒ‡ä»¥ç´¢å¼•iç»“å°¾çš„æœ€é•¿é€’å½’å­åºåˆ—ã€‚ é‡‡ç”¨å½’çº³æ³•å¯çŸ¥ï¼Œè‹¥dp[0â€¦i-1]å¯çŸ¥ï¼Œåˆ™ 1234for(int j = 0; j &lt; i;j++)&#123; if(nums[j] &lt; nums[i]) dp[i] = Math.max(dp[i],dp[j]+1);&#125; å³dp[i]æ˜¯ä¹‹å‰çš„dp[0â€¦i-1]ï¼Œåˆ¤æ–­å…¶æ˜¯å¦å°äºnums[i]ï¼Œè‹¥å°äºåˆ™nums[i]å¯ä»¥æ¥åˆ°å…¶åé¢ï¼Œæœ€åé€‰å–ä¸€ä¸ªæœ€é•¿çš„é€’å½’å­åºåˆ—å³å¯ã€‚ è¿˜æœ‰è¦è€ƒè™‘çš„å°±æ˜¯basecaseï¼Œç”±äºæ˜¯æœ€çŸ­é€’å½’å­åºåˆ—è‡³å°‘ä¸º1ï¼Œæ‰€ä»¥basecaseä¸º1ï¼Œæ‰€ä»¥dpæ•°ç»„å…¨éƒ¨åˆå§‹åŒ–ä¸º1å³å¯ã€‚ ä»£ç 123456789101112131415public int lengthOfLtsByDp(int nums[])&#123; int[] dp = new int[nums.length]; Arrays.fill(dp,1); for(int i = 0;i &lt; nums.length;i++)&#123; for(int j = 0; j &lt; i;j++)&#123; if(nums[j] &lt; nums[i]) dp[i] = Math.max(dp[i],dp[j]+1); &#125; &#125; int res = 0; for(int i = 0; i &lt; dp.length; i++)&#123; res = Math.max(res,dp[i]); &#125; return res;&#125; æ‰‘å…‹ç‰Œç®—æ³•æœ€é•¿é€’å½’å­åºåˆ—å…¶å®ç±»ä¼¼äºæˆ‘ä»¬å¹³æ—¶ç©çš„èœ˜è››çº¸ç‰Œï¼Œegï¼š2ï¼Œ3ï¼Œ1ï¼Œ9ï¼Œ7ï¼Œ4ï¼Œ6ï¼Œ3 ï¼ŒåŒä¸€å †çš„ç‰Œåªèƒ½æ˜¯å°çš„æ”¾åœ¨å¤§çš„ä¸Šé¢ï¼Œå¦‚ä¸Šï¼Œå°±åˆ†æˆ2ï¼Œ1 3 9ï¼Œ7ï¼Œ6ï¼Œ3 4 ä¸€å…±4å †ï¼Œåˆ™æœ€é•¿é€’å½’å­åºåˆ—æ•°ä¸º 4 ã€‚ è‡³äºå¦‚ä½•å¤„ç†æ‰‘å…‹ç‰Œæ”¾ç½®é—®é¢˜ï¼Œåˆ™å¯ä»¥é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå› ä¸ºå †é¡¶éƒ½æ˜¯æœ‰åºçš„ã€‚ 12345678910111213141516171819202122232425public int lengthOfLtsByBinarySearch(int[] nums)&#123; //å †çš„ä¸ªæ•° int piles = 0; //è®°å½•æ¯ä¸ªå †çš„æœ€ä¸Šé¢çš„ç‰Œï¼Œä¿è¯æœ‰åºï¼Œæ‰€ä»¥å¿…é¡»åˆ©ç”¨æœ€å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æ³• int[] top = new int[nums.length]; for(int i = 0;i &lt; nums.length;i++)&#123; int poker = nums[i]; int left = 0; int right = piles; while(left &lt; right)&#123; int mid = left + (right - left) / 2; if(poker &lt; top[mid]) right = mid; else if(poker &gt; top[mid]) left = mid + 1; else right = mid; &#125; //leftçš„å–å€¼æœ‰[0,nums.length],å½“leftä¸ºnums.lengthæ—¶ï¼Œè¿™é‡Œæ˜¯pilesï¼Œè¯´æ˜ç‰Œå †ä¸Šçš„ç¬¬ä¸€å¼ ç‰Œå…¨éƒ¨æ¯”å®ƒå°ï¼Œåˆ™è¯´æ˜æ­¤æ—¶éœ€è¦æ–°å»ºä¸€ä¸ªç‰Œå † if (left == piles) piles++; top[left] = poker; &#125; return piles;&#125; â€‹ å­åºåˆ—è§£é¢˜æ¨¡æ¿æ–‡ç« é“¾æ¥å­åºåˆ—è§£é¢˜æ¨¡æ¿ æ”¶è·ä¸¤ç§æ€è·¯ dpæ•°ç»„ä¸ºä¸€ç»´æ•°ç»„ã€‚å¸¸è§é¢˜å‹æœ‰ æœ€é•¿é€’å¢å­åºåˆ—ã€‚åœ¨å­æ•°ç»„array[0..i]ä¸­ï¼Œä»¥array[i]ç»“å°¾çš„ç›®æ ‡å­åºåˆ—ï¼ˆæœ€é•¿é€’å¢å­åºåˆ—ï¼‰çš„é•¿åº¦æ˜¯dp[i]ã€‚ æ¨¡æ¿ï¼š 12345678int n = array.length;int[] dp = new int[n];for (int i = 1; i &lt; n; i++) &#123; for (int j = 0; j &lt; i; j++) &#123; dp[i] = æœ€å€¼(dp[i], dp[j] + ...) &#125;&#125; dpæ•°ç»„ä¸ºäºŒç»´æ•°ç»„ã€‚äºŒç»´æ•°ç»„åˆåˆ†ä¸ºæ˜¯å¯¹ä¸¤å­—ç¬¦ä¸²è€Œè¨€å’Œä¸€ä¸ªå­—ç¬¦ä¸²è€Œè¨€ã€‚ æ¨¡æ¿ï¼š 1234567891011int n = arr.length;int[][] dp = new dp[n][n];for (int i = 0; i &lt; n; i++) &#123; for (int j = 1; j &lt; n; j++) &#123; if (arr[i] == arr[j]) dp[i][j] = dp[i][j] + ... else dp[i][j] = æœ€å€¼(...) &#125;&#125; å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨çš„dpä¸ºäºŒç»´æ•°ç»„ã€‚å¸¸è§é¢˜å‹æœ‰ä¹‹å‰åšè¿‡çš„ æœ€é•¿å›æ–‡å­ä¸²ï¼Œä½¿ç”¨åŒæŒ‡é’ˆï¼Œä»ä¸¤è¾¹å‘ä¸­é—´é æ‹¢ï¼ŒäºŒç»´åˆ†åˆ«æŒ‡çš„æ˜¯å·¦ä¾§æŒ‡é’ˆå’Œå³ä¾§æŒ‡é’ˆçš„ç´¢å¼•å€¼ã€‚å¯ä»¥æ¨å¹¿åˆ°æœ€é•¿å›æ–‡å­åºåˆ—ã€‚ å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨çš„dpä¸ºäºŒç»´æ•°ç»„ã€‚ä¾‹å¦‚ ç¼–è¾‘è·ç¦» å’Œ æœ€é•¿å…¬å…±å­åºåˆ— å›æ–‡å­åºåˆ—çš„æ±‚è§£(LeetCodeç¬¬516é¢˜)å›æ–‡å­åºåˆ—çš„æ±‚è§£ï¼Œæ˜¯åœ¨å›æ–‡å­ä¸²çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œdp[i][j] çš„é•¿åº¦å–å†³äºs[i]å’Œs[j]ä»¥åŠdp[i+1][j-1] å½“s[i] == s[j]æ—¶ï¼Œdp[i][j] = dp[i+1][j-1] + 2 å½“s[i] != s[j]æ—¶ï¼Œ dp[i][j] = Math.max(dp[i][j-1]ï¼Œdp[i+1][j]) å½“è½¬ç§»æ–¹ç¨‹å†™å¥½åï¼Œæœ€å¤§çš„éš¾ç‚¹å°±æ˜¯å¦‚ä½•éå†dpï¼Œå»ºè®®é‡‡ç”¨è¡¨çš„å½¢å¼ï¼Œä»æ–¹ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¿…é¡»å¾—åˆ°å·¦è¾¹ã€ä¸‹è¾¹ã€å·¦ä¸‹ï¼Œä¸‰ä¸ªdpè¡¨è¾¾å¼æ‰èƒ½å¾—åˆ°ä¸‹ä¸€ä¸ªdpè¡¨è¾¾å¼ï¼Œæ•…å¯ä»¥é‡‡ç”¨æ–œç€éå†çš„æ–¹å¼å’Œé€†å¾ªç¯ä»ä¸‹å¾€ä¸Šéå†å³å¯ã€‚ 123456789101112131415161718192021222324/** * æ–œç€éå†çš„dp * @param nums * @return */ private static int dp(int[] nums)&#123; int[][] dp = new int[nums.length][nums.length];// Arrays.fill(dp, 0); int j = 0; for(int i = 0;i &lt; nums.length;i++)&#123; dp[i][i] = 1; &#125; //æ–œç€å¾ªç¯éå† for(int n = 1;n &lt; nums.length;n++)&#123; for(int i = 0; i &lt; nums.length - n;i++)&#123; j = i + n; if(nums[i] == nums[j]) dp[i][j] = dp[i+1][j-1] + 2; else dp[i][j] = Math.max(dp[i][j-1],dp[i+1][j]); &#125; &#125; return dp[0][nums.length-1]; &#125; 12345678910111213141516171819202122232425 /** * é€†å¾ªç¯éå†çš„dp * @param nums * @return */ private static int dpByInverse(int[] nums)&#123; int[][] dp = new int[nums.length][nums.length];// Arrays.fill(dp, 0);// int j = 0; int n = nums.length; for(int i = 0;i &lt; nums.length;i++)&#123; dp[i][i] = 1; &#125; // åç€éå†ä¿è¯æ­£ç¡®çš„çŠ¶æ€è½¬ç§» for (int i = n - 1; i &gt;= 0; i--) &#123; for (int j = i + 1; j &lt; n; j++) &#123; // çŠ¶æ€è½¬ç§»æ–¹ç¨‹ if (nums[i] == nums[j]) dp[i][j] = dp[i + 1][j - 1] + 2; else dp[i][j] = Math.max(dp[i + 1][j], dp[i][j - 1]); &#125; &#125; return dp[0][nums.length-1]; &#125; ç¼–è¾‘è·ç¦»ï¼ˆLeetCodeç¬¬72é¢˜ï¼‰å…ˆæ€»ç»“ä¸€å“ˆï¼šä»åå¾€å‰ï¼Œç„¶åå†™é€’å½’å‡½æ•°ï¼Œç„¶åç”»DP Tableï¼Œå†™éé€’å½’ï¼Œæ³¨æ„Base caseï¼ æ–‡ç« é“¾æ¥ç¼–è¾‘è·ç¦» é¢˜ç›®ç»™å®šä¸¤ä¸ªå•è¯ word1 å’Œ word2ï¼Œè®¡ç®—å‡ºå°† word1 è½¬æ¢æˆ word2 æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•° ã€‚ ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š æ’å…¥ä¸€ä¸ªå­—ç¬¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ç¤ºä¾‹ 1: 123456è¾“å…¥: word1 = "horse", word2 = "ros"è¾“å‡º: 3è§£é‡Š: horse -&gt; rorse (å°† 'h' æ›¿æ¢ä¸º 'r')rorse -&gt; rose (åˆ é™¤ 'r')rose -&gt; ros (åˆ é™¤ 'e') ç¤ºä¾‹ 2: 12345678è¾“å…¥: word1 = "intention", word2 = "execution"è¾“å‡º: 5è§£é‡Š: intention -&gt; inention (åˆ é™¤ 't')inention -&gt; enention (å°† 'i' æ›¿æ¢ä¸º 'e')enention -&gt; exention (å°† 'n' æ›¿æ¢ä¸º 'x')exention -&gt; exection (å°† 'n' æ›¿æ¢ä¸º 'c')exection -&gt; execution (æ’å…¥ 'u') æ€è·¯ä¸ªäººè§‰å¾—å…¬ä¼—å·è¯´çš„æœ‰çš„å•°å—¦å“ˆ~ æˆ‘å°±ç¨å¾®æ€»ç»“ä¸€ä¸‹æˆ‘çš„æƒ³æ³•ï¼š æ‹¿åˆ°é¢˜ç›®ï¼Œåˆæ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´çš„é—®é¢˜ï¼Œæ¯«æ— ç–‘é—®ç¬¬ä¸€æƒ³æ³•æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆçš„dpï¼Œå› ä¸ºä¸€èˆ¬é‡åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é—®é¢˜éƒ½æ˜¯é‡‡ç”¨dpäºŒç»´æ•°ç»„è§£å†³(åŒæŒ‡é’ˆ)ï¼› dpè§£å†³é—®é¢˜ï¼Œé¦–å…ˆå°±è¦ææ¸…æ¥šdpæ•°ç»„ä»£è¡¨ä»€ä¹ˆï¼Œå…¶æ¬¡å°±æ˜¯çŠ¶æ€è½¬ç§»æœ‰å“ªå‡ ç§æƒ…å†µï¼ ä¸€èˆ¬dpäºŒç»´æ•°ç»„ dp[i][j] ,ä»£è¡¨ä»¥s1[i-1]ã€s2[j-1]ç»“å°¾çš„è½¬æ¢çš„æœ€å°‘æ“ä½œæ•°ï¼Œä¸ºå•¥æ˜¯i-1,j-1ï¼å› ä¸ºdpæ˜¯ä»dp[1][1]å¼€å§‹çš„ï¼Œä»£è¡¨å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ï¼ ææ˜ç™½äº†dpæ•°ç»„æ˜¯å•¥å«ä¹‰ï¼Œç°åœ¨å°±è¦ææ¸…æ¥šæœ‰å“ªå‡ ç§çŠ¶æ€è½¬ç§»ï¼Œä»å…¬ä¼—å·ä¸­å¯ä»¥çœ‹åˆ°ï¼Œdp[i][j]æƒ³è¦å¾€å‰ç§»åŠ¨ï¼Œåˆ™å¯ä»¥è¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ã€æ’å…¥æ“ä½œï¼Œå¦‚æœåŒæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ç›¸åŒï¼Œåˆ™æ— éœ€è¿›è¡Œä»»ä½•æ“ä½œï¼Œç›´æ¥å‘å‰ç§»åŠ¨å°±è¡Œï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶ dp[i][j] = dp[i-1][j-1] ; å‰©ä¸‹çš„æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹å¦‚ä½•åšå‘¢â€¦å–ä¸‰è€…æœ€å°å€¼å°±å¥½äº†å˜›ï¼ï¼ï¼ å…¶å®è¿™ä¸ªç”»ä¸ªDPè¡¨å°±éå¸¸çš„æ¸…æ™°äº†ï¼Œç”»DPè¡¨ä¹Ÿèƒ½æé†’æˆ‘ä»¬æ³¨æ„Base Case,å› ä¸ºæ²¡æœ‰Base Case ï¼Œæˆ‘ä»¬æ˜¯è‚¯å®šå†™ä¸å‡ºæ¥DPè¡¨ä¸­çš„å€¼çš„ï¼› æœ‰ä¸ªæ³¨æ„çš„ç‚¹ï¼Œå°±æ˜¯å¤‡å¿˜å½•åšæ³•æ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥å½“iæˆ–è€…j = -1æ—¶ï¼Œæ­¤æ—¶çš„iã€jä»£è¡¨çš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ˜¯ä»0å¼€å§‹çš„ï¼Œæ¯”å¦‚è¯´æ­¤æ—¶j = 5çš„ï¼Œè¯´æ˜è¿˜æœ‰6ä¸ªå­—ç¬¦éœ€è¦åˆ é™¤ï¼Œæ‰€ä»¥è¦è®°å¾—+1 ï¼Œè€Œdpæ˜¯ä»dp[1][1]å¼€å§‹çš„(æ¯”å¦‚ä¸¤ä¸ªå­—ç¬¦ä¸²â€™â€™abcâ€â€acdâ€ï¼Œdp[1][1]æŒ‡çš„æ˜¯éƒ½æŒ‡å‘a)ï¼ï¼ï¼ï¼è¿™ä¸ªå¾ˆå®¹æ˜“é”™ï¼ ä¸‰ç§åšæ³• å¸¸è§„æš´åŠ›é€’å½’(è¶…æ—¶) 123456789101112131415161718192021class Solution &#123; public int minDistance(String word1, String word2) &#123; int len = dp_violence(word1,word2,word1.length()-1,word2.length()-1); return len; &#125; private int dp_violence(String s1,String s2,int i, int j) &#123; if(i == -1) return j + 1; if(j == -1) return i + 1; if(s1.charAt(i) == s2.charAt(j))&#123; return dp_violence(s1,s2,i-1,j-1); &#125; else&#123; int min = Math.min(dp_violence(s1,s2,i-1,j-1)+1, dp_violence(s1,s2,i-1,j)+1); min = Math.min( dp_violence(s1,s2,i,j-1)+1,min); return min; &#125; &#125;&#125; å¸¦å¤‡å¿˜å½•çš„é€’å½’(è¿™ä¸ªè²Œä¼¼æ¯”dpæ›´ä¼˜ç§€) 1234567891011121314151617181920212223242526272829class Solution &#123; public int minDistance(String word1, String word2) &#123; int[][] beiwanglu = new int[word1.length()][word2.length()]; int len = dp_beiwanglu(beiwanglu,word1,word2,word1.length()-1,word2.length()-1); return len; &#125; private int dp_beiwanglu(int[][] beiwanglu,String s1, String s2, int i, int j) &#123; if(i == -1) return j + 1; if(j == -1) return i + 1; if(beiwanglu[i][j] != 0)&#123; return beiwanglu[i][j]; &#125; if(s1.charAt(i) == s2.charAt(j))&#123; beiwanglu[i][j] = dp_beiwanglu(beiwanglu,s1,s2,i-1,j-1); return dp_beiwanglu(beiwanglu,s1,s2,i-1,j-1); &#125; else&#123; int min = Math.min(dp_beiwanglu(beiwanglu,s1,s2,i-1,j-1)+1, dp_beiwanglu(beiwanglu,s1,s2,i-1,j)+1); min = Math.min( dp_beiwanglu(beiwanglu,s1,s2,i,j-1)+1,min); beiwanglu[i][j] = min; return min; &#125; &#125;&#125; dp 1234567891011121314151617181920212223class Solution &#123; public int minDistance(String s1, String s2) &#123; int[][] dp = new int[s1.length()+1][s2.length()+1]; for(int i = 0;i&lt;= s1.length();i++)&#123; dp[i][0] = i; &#125; for(int j = 0;j&lt;=s2.length();j++)&#123; dp[0][j] = j; &#125; for(int i = 1;i&lt;= s1.length();i++)&#123; for(int j = 1;j &lt;= s2.length();j++)&#123; if(s1.charAt(i-1) == s2.charAt(j-1))&#123; dp[i][j] = dp[i-1][j-1]; &#125; else&#123; dp[i][j] = Math.min(dp[i-1][j-1] + 1,dp[i-1][j] + 1); dp[i][j] = Math.min(dp[i][j],dp[i][j-1] + 1); &#125; &#125; &#125; return dp[s1.length()][s2.length()]; &#125;&#125; æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ï¼ˆLeetCodeç¬¬1143é¢˜ï¼‰å…¸å‹çš„dpäºŒç»´æ•°ç»„è§£å†³ï¼Œå¤ªç®€å•äº†â€¦ ç¬¬ä¸€ä¸ªè¦æ³¨æ„çš„å°±æ˜¯è¯¥dpå¯ä»¥ä¼˜åŒ–ï¼Œå½“åŒæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¸ç­‰æ—¶ï¼Œdp[i-1][j-1]å¯ä»¥ä¸ç”¨è€ƒè™‘ï¼ï¼ï¼ï¼å› ä¸ºmax(dp[i][j-1],dp[i-1][j],dp[i-1][j-1])æ˜¯ä¸€å®šè½®ä¸åˆ°æœ€åè¿™ä¸ªçš„ï¼› ç¬¬äºŒä¸ªè¦æ³¨æ„çš„ç‚¹å°±æ˜¯è®°å¾—Base Case,è®°å¾—è¦ç”»DPè¡¨ï¼ åŒæ ·è¦æ³¨æ„è¿™é‡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å°±æ˜¯dp[1][1]ï¼ï¼ï¼ï¼ï¼ ä»£ç 1234567891011121314151617class Solution &#123; public int longestCommonSubsequence(String text1, String text2) &#123; int[][] dp = new int[text1.length() + 1][text2.length() + 1]; for(int i = 1;i &lt;= text1.length();i++)&#123; for(int j = 1;j &lt;=text2.length();j++)&#123; if(text1.charAt(i-1) == text2.charAt(j-1))&#123; dp[i][j] = dp[i-1][j-1] + 1; &#125; else&#123; dp[i][j] = Math.max(dp[i-1][j],dp[i][j-1]); &#125; &#125; &#125; return dp[text1.length()][text2.length()]; &#125;&#125; æ»‘åŠ¨çª—å£ç®—æ³•(ç¤ºä¾‹:LeetCodeç¬¬1143ï¼šæœ€å°è¦†ç›–å­ä¸²é—®é¢˜) Tipï¼šæœ€é‡è¦çš„æ˜¯è¿‡æœ€åä¸€ä¸ªç”¨ä¾‹çš„è‰°è¾›ï¼Œå› ä¸ºéœ€è¦è€ƒè™‘åˆ°Integeræ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¶…è¿‡-127~128ä¹‹åä¼šnewä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¯¼è‡´å°±ç®—æ˜¯å€¼ç›¸ç­‰ï¼Œå…¶ä¹Ÿä¼šæ˜¾ç¤ºä¸ç›¸ç­‰ï¼ï¼ï¼ï¼ï¼ï¼ï¼ æ–‡ç« é“¾æ¥æ»‘åŠ¨çª—å£ç®—æ³• ä»£ç æ–‡ç« ä¸­ä½¿ç”¨C++å®ç°çš„ï¼Œæˆ‘æ˜¯åœ¨LeetCodeç”¨çš„Javaå®ç°çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566class Solution &#123; public String minWindow(String s, String t) &#123; // åˆ©ç”¨åŒæŒ‡é’ˆçš„æ€æƒ³ï¼Œå…ˆè®°å½•ä¸‹tä¼šå‡ºç°çš„å•è¯ä»¥åŠæ¬¡æ•° // ç„¶åå³æŒ‡é’ˆå¼€å§‹éå†ï¼Œæ¯å½“ä¸€ä¸ªå•è¯åŠå…¶æ¬¡æ•°åˆ°ä½åï¼Œå½“å‰å•è¯å°±åŒ¹é…å®Œæˆï¼Œç›´åˆ°æ‰€æœ‰å•è¯éƒ½åŒ¹é…å®Œæˆ // ç„¶åè®°å½•ä¸‹å½“å‰çš„å­ä¸²çš„å¼€å§‹å’Œç»“å°¾ï¼Œå³å·¦å³æŒ‡é’ˆçš„ä½ç½® // ç„¶åå¼€å§‹è¯•å›¾ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œå½“ç„¶å‰ææ˜¯tä¸­æ‰€æœ‰å­—ç¬¦ç„¶åå…¨éƒ¨åŒ¹é…å®Œæˆï¼Œå¦åˆ™å°±è·³å‡ºå¾ªç¯ï¼Œç»§ç»­èµ°å³è¾¹æŒ‡é’ˆ // ç›´åˆ°å³è¾¹æŒ‡é’ˆèµ°åˆ°åº•ï¼Œå¦‚æœèµ°åˆ°åº•é•¿åº¦ä¾æ—§æ²¡æœ‰ï¼Œåˆ™è¯´æ˜æ‰¾ä¸åˆ°æœ€å°å­ä¸²ï¼Œè¿”å›"" å¦åˆ™è¿”å›é€‚å½“çš„å­ä¸² int left = 0,right = 0; //è®¡ç®—åŒ¹é…çš„å•è¯æ•°é‡ int match = 0; //ç»Ÿè®¡ç›®æ ‡å­—ç¬¦ä¸²çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•° int nums = 0; int min_length = Integer.MAX_VALUE; int start = 0; char[] t_char = t.toCharArray(); char[] s_char = s.toCharArray(); HashMap&lt;Character, Integer&gt; windows = new HashMap&lt;Character, Integer&gt;(); HashMap&lt;Character,Integer&gt; tt = new HashMap&lt;Character, Integer&gt;(); // ç”¨ä¸¤ä¸ªmapæ¥å­˜å‚¨ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå­˜å‚¨æ–¹å¼ä¸ºkeyä¸ºå•è¯ï¼Œvalueä¸ºå•è¯å‡ºç°çš„æ•°é‡ // for (char t1: t_char)&#123; if(tt.containsKey(t1)) &#123; int value = tt.get(t1).intValue(); tt.put(t1, ++value); &#125; else&#123; nums++; tt.put(t1,1); &#125; &#125; while(right &lt; s.length())&#123; if(windows.containsKey(s_char[right]))&#123; int windows_value = windows.get(s_char[right]).intValue(); windows.put(s_char[right],++windows_value); &#125; else&#123; windows.put(s_char[right],1); &#125; //å¦‚æœå…¨éƒ¨ç¬¦åˆè¦æ±‚ if(tt.containsKey(s_char[right]) &amp;&amp; windows.get(s_char[right]).intValue() == tt.get(s_char[right]).intValue())&#123; match++; &#125; right++; while(match == nums)&#123; //è¯´æ˜å·²ç»æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„äº†ï¼Œè®°å½•ä¸‹è¯¥å­—ç¬¦ä¸²çš„èµ·å§‹å’Œç»“æŸä½ç½® int Len = right - left; if(Len &lt; min_length) &#123; min_length = Math.min(min_length,Len); start = left; &#125; int left_value = windows.get(s_char[left]).intValue(); left_value--; windows.put(s_char[left],left_value); if(tt.containsKey(s_char[left]) &amp;&amp; windows.get(s_char[left]).intValue() &lt; tt.get(s_char[left]).intValue())&#123; match--; &#125; left++; &#125; &#125; return min_length == Integer.MAX_VALUE ? "" : s.substring(start,min_length +start); &#125;&#125; æœ€å¤§å­åºåˆ—å’Œ(LeetCodeç¬¬53é¢˜)å…ˆæ€»ç»“ä¸€ä¸‹ï¼Œå¯ä»¥è¿ç”¨ dp å’Œ æ»‘åŠ¨çª—å£ ä¸¤ç§æ–¹æ³•ï¼ï¼ï¼ é¢˜ç›®ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ ç¤ºä¾‹: 123è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4],è¾“å‡º: 6è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚ æ€è·¯ dp è¦çš„æ˜¯å­ä¸²ï¼Œå¿…ç„¶å¯ä»¥ç”¨dpï¼Œè€Œä¸”æ˜¯å•å­ä¸²ä¸”éå›æ–‡ï¼Œåˆ™å¿…ç„¶ä½¿ç”¨ä¸€ç»´dpæ•°ç»„ åªè¦å®šä¹‰å¥½äº†dpæ•°ç»„ï¼Œè¿™é“é¢˜å°±æ²¡æœ‰ä»»ä½•éš¾åº¦ï¼Œdp[i]å®šä¹‰ä¸ºä»¥iä¸ºç´¢å¼•çš„å­—ç¬¦ç»“å°¾çš„æœ€å¤§å’Œ åˆ™dp[i] = Math.max(dp[i-1],nums[i])ï¼Œç„¶åå–dp[i]ä¸­æœ€å¤§çš„å³å¯ï¼ è¿™é¢˜åªæœ‰ä¸€ä¸ªå°éš¾ç‚¹ï¼Œé‚£å°±æ˜¯æ‰¾Base Case,å¥½åƒå¹¶ä¸å­˜åœ¨Base Case,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ›é€ Base Case,å¯ä»¥ä»¤dp[0] = nums[0]ï¼Œè¿™æ ·å°±æœ‰Base Caseäº†ï¼ŒåŒæ—¶æ³¨æ„å“ˆï¼Œè¿™é‡Œä¸éœ€è¦å°†dpæ•°ç»„çš„å¤§å°å˜ä¸ºnums.length+1,å› ä¸ºè¿™ä¸ªé¢˜ç›®ä¸å­˜åœ¨Base Case,æ‰€ä»¥dpåªä¼šäº§ç”Ÿnä¸ªæ•°ï¼Œä¸éœ€è¦n+1ä¸ªå­˜å‚¨ç©ºé—´ï¼Œåƒä¸Šæ–‡çš„dpäºŒç»´æ•°ç»„ï¼Œå°±å­˜åœ¨BaseCaseï¼Œå½“æœ‰ä¸€ä¸ªä¸º0æ—¶ï¼Œæœ‰ç›¸åº”çš„å–å€¼ï¼æ€»è€Œè¨€ä¹‹ï¼Œä¸€å®šè¦ç‰¹åˆ«æ³¨æ„dpçš„æ•°ç»„å¤§å°ä»¥åŠBaseCaseã€‚ æ»‘åŠ¨çª—å£ æ¯”è¾ƒç®€å•çš„æ€è·¯ã€‚å°±æ˜¯sumå¦‚æœå¤§äº0äº†ï¼Œå°±ç§»åŠ¨å³æŒ‡é’ˆå°±è¡Œï¼Œå¦‚æœæ˜¯å°äº0äº†ï¼Œå°±æ¯”è¾ƒsumå’Œnum[i]ï¼Œå–æœ€å¤§å€¼(ç›¸å½“äºç§»åŠ¨å·¦æŒ‡é’ˆ)ï¼Œç›´åˆ°å¾ªç¯ç»“æŸã€‚ ä»£ç  dp 12345678910111213class Solution &#123; public int maxSubArray(int[] nums) &#123; //res[i] = Math.max(res[i-1] + nums[i],nums[i]) int[] res = new int[nums.length]; res[0] = nums[0]; int max = res[0]; for(int i = 1;i &lt; nums.length;i++)&#123; res[i] = Math.max(res[i-1] + nums[i],nums[i]); max = Math.max(res[i],max); &#125; return max; &#125;&#125; æ»‘åŠ¨çª—å£ 1234567891011121314class Solution &#123; public int maxSubArray(int[] nums) &#123; int res = nums[0]; int sum = 0; for(int num:nums)&#123; if(sum &gt; 0) sum += num; else sum = num; res = Math.max(sum,res); &#125; return res; &#125;&#125; æ‰“å®¶åŠ«èˆ Iã€IIã€III (LeetCodeç¬¬198ã€213ã€337)æ–‡ç« é“¾æ¥æ‰“å®¶åŠ«èˆç³»åˆ— I çš„ä»£ç  è‡ªå·±å†™çš„(æ„Ÿè§‰å†™çš„æœ‰ç‚¹å•°å—¦~) 123456789101112131415161718192021222324252627class Solution &#123; public int rob(int[] nums) &#123; int[] dp = new int[nums.length]; int res = 0; if(nums.length == 0 )&#123; return 0; &#125; if(nums.length == 1)&#123; dp[0] = nums[0]; res = dp[0]; return res; &#125; if(nums.length == 2)&#123; dp[1] = Math.max(nums[1],nums[0]); res = dp[1]; return res; &#125; dp[0] = nums[0]; dp[1] = Math.max(nums[1],nums[0]); for(int i = 2;i &lt; nums.length;i++)&#123; dp[i] = Math.max(dp[i-1],dp[i-2]+nums[i]); &#125; res = Math.max(dp[nums.length-1],res) return res; &#125;&#125; é«˜åˆ†é¢˜è§£ 123456789101112class Solution &#123; public int rob(int[] nums) &#123; int n = nums.length; if (n &lt;= 1) return n == 0 ? 0 : nums[0]; int[] memo = new int[n]; memo[0] = nums[0]; memo[1] = Math.max(nums[0], nums[1]); for (int i = 2; i &lt; n; i++) memo[i] = Math.max(memo[i - 1], nums[i] + memo[i - 2]); return memo[n - 1]; &#125;&#125; II çš„ä»£ç åˆ†ä¸¤æ¬¡dpå°±å¥½äº†ï¼Œä¸€æ¬¡[0,nums.length-2]ï¼Œä¸€æ¬¡[1,nums.length-1]ï¼Œå–æœ€å¤§å€¼å°±å¥½~ 12345678910111213141516171819202122232425262728293031class Solution &#123; public int rob(int[] nums) &#123; int[] dp = new int[nums.length]; int res = 0; if(nums.length == 0 )&#123; return 0; &#125; if(nums.length == 1)&#123; dp[0] = nums[0]; res = dp[0]; return res; &#125; if(nums.length == 2)&#123; dp[1] = Math.max(nums[1],nums[0]); res = dp[1]; return res; &#125; dp[0] = nums[0]; dp[1] = Math.max(nums[1],nums[0]); for(int i = 2;i &lt; nums.length-1;i++)&#123; dp[i] = Math.max(dp[i-1],dp[i-2]+nums[i]); &#125; dp[1] = nums[1]; dp[2] = Math.max(nums[1],nums[2]); for(int i = 3;i &lt; nums.length;i++)&#123; dp[i] = Math.max(dp[i-1],dp[i-2]+nums[i]); &#125; res = Math.max(dp[nums.length-1],dp[nums.length-2]); return res; &#125;&#125; III çš„ä»£ç è¿™æ˜¯ä¸€ä¸ªæ ‘å½¢çš„dpé—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯é‡‡ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œä¹‹å‰çš„I IIåªç”¨åˆ°äº†dp[nums.length-1]ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸¤ä¸ª,è€Œä¸”è¿™é‡Œçš„dpç«Ÿç„¶ç”¨äº†é€’å½’å“Ÿâ€¦ Tip:ç‰¹æ®Šåšæ³•è®°å¿†è®°å¿†è®°å¿†ï¼ï¼ï¼ 123456789101112131415161718192021222324252627282930/** * Definition for a binary tree node. * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public int rob(TreeNode root) &#123; int[] res = robIn(root); return Math.max(res[0],res[1]); &#125; private static int[] robIn(TreeNode root)&#123; //ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•å·æ ¹èŠ‚ç‚¹å’Œä¸å·æ ¹èŠ‚ç‚¹ä¸¤ç§æƒ…å†µï¼Œè¿™é‡Œå¾ˆç‰¹æ®Šç”¨äº†dpåŒæ—¶è¿˜æ­é…äº†é€’å½’ int[] res = new int[2]; if(root == null)&#123; return res; &#125; int[] left = robIn(root.left); int[] right = robIn(root.right); //å·æ ¹èŠ‚ç‚¹ res[0] = root.val + left[1] + right[1]; //ä¸å·æ ¹èŠ‚ç‚¹ res[1] = Math.max(left[0],left[1]) + Math.max(right[0],right[1]); return res; &#125;&#125;]]></content>
      <categories>
        <category>ç¨‹åºå‘˜</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>LeetCode</tag>
        <tag>dp</tag>
        <tag>äºŒåˆ†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æƒ³å­¦çš„ä¸œè¥¿]]></title>
    <url>%2F2019%2F12%2F20%2F%E6%83%B3%E5%AD%A6%E7%9A%84%E4%B8%9C%E8%A5%BF.html</url>
    <content type="text"><![CDATA[dp äºŒå‰æ ‘é—®é¢˜ç»ƒä¹  é“¾è¡¨é—®é¢˜é›†ä¸­ç»ƒä¹  å¾®æœåŠ¡ è®¾è®¡æ¨¡å¼ javaåŸºç¡€ é¢ç»springå¸¸é—®çš„é—®é¢˜ å¹¶å‘ã€JVM]]></content>
  </entry>
  <entry>
    <title><![CDATA[SpringCloud å¾®æœåŠ¡ç¬”è®°]]></title>
    <url>%2F2019%2F12%2F13%2FSpringCloud%E7%AC%94%E8%AE%B0.html</url>
    <content type="text"><![CDATA[å¾®æœåŠ¡æ¶æ„æ¦‚è¿°å•ä½“æ¶æ„ä¸€ä¸ªå½’æ¡£åŒ…(waræ ¼å¼)åŒ…å«æ‰€æœ‰åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œé€šå¸¸ç§°ä¸ºå•ä½“åº”ç”¨ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼š å¤æ‚æ€§é«˜ æŠ€æœ¯å€ºåŠ¡(ä¸åä¸ä¿®) éƒ¨ç½²é¢‘ç‡ä½ å¯é æ€§å·® æ‰©å±•èƒ½åŠ›å—é™ï¼Œä¸åŒæ¨¡å—å¯èƒ½éœ€è¦çš„é…ç½®ä¸ä¸€æ ·ï¼Œæœ‰çš„éœ€è¦CPUå¥½ä¸€ç‚¹çš„ï¼Œæœ‰çš„éœ€è¦å­˜å‚¨å¤§ä¸€ç‚¹çš„ï¼Œä¸èƒ½æ ¹æ®ä¸šåŠ¡æ¨¡å—çš„éœ€è¦è¿›è¡Œä¼¸ç¼© é˜»ç¢æŠ€æœ¯åˆ›æ–°ï¼Œå•ä½“åº”ç”¨å¾€å¾€ä½¿ç”¨ç»Ÿä¸€çš„æŠ€æœ¯å¹³å°æˆ–è€…æ–¹æ¡ˆè§£å†³æ‰€æœ‰çš„é—®é¢˜ å¾®æœåŠ¡å¾®æœåŠ¡æ¶æ„é£æ ¼ï¼šå°†ä¸€ä¸ªå•ä¸€åº”ç”¨ç¨‹åºå¼€å‘ä¸ºä¸€ç»„å°å‹æœåŠ¡çš„æ–¹æ³•ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼ŒæœåŠ¡é—´é€šä¿¡é‡‡ç”¨è½»é‡çº§é€šä¿¡æœºåˆ¶ï¼Œå¯é€šè¿‡å…¨è‡ªåŠ¨éƒ¨ç½²æœºåˆ¶ç‹¬ç«‹éƒ¨ç½²ã€‚è¿™äº›æœåŠ¡å…±ç”¨ä¸€ä¸ªæœ€å°å‹çš„é›†ä¸­å¼çš„ç®¡ç†ï¼Œä¸åŒæœåŠ¡å¯ä»¥é‡‡ç”¨ä¸åŒçš„è¯­è¨€å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ã€‚ ç‰¹æ€§ æ¯ä¸ªå¾®æœåŠ¡å¯ä»¥ç‹¬ç«‹è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ æ¯ä¸ªæœåŠ¡ä¸ºç‹¬ç«‹çš„ä¸šåŠ¡å¼€å‘ å¾®æœåŠ¡é€šè¿‡ç±»ä¼¼äºRESTful APIç­‰ä¸€äº›è½»é‡çº§çš„é€šä¿¡æœºåˆ¶è¿›è¡Œé€šä¿¡ å…¨è‡ªåŠ¨çš„éƒ¨ç½²æœºåˆ¶ ä¼˜ç‚¹ æ˜“äºå¼€å‘å’Œç»´æŠ¤ å¯åŠ¨é€Ÿåº¦å¿« å±€éƒ¨ä¿®æ”¹æ˜“éƒ¨ç½² æŠ€æœ¯æ ˆå¹¶ä¸å—é™ æŒ‰éœ€ä¼¸ç¼© ç¼ºç‚¹ è¿ç»´è¦æ±‚é«˜ï¼Œå› ä¸ºä¼šæœ‰å‡ åç”šè‡³ä¸Šç™¾ä¸ªæœåŠ¡åä½œè¿è¡Œ åˆ†å¸ƒå¼å›ºæœ‰çš„å¤æ‚æ€§ æ¥å£è°ƒæ•´æˆæœ¬é«˜ é‡å¤åŠ³åŠ¨ å¾®æœåŠ¡è®¾è®¡åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™(SOLIDåŸåˆ™ä¹‹ä¸€) æœåŠ¡è‡ªæ²»åŸåˆ™ã€‚å³æ¯ä¸ªå¾®æœåŠ¡åº”å…·å¤‡ç‹¬ç«‹çš„ä¸šåŠ¡èƒ½åŠ›ã€ä¾èµ–ä¸è¿è¡Œç¯å¢ƒã€‚ è½»é‡çº§é€šä¿¡æœºåˆ¶ã€‚å¸¸ç”¨çš„æœ‰RESTã€AMQPã€STOMPã€MQTTç­‰ã€‚ å¾®æœåŠ¡ç²’åº¦ã€‚è¿™ä¸ªæ¯”è¾ƒéš¾ä»¥æ§åˆ¶ï¼Œä¸€èˆ¬é€šè¿‡é¢†åŸŸé©±åŠ¨è®¾è®¡(Domain Driven Designï¼ŒDDD)ä¸­çš„é™å®šä¸Šä¸‹æ–‡å¯ä½œä¸ºåˆ’åˆ†å¾®æœåŠ¡è¾¹ç•Œã€ç¡®å®šå¾®æœåŠ¡ç²’åº¦ã€‚ å¾®æœåŠ¡æ¶æ„æŠ€æœ¯é€‰å‹ä¸»æµçš„è§£å†³æ–¹æ¡ˆæ˜¯ SpringCloudã€Dubbo å…·ä½“çš„æ¡†æ¶å¯¹æ¯”ï¼šDubbo VS SpringCloud å¾®æœåŠ¡å¼€å‘æ¡†æ¶â€”â€”Spring CloudSpring Cloud ç®€ä»‹ å¹¶ä¸æ˜¯äº‘è®¡ç®—è§£å†³æ–¹æ¡ˆï¼Œæ˜¯åœ¨Spring BootåŸºç¡€ä¸Šç”¨äºå¿«é€Ÿæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„é€šç”¨æ¨¡å¼çš„å·¥å…·é›† ä½¿ç”¨Spring Cloudå¼€å‘çš„ç¨‹åºéå¸¸é€‚åˆåœ¨Dockeræˆ–è€…PaaSä¸Šéƒ¨ç½²,æ‰€ä»¥åˆå«äº‘åŸç”Ÿåº”ç”¨ï¼Œäº‘åŸç”Ÿå¯ç†è§£ä¸ºé¢å‘äº‘ç¯å¢ƒçš„è½¯ä»¶æ¶æ„ äº‘åŸç”Ÿæ¶æ„çš„æ–¹æ³•è®ºå’Œæœ€ä½³å®è·µï¼š12-factor Apps Tipsï¼š äº‘æœåŠ¡åˆ†ä¸ºä¸‰ç±»ï¼Œåˆ†åˆ«æ˜¯ IaaS(åŸºç¡€è®¾æ–½æœåŠ¡)ã€PaaS(å¹³å°æœåŠ¡)ã€SaaS(è½¯ä»¶æœåŠ¡) ä¼ é€é—¨ï¼šIaaSï¼ŒPaaSï¼ŒSaaS çš„åŒºåˆ« Spring Cloud å’Œ Spring Boot çš„è”ç³»é¦–å…ˆï¼ŒçŸ¥ä¹ä¸Šå¯¹è¿™ä¸ªæœ‰æ¯”è¾ƒå¥½çš„å›ç­”ï¼šSpring Cloud &amp; Spring Boot æ€»ç»“ä¸€ä¸‹è¯´çš„æ¯”è¾ƒå¥½çš„ï¼š spring Cloudæ˜¯ä¸€ä¸ªåŸºäºSpring Bootå®ç°çš„äº‘åº”ç”¨å¼€å‘å·¥å…·ï¼Œå®ƒä¸ºåŸºäºJVMçš„äº‘åº”ç”¨å¼€å‘ä¸­çš„é…ç½®ç®¡ç†ã€æœåŠ¡å‘ç°ã€æ–­è·¯å™¨ã€æ™ºèƒ½è·¯ç”±ã€å¾®ä»£ç†ã€æ§åˆ¶æ€»çº¿ã€å…¨å±€é”ã€å†³ç­–ç«é€‰ã€åˆ†å¸ƒå¼ä¼šè¯å’Œé›†ç¾¤çŠ¶æ€ç®¡ç†ç­‰æ“ä½œæä¾›äº†ä¸€ç§ç®€å•çš„å¼€å‘æ–¹å¼ã€‚ spring boot çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å¿«é€Ÿå¯åŠ¨ï¼Œå¿«é€Ÿæ„å»ºåº”ç”¨ç¨‹åºï¼Œè€Œä¸éœ€è¦å¤ªå¤šçš„é…ç½®æ–‡ä»¶ã€‚ spring cloud æ˜¯åˆ†å¸ƒå¼å¼€å‘çš„è§£å†³æ–¹æ¡ˆï¼ŒåŸºäºspring boot,åœ¨spring bootåšè¾ƒå°‘çš„é…ç½®ï¼Œä¾¿å¯æˆä¸º spring cloud ä¸­çš„ä¸€ä¸ªå¾®æœåŠ¡ã€‚ æœ€åŸºç¡€çš„éƒ½æ˜¯springï¼Œç„¶ååœ¨è¿™ä¸ªåŸºç¡€ä¸Šspring bootåšäº†ä¸€äº›è‡ªåŠ¨é…ç½®å’Œå®ç°ï¼Œç„¶ååˆåœ¨spring bootçš„åŸºç¡€ä¸ŠåŠ å…¥äº†åˆ†å¸ƒå¼è´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½ï¼Œè¿™æ‰æœ‰äº†spring cloudã€‚ Spring cloudæ˜¯å¾®æœåŠ¡å¼€å‘å¥—ä»¶ã€‚springboot=spring+springmvcï¼Œspringcloud=springboot+ribbon+æ³¨å†Œä¸­å¿ƒ+ç†”æ–­å™¨+â€¦ç­‰ä¸€ç³»åˆ—ç»„ä»¶ã€‚ Spring Cloud ç‰¹ç‚¹ çº¦å®šä¼˜äºé…ç½® éšè—äº†ç»„ä»¶å¤æ‚æ€§ï¼Œå¹¶ä¸”æä¾›å£°æ˜å¼çš„é…ç½®æ–¹å¼ è½»é‡çº§çš„ç»„ä»¶ï¼Œå¦‚Eurekaã€Zuulç­‰ è§£è€¦ï¼Œçµæ´» Spring Cloud ç‰ˆæœ¬ä»¥SRXå½¢å¼å‘½åç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·å‰é¢ä¼šæœ‰ä¸€ä¸ª release trainã€‚ ä»ä»¥å¾€çš„ç‰ˆæœ¬æœ‰Dalstonã€Edgwareã€Finchleyã€Greenwichï¼Œæ­£åœ¨å­µåŒ–çš„æœ‰SpringCloud Alibabaã€‚ Spring Cloud å®æˆ˜å¾®æœåŠ¡(Finchleyç‰ˆæœ¬)æ¦‚è¿°Spring Cloudæ”¯æŒçš„æ’ä»¶ä¼—å¤šï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹Spring Cloudä¸­æ–‡ç½‘æä¾›çš„æ¯”è¾ƒä¼˜ç§€çš„æ’ä»¶ï¼š Spring Cloudé›†æˆçš„ç›¸å…³ä¼˜è´¨é¡¹ç›®æ¨è Eurekaï¼šæ³¨å†Œä¸­å¿ƒï¼Œäº‘ç«¯æœåŠ¡å‘ç°ï¼Œå®ç°äº‘ç«¯ä¸­é—´å±‚æœåŠ¡å‘ç°å’Œæ•…éšœè½¬ç§» Ribbonï¼šè´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥æœ‰å¤šç§è´Ÿè½½å‡è¡¡çš„ç­–ç•¥ä¾›é€‰æ‹©ï¼Œå¯é…åˆEurekaå’ŒHystrixä½¿ç”¨ Hystrixï¼šç†”æ–­å™¨ï¼Œå®¹é”™ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡ç†”æ–­æœºåˆ¶æ§åˆ¶æœåŠ¡å’Œç¬¬ä¸‰æ–¹åº“çš„èŠ‚ç‚¹,ä»è€Œå¯¹å»¶è¿Ÿå’Œæ•…éšœæä¾›æ›´å¼ºå¤§çš„å®¹é”™èƒ½åŠ› Turbineï¼šTurbineæ˜¯èšåˆæœåŠ¡å™¨å‘é€äº‹ä»¶æµæ•°æ®çš„ä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥ç›‘æ§é›†ç¾¤ä¸‹hystrixçš„metricsæƒ…å†µï¼ˆå¯è§†åŒ–ï¼‰ Feignï¼šå£°æ˜å¼ã€æ¨¡å—åŒ–çš„HTTPå®¢æˆ·ç«¯ï¼Œé›†æˆäº†è´Ÿè½½å‡è¡¡ Zuulï¼šäº‘å¹³å°ä¸Šæä¾›åŠ¨æ€è·¯ç”±ï¼Œç›‘æ§ï¼Œå¼¹æ€§ï¼Œå®‰å…¨ç­‰è¾¹ç¼˜æœåŠ¡çš„æ¡†æ¶ã€‚Zuul ç›¸å½“äºæ˜¯è®¾å¤‡å’Œ Netflix æµåº”ç”¨çš„ Web ç½‘ç«™åç«¯æ‰€æœ‰è¯·æ±‚çš„å‰é—¨ Configï¼šé…ç½®ç®¡ç†å·¥å…·åŒ…ï¼Œè®©ä½ å¯ä»¥æŠŠé…ç½®æ”¾åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œé›†ä¸­åŒ–ç®¡ç†é›†ç¾¤é…ç½®ï¼Œç›®å‰æ”¯æŒæœ¬åœ°å­˜å‚¨ã€Gitä»¥åŠSubversion Busï¼šäº‹ä»¶ã€æ¶ˆæ¯æ€»çº¿ï¼Œç”¨äºåœ¨é›†ç¾¤ï¼ˆä¾‹å¦‚ï¼Œé…ç½®å˜åŒ–äº‹ä»¶ï¼‰ä¸­ä¼ æ’­çŠ¶æ€å˜åŒ–ï¼Œå¯ä¸Spring Cloud Configè”åˆå®ç°çƒ­éƒ¨ç½² Sleuthï¼šæ—¥å¿—æ”¶é›†å·¥å…·åŒ…ï¼Œå°è£…äº†Dapperå’Œlog-basedè¿½è¸ªä»¥åŠZipkinå’ŒHTraceæ“ä½œï¼Œä¸ºSpringCloudåº”ç”¨å®ç°äº†ä¸€ç§åˆ†å¸ƒå¼è¿½è¸ªè§£å†³æ–¹æ¡ˆ Streamï¼šæ•°æ®æµæ“ä½œå¼€å‘åŒ…ï¼Œå°è£…äº†ä¸Redis,Rabbitã€Kafkaç­‰å‘é€æ¥æ”¶æ¶ˆæ¯ Securityï¼šåŸºäºspring securityçš„å®‰å…¨å·¥å…·åŒ…ï¼Œä¸ºä½ çš„åº”ç”¨ç¨‹åºæ·»åŠ å®‰å…¨æ§åˆ¶ å®ä¾‹ä½¿ç”¨æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…æ¥æè¿°å¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚ä¸‹è¡¨è§£é‡Šäº†æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…ã€‚ â€‹ è¡¨-æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€… åè¯ å®šä¹‰ æœåŠ¡æä¾›è€… æœåŠ¡çš„è¢«è°ƒç”¨æ–¹ï¼ˆå³ï¼šä¸ºå…¶ä»–æœåŠ¡æä¾›æœåŠ¡çš„æœåŠ¡ï¼‰ æœåŠ¡æ¶ˆè´¹è€… æœåŠ¡çš„è°ƒç”¨æ–¹ï¼ˆå³ï¼šä¾èµ–å…¶ä»–æœåŠ¡çš„æœåŠ¡ï¼‰ ä»¥ç”µå½±å”®ç¥¨ç³»ç»Ÿä¸ºä¾‹ã€‚å¦‚å›¾ï¼Œç”¨æˆ·å‘ç”µå½±å¾®æœåŠ¡å‘èµ·äº†ä¸€ä¸ªè´­ç¥¨çš„è¯·æ±‚ã€‚åœ¨è¿›è¡Œè´­ç¥¨çš„ä¸šåŠ¡æ“ä½œå‰ï¼Œç”µå½±å¾®æœåŠ¡éœ€è¦è°ƒç”¨ç”¨æˆ·å¾®æœåŠ¡çš„æ¥å£ï¼ŒæŸ¥è¯¢å½“å‰ç”¨æˆ·çš„ä½™é¢æ˜¯å¤šå°‘ã€æ˜¯ä¸æ˜¯ç¬¦åˆè´­ç¥¨æ ‡å‡†ç­‰ã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œç”¨æˆ·å¾®æœåŠ¡å°±æ˜¯ä¸€ä¸ªæœåŠ¡æä¾›è€…ï¼Œç”µå½±å¾®æœåŠ¡åˆ™æ˜¯ä¸€ä¸ªæœåŠ¡æ¶ˆè´¹è€…ã€‚ å›´ç»•è¯¥åœºæ™¯ï¼Œå…ˆæ¥ç¼–å†™ä¸€ä¸ªç”¨æˆ·å¾®æœåŠ¡ï¼Œç„¶åç¼–å†™ä¸€ä¸ªç”µå½±å¾®æœåŠ¡ã€‚ Eurekaæ³¨å†Œä¸­å¿ƒï¼Œäº‘ç«¯æœåŠ¡å‘ç°ï¼Œå®ç°äº‘ç«¯ä¸­é—´å±‚æœåŠ¡å‘ç°å’Œæ•…éšœè½¬ç§» ä¸å¦¨å…ˆæ€è€ƒä¸€ä¸‹ï¼Œæ€æ ·æ‰èƒ½è®©æœåŠ¡æ¶ˆè´¹è€…æ€»èƒ½æ‰¾åˆ°æœåŠ¡æä¾›è€…å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œæ€æ ·æ‰èƒ½è®©æœåŠ¡æ¶ˆè´¹è€…æ„ŸçŸ¥åˆ°æœåŠ¡æä¾›è€…åœ°å€çš„å˜åŒ–å‘¢ï¼Ÿ TIPS ç›®å‰å¸‚é¢ä¸ŠæŠŠæœåŠ¡æ¶ˆè´¹è€…æ‰¾åˆ°æœåŠ¡æä¾›è€…çš„è¿™ç§æœºåˆ¶ç§°ä¸ºæœåŠ¡å‘ç°ï¼Œåˆæˆ–è€…æœåŠ¡æ³¨å†Œã€‚ä¸‹é¢æ¥æ¢ç´¢æœåŠ¡å‘ç°ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹ã€‚ æœåŠ¡å‘ç°åŸç†åˆæ¢å…¶å®ï¼ŒæœåŠ¡å‘ç°æœºåˆ¶éå¸¸ç®€å•ï¼Œä¸å¦¨ç”¨å¤§å®¶ç†Ÿæ‚‰çš„MySQLæ¥ç±»æ¯”â€”â€”åªéœ€ä¸€å¼ è¡¨ï¼ˆå›¾ä¸­çš„registryè¡¨ï¼‰å³å¯å®ç°æœåŠ¡å‘ç°ï¼ å¦‚å›¾ï¼Œå¦‚æœæˆ‘ä»¬èƒ½åœ¨ï¼š åº”ç”¨å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨å¾€registryè¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®ï¼Œæ•°æ®åŒ…æ‹¬æœåŠ¡åç§°ã€IPã€ç«¯å£ç­‰ä¿¡æ¯ã€‚ åº”ç”¨åœæ­¢æ—¶ï¼Œè‡ªåŠ¨æŠŠè‡ªå·±åœ¨registryè¡¨ä¸­çš„æ•°æ®çš„statusè®¾ä¸ºDOWN ã€‚ è¿™æ ·ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¸å°±æ°¸è¿œéƒ½èƒ½æ‰¾åˆ°æœåŠ¡æä¾›è€…äº†å˜›ï¼å½“æœåŠ¡æ¶ˆè´¹è€…æƒ³è°ƒç”¨æœåŠ¡æä¾›è€…æ¥å£æ—¶ï¼Œåªéœ€å‘æ•°æ®åº“å‘é€SQLè¯­å¥ SELECT * FROM registry where service_name = &#39;user&#39; and status = &#39;UP&#39; å³å¯æ‰¾åˆ°æœåŠ¡æä¾›è€…çš„æ‰€æœ‰å®ä¾‹ï¼IPã€ç«¯å£å•¥çš„éƒ½æœ‰äº†ï¼Œè‡ªå·±æ‹¼æ¥ä¸€ä¸‹ï¼Œå†å»è°ƒç”¨å°±è¡Œäº†ï¼ TIPS çœ‹ï¼ŒæœåŠ¡å‘ç°æœºåˆ¶æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿç¨‹åºçŒ¿ç»™å›¾ä¸­çš„â€MySQLâ€œçš„ç»„ä»¶èµ·äº†ä¸€ä¸ªç‰›å‰çš„åå­—å«ï¼šâ€æ³¨å†Œä¸­å¿ƒâ€œï¼Œä¹Ÿæœ‰çš„ä¹¦å°†å…¶ç§°ä¸ºâ€æœåŠ¡å‘ç°ç»„ä»¶â€œã€‚ ä½†ï¼Œè¿™æ¯•ç«Ÿåªæ˜¯ä¸€ä¸ªæœ€ç®€é™‹çš„æœåŠ¡å‘ç°åŸç†ã€‚å®Œæ•´çš„æœåŠ¡å‘ç°è¦è€ƒè™‘çš„é—®é¢˜æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼š å½“æœåŠ¡æŠ‘æˆ–æ‰€åœ¨ä¸»æœºçªç„¶å´©æºƒæˆ–è€…è¿›å…¥æŸç§ä¸æ­£å¸¸çš„æƒ…å†µæ— æ³•æä¾›æœåŠ¡ï¼ˆä¾‹å¦‚åº”ç”¨çš„æ•°æ®åº“æŒ‚äº†ï¼‰æ—¶ï¼Œå¯¹åº”çš„æ•°æ®ç†åº”æ ‡è®°DOWNï¼Œæˆ–è€…ç´¢æ€§åˆ é™¤ï¼› å¦‚æœæ¯æ¬¡è°ƒç”¨ä¹‹å‰ï¼Œéƒ½å¾—å‘æœåŠ¡å‘ç°ç»„ä»¶å‘é€ç±»ä¼¼SELECT * FROM registry where service_name = &#39;user&#39; and status = &#39;UP&#39; çš„è¯­å¥ï¼Œé‚£ä¹ˆæœåŠ¡å‘ç°ç»„ä»¶çš„å‹åŠ›å¾—æœ‰å¤šå¤§ï¼Ÿæ›´é‡è¦çš„ï¼Œè¿™ä¸å½“ä¸‹æµè¡Œçš„å»ä¸­å¿ƒåŒ–è®¾è®¡çš„æ€æƒ³ç›¸æ‚–ï¼› æœåŠ¡å‘ç°ç»„ä»¶å³ä½¿æŒ‚æ‰ï¼Œä¹Ÿä¸åº”è¯¥å½±å“å¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ã€‚ é‚£ä¹ˆï¼Œä¸€ä¸ªå®Œå–„çš„æœåŠ¡å‘ç°ç»„ä»¶åº”è¯¥å…·å¤‡å“ªäº›èƒ½åŠ›å‘¢ï¼Ÿ æœåŠ¡å‘ç°åŸç†æ·±å…¥ä¸å¦¨æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨æœåŠ¡å‘ç°ç»„ä»¶åçš„æ¶æ„å›¾ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ æœåŠ¡æä¾›è€…ã€æœåŠ¡æ¶ˆè´¹è€…ã€æœåŠ¡å‘ç°ç»„ä»¶è¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»å¤§è‡´å¦‚ä¸‹ï¼š å„ä¸ªå¾®æœåŠ¡åœ¨å¯åŠ¨æ—¶ï¼Œå°†è‡ªå·±çš„ç½‘ç»œåœ°å€ç­‰ä¿¡æ¯æ³¨å†Œåˆ°æœåŠ¡å‘ç°ç»„ä»¶ä¸­ï¼ŒæœåŠ¡å‘ç°ç»„ä»¶ä¼šå­˜å‚¨è¿™äº›ä¿¡æ¯ï¼› æœåŠ¡æ¶ˆè´¹è€…å¯ä»æœåŠ¡å‘ç°ç»„ä»¶æŸ¥è¯¢æœåŠ¡æä¾›è€…çš„ç½‘ç»œåœ°å€ï¼Œå¹¶ä½¿ç”¨è¯¥åœ°å€è°ƒç”¨æœåŠ¡æä¾›è€…çš„æ¥å£ï¼› å„ä¸ªå¾®æœåŠ¡ä¸æœåŠ¡å‘ç°ç»„ä»¶ä½¿ç”¨ä¸€å®šæœºåˆ¶ï¼ˆä¾‹å¦‚å¿ƒè·³ï¼‰é€šä¿¡ã€‚æœåŠ¡å‘ç°ç»„ä»¶å¦‚é•¿æ—¶é—´æ— æ³•ä¸æŸå¾®æœåŠ¡å®ä¾‹é€šä¿¡ï¼Œå°±ä¼šè‡ªåŠ¨æ³¨é”€ï¼ˆå³ï¼šåˆ é™¤ï¼‰è¯¥å®ä¾‹ï¼› å½“å¾®æœåŠ¡ç½‘ç»œåœ°å€å‘ç”Ÿå˜æ›´ï¼ˆä¾‹å¦‚å®ä¾‹å¢å‡æˆ–è€…IPç«¯å£å‘ç”Ÿå˜åŒ–ç­‰ï¼‰æ—¶ï¼Œä¼šé‡æ–°æ³¨å†Œåˆ°æœåŠ¡å‘ç°ç»„ä»¶ï¼› å®¢æˆ·ç«¯ç¼“å­˜ï¼šå„ä¸ªå¾®æœåŠ¡å°†éœ€è¦è°ƒç”¨æœåŠ¡çš„åœ°å€ç¼“å­˜åœ¨æœ¬åœ°ï¼Œå¹¶ä½¿ç”¨ä¸€å®šæœºåˆ¶æ›´æ–°ï¼ˆä¾‹å¦‚å®šæ—¶ä»»åŠ¡æ›´æ–°ã€äº‹ä»¶æ¨é€æ›´æ–°ç­‰ï¼‰ã€‚è¿™æ ·æ—¢èƒ½é™ä½æœåŠ¡å‘ç°ç»„ä»¶çš„å‹åŠ›ï¼ŒåŒæ—¶ï¼Œå³ä½¿æœåŠ¡å‘ç°ç»„ä»¶å‡ºé—®é¢˜ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ã€‚ ç»¼ä¸Šï¼ŒæœåŠ¡å‘ç°ç»„ä»¶åº”å…·å¤‡ä»¥ä¸‹åŠŸèƒ½ã€‚ æœåŠ¡æ³¨å†Œè¡¨ï¼šæœåŠ¡æ³¨å†Œè¡¨æ˜¯æœåŠ¡å‘ç°ç»„ä»¶çš„æ ¸å¿ƒï¼ˆå…¶å®å°±æ˜¯ç±»ä¼¼äºä¸Šé¢çš„registryè¡¨ï¼‰ï¼Œå®ƒç”¨æ¥è®°å½•å„ä¸ªå¾®æœåŠ¡çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å¾®æœåŠ¡çš„åç§°ã€IPã€ç«¯å£ç­‰ã€‚æœåŠ¡æ³¨å†Œè¡¨æä¾›æŸ¥è¯¢APIå’Œç®¡ç†APIï¼ŒæŸ¥è¯¢APIç”¨äºæŸ¥è¯¢å¯ç”¨çš„å¾®æœåŠ¡å®ä¾‹ï¼Œç®¡ç†APIç”¨äºæœåŠ¡çš„æ³¨å†Œå’Œæ³¨é”€ï¼› æœåŠ¡æ³¨å†Œä¸æœåŠ¡å‘ç°ï¼šæœåŠ¡æ³¨å†Œæ˜¯æŒ‡å¾®æœåŠ¡åœ¨å¯åŠ¨æ—¶ï¼Œå°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ°æœåŠ¡å‘ç°ç»„ä»¶ä¸Šçš„è¿‡ç¨‹ã€‚æœåŠ¡å‘ç°æ˜¯æŒ‡æŸ¥è¯¢å¯ç”¨å¾®æœåŠ¡åˆ—è¡¨åŠå…¶ç½‘ç»œåœ°å€çš„æœºåˆ¶ï¼› æœåŠ¡æ£€æŸ¥ï¼šæœåŠ¡å‘ç°ç»„ä»¶ä½¿ç”¨ä¸€å®šæœºåˆ¶å®šæ—¶æ£€æµ‹å·²æ³¨å†Œçš„æœåŠ¡ï¼Œå¦‚å‘ç°æŸå®ä¾‹é•¿æ—¶é—´æ— æ³•è®¿é—®ï¼Œå°±ä¼šä»æœåŠ¡æ³¨å†Œè¡¨ä¸­ç§»é™¤è¯¥å®ä¾‹ã€‚ ç”¨é€”å°†å¾®æœåŠ¡çš„æä¾›è€…å’Œæ¶ˆè´¹è€…éƒ½æ³¨å†Œåˆ°EurekaæœåŠ¡å™¨ä¸Šï¼Œç”±EurekaæœåŠ¡å™¨è¿›è¡Œç®¡ç† æºç åˆ†æEurekaåŸç†åˆ†æ é›†æˆæ–¹å¼ç¼–å†™Eureka Server åŠ ä¾èµ– 123456&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; åŠ æ³¨è§£ 1234567@SpringBootApplication@EnableEurekaServerpublic class EurekaApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(EurekaApplication.class, args); &#125;&#125; å†™é…ç½® 12345678910server: port: 8761eureka: client: # æ˜¯å¦è¦æ³¨å†Œåˆ°å…¶ä»–Eureka Serverå®ä¾‹ register-with-eureka: false # æ˜¯å¦è¦ä»å…¶ä»–Eureka Serverå®ä¾‹è·å–æ•°æ® fetch-registry: false service-url: defaultZone: http://localhost:8761/eureka/ TIPS è¿™é‡Œï¼Œå¤§å®¶å¯å…ˆä¸å»æ¢ç©¶registerWithEureka ä»¥åŠfetchRegistry ç©¶ç«Ÿæ˜¯ä»€ä¹ˆé¬¼ï¼Œç¬”è€…å°†åœ¨ä¸‹ä¸€èŠ‚ä¸ºå¤§å®¶æ­æ™“ã€‚ å°†åº”ç”¨æ³¨å†Œåˆ°Eureka Serverä¸Š åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;&lt;/dependency&gt; åŠ æ³¨è§£ 123456@SpringBootApplicationpublic class ProviderUserApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(ProviderUserApplication.class, args); &#125;&#125; æ³¨æ„ï¼šæ—©æœŸçš„ç‰ˆæœ¬ï¼ˆDalstonåŠæ›´æ—©ç‰ˆæœ¬ï¼‰è¿˜éœ€åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableDiscoveryClient æˆ–@EnableEurekaClient ï¼Œä»Edgwareå¼€å§‹ï¼Œè¯¥æ³¨è§£å¯çœç•¥ã€‚ æ·»åŠ é…ç½®ï¼š 123456789101112spring: application: # æŒ‡å®šæ³¨å†Œåˆ°eureka serverä¸Šçš„æœåŠ¡åç§°ï¼Œå¯¹äºç”µå½±å¾®æœåŠ¡ï¼Œæœ¬ç³»åˆ—å°†åç§°è®¾ä¸ºmicroservice-consumer-movie name: microservice-provider-usereureka: client: service-url: # æŒ‡å®šeureka serveré€šä¿¡åœ°å€ï¼Œæ³¨æ„/eureka/å°å°¾å·´ä¸èƒ½å°‘ defaultZone: http://localhost:8761/eureka/ instance: # æ˜¯å¦æ³¨å†ŒIPåˆ°eureka serverï¼Œå¦‚ä¸æŒ‡å®šæˆ–è®¾ä¸ºfalseï¼Œé‚£å°±ä¼šæ³¨å†Œä¸»æœºååˆ°eureka server prefer-ip-address: true æµ‹è¯• ä¾æ¬¡å¯åŠ¨Eureka Serverä»¥åŠç”¨æˆ·å¾®æœåŠ¡ã€ç”µå½±å¾®æœåŠ¡ï¼› è®¿é—®http://localhost:8761 å¯è§‚å¯Ÿåˆ°ç±»ä¼¼å¦‚ä¸‹ç•Œé¢ï¼š å°†ç”¨æˆ·å¾®æœåŠ¡åœæ­¢ï¼Œå¯çœ‹åˆ°Eureka Serveré¦–é¡µå˜æˆç±»ä¼¼å¦‚ä¸‹ç•Œé¢ï¼š Ribbonç”¨é€”ä¸€èˆ¬æ¥è¯´ï¼Œæåˆ°è´Ÿè½½å‡è¡¡ï¼Œå¤§å®¶ä¸€èˆ¬å¾ˆå®¹æ˜“æƒ³åˆ°æµè§ˆå™¨ -&gt; NGINX -&gt; åå‘ä»£ç†å¤šä¸ªTomcatè¿™æ ·çš„æ¶æ„å›¾â€”â€”ä¸šç•Œç®¡è¿™ç§è´Ÿè½½å‡è¡¡æ¨¡å¼å«â€œæœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡â€ï¼Œå› ä¸ºæ­¤ç§æ¨¡å¼ä¸‹ï¼Œè´Ÿè½½å‡è¡¡ç®—æ³•æ˜¯NGINXæä¾›çš„ï¼Œè€ŒNGINXéƒ¨ç½²åœ¨æœåŠ¡å™¨ç«¯ã€‚ Nginxæ‰«ç›² æœ¬èŠ‚æ‰€è®²çš„Ribbonåˆ™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ä¾§è´Ÿè½½å‡è¡¡ç»„ä»¶â€”â€”é€šä¿—åœ°è¯´ï¼Œå°±æ˜¯é›†æˆåœ¨å®¢æˆ·ç«¯ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ä¸€ä¾§ï¼‰ï¼Œå¹¶æä¾›è´Ÿè½½å‡è¡¡ç®—æ³•çš„ä¸€ä¸ªç»„ä»¶ã€‚ Ribboné»˜è®¤ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä¾‹å¦‚è½®è¯¢ã€éšæœºã€å“åº”æ—¶é—´åŠ æƒç­‰â€”â€”å½“ç„¶ï¼Œä¸ºRibbonè‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç®—æ³•ä¹Ÿéå¸¸å®¹æ˜“ï¼Œåªéœ€å®ç°IRule æ¥å£å³å¯ã€‚ å†…ç½®è´Ÿè½½å‡è¡¡çš„è§„åˆ™è´Ÿè½½å‡è¡¡è§„åˆ™æ˜¯Ribbonçš„æ ¸å¿ƒï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹Ribbonå†…ç½®çš„è´Ÿè½½å‡è¡¡è§„åˆ™ã€‚ AvailabilityFilteringRuleï¼šè¿‡æ»¤æ‰ä¸€ç›´è¿æ¥å¤±è´¥çš„è¢«æ ‡è®°ä¸ºcircuit trippedçš„åç«¯Serverï¼Œå¹¶è¿‡æ»¤æ‰é‚£äº›é«˜å¹¶å‘çš„åç«¯Serveræˆ–è€…ä½¿ç”¨ä¸€ä¸ªAvailabilityPredicateæ¥åŒ…å«è¿‡æ»¤serverçš„é€»è¾‘ï¼Œå…¶å®å°±å°±æ˜¯æ£€æŸ¥statusé‡Œè®°å½•çš„å„ä¸ªServerçš„è¿è¡ŒçŠ¶æ€ï¼› BestAvailableRuleï¼šé€‰æ‹©ä¸€ä¸ªæœ€å°çš„å¹¶å‘è¯·æ±‚çš„Serverï¼Œé€ä¸ªè€ƒå¯ŸServerï¼Œå¦‚æœServerè¢«trippedäº†ï¼Œåˆ™è·³è¿‡ã€‚ RandomRuleï¼šéšæœºé€‰æ‹©ä¸€ä¸ªServerï¼› ResponseTimeWeightedRuleï¼šä½œç”¨åŒWeightedResponseTimeRuleï¼ŒäºŒè€…ä½œç”¨ä¸€æ ·ï¼› RetryRuleï¼šå¯¹é€‰å®šçš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœºä¸Šé‡è¯•æœºåˆ¶ï¼Œåœ¨ä¸€ä¸ªé…ç½®æ—¶é—´æ®µå†…å½“é€‰æ‹©Serverä¸æˆåŠŸï¼Œåˆ™ä¸€ç›´å°è¯•ä½¿ç”¨subRuleçš„æ–¹å¼é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„serverï¼› RoundRobinRuleï¼šè½®è¯¢é€‰æ‹©ï¼Œ è½®è¯¢indexï¼Œé€‰æ‹©indexå¯¹åº”ä½ç½®çš„Serverï¼› WeightedResponseTimeRuleï¼šæ ¹æ®å“åº”æ—¶é—´åŠ æƒï¼Œå“åº”æ—¶é—´è¶Šé•¿ï¼Œæƒé‡è¶Šå°ï¼Œè¢«é€‰ä¸­çš„å¯èƒ½æ€§è¶Šä½ï¼› ZoneAvoidanceRuleï¼šå¤åˆåˆ¤æ–­Serveræ‰€åœ¨åŒºåŸŸçš„æ€§èƒ½å’ŒServerçš„å¯ç”¨æ€§é€‰æ‹©Serverï¼› å¦‚éœ€è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œåªéœ€å®ç°IRule æ¥å£æˆ–ç»§æ‰¿AbstractLoadBalancerRule ã€PredicateBasedRuleå³å¯ ï¼Œå¯å‚è€ƒRandomRule ã€RoundRobinRule ã€ZoneAvoidanceRule ç­‰å†…ç½®Ruleç¼–å†™è‡ªå·±çš„è´Ÿè½½å‡è¡¡è§„åˆ™ã€‚ å¼•å…¥Ribbonåœ¨Spring Cloudä¸­ï¼Œå½“Ribbonä¸Eurekaé…åˆä½¿ç”¨æ—¶ï¼ŒRibbonå¯è‡ªåŠ¨ä»Eureka Serverè·å–æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ï¼Œå¹¶åŸºäºè´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæœåŠ¡æä¾›è€…å®ä¾‹ã€‚ä¸‹å›¾å±•ç¤ºäº†Ribbonä¸Eurekaé…åˆä½¿ç”¨æ—¶çš„å¤§è‡´æ¶æ„ã€‚ é›†æˆæ–¹å¼ä»£ç ç¤ºä¾‹ å¤åˆ¶é¡¹ç›®microservice-consumer-movie ï¼Œå°†ArtifactIdä¿®æ”¹ä¸ºmicroservice-consumer-movie-ribbon ã€‚ åŠ ä¾èµ–ï¼šç”±äºspring-cloud-starter-netflix-eureka-client å·²ç»åŒ…å«spring-cloud-starter-netfilx-ribbon ï¼Œæ•…è€Œæ— éœ€é¢å¤–æ·»åŠ ä¾èµ–ã€‚ å†™ä»£ç ï¼š 12345@Bean@LoadBalancedpublic RestTemplate restTemplate() &#123; return new RestTemplate();&#125; å¦‚ä»£ç æ‰€ç¤ºï¼Œåªéœ€åœ¨RestTemplate ä¸Šæ·»åŠ LoadBalanced æ³¨è§£ï¼Œå³å¯è®©RestTemplateæ•´åˆRibbonï¼ è°ƒç”¨ï¼š 1234567891011@GetMapping("/users/&#123;id&#125;")public User findById(@PathVariable Long id) &#123; // è¿™é‡Œç”¨åˆ°äº†RestTemplateçš„å ä½ç¬¦èƒ½åŠ› User user = this.restTemplate.getForObject( "http://microservice-provider-user/users/&#123;id&#125;", User.class, id ); // ...ç”µå½±å¾®æœåŠ¡çš„ä¸šåŠ¡... return user;&#125; ç”±ä»£ç å¯çŸ¥ï¼Œæˆ‘ä»¬å°†è¯·æ±‚çš„ç›®æ ‡æœåŠ¡æ”¹æˆäº†http://microservice-provider-user/users/{id} ï¼Œä¹Ÿå°±æ˜¯http://{ç›®æ ‡æœåŠ¡åç§°}/{ç›®æ ‡æœåŠ¡ç«¯ç‚¹} çš„å½¢å¼ï¼ŒRibbonä¼šè‡ªåŠ¨åœ¨å®é™…è°ƒç”¨æ—¶ï¼Œå°†ç›®æ ‡æœåŠ¡åæ›¿æ¢ä¸ºè¯¥æœåŠ¡çš„IPå’Œç«¯å£ã€‚ æµ‹è¯• ä¾æ¬¡å¯åŠ¨microservice-discovery-eureka ã€microservice-provider-user ä¸¤ä¸ªå®ä¾‹ã€microservice-consumer-movie-ribbon è®¿é—®http://localhost:8010/movies/users/1 å¤šæ¬¡ï¼Œä¼šå‘ç°ä¸¤ä¸ªuseræœåŠ¡å®ä¾‹éƒ½ä¼šæ‰“å°æ—¥å¿—ã€‚ Feignç®€ä»‹Feignæ˜¯Netflixå¼€å‘çš„å£°æ˜å¼ã€æ¨¡æ¿åŒ–çš„HTTPå®¢æˆ·ç«¯ï¼Œé›†æˆäº† RestTemplate + Eureka + Ribbon + Hystrix é›†æˆæ–¹å¼ä¸‹é¢æ¥å°†å‰é¢çš„ä¾‹å­ç”¨Feignæ”¹å†™ï¼Œè®©å…¶è¾¾åˆ°ä¸Ribbon + RestTemplateç›¸åŒçš„æ•ˆæœã€‚ å¤åˆ¶é¡¹ç›®microservice-consumer-movieï¼Œå°†ArtifactIdä¿®æ”¹ä¸ºmicroservice-consumer-movie-feign ï¼› åŠ ä¾èµ–ï¼š 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;&lt;/dependency&gt; åŠ æ³¨è§£ï¼šå¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableFeignClients ï¼› ç¼–å†™Feign Clientï¼š 12345@FeignClient(name = "microservice-provider-user")public interface UserFeignClient &#123; @GetMapping("/users/&#123;id&#125;") User findById(@PathVariable("id") Long id);&#125; è¿™æ ·ä¸€ä¸ªFeign Clientå°±å†™å®Œå•¦ï¼å…¶ä¸­ï¼Œ@FeignClient æ³¨è§£ä¸­çš„microservice-provider-useræ˜¯æƒ³è¦è¯·æ±‚æœåŠ¡çš„åç§°ï¼Œè¿™æ˜¯ç”¨æ¥åˆ›å»ºRibbon Clientçš„ï¼ˆFeignæ•´åˆäº†Ribbonï¼‰ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œç”±äºä½¿ç”¨äº†Eurekaï¼Œæ‰€ä»¥Ribbonä¼šæŠŠmicroservice-provider-user è§£ææˆEureka Serverä¸­çš„æœåŠ¡ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä½¿ç”¨urlå±æ€§æŒ‡å®šè¯·æ±‚çš„URLï¼ˆURLå¯ä»¥æ˜¯å®Œæ•´çš„URLæˆ–ä¸»æœºåï¼‰ï¼Œä¾‹å¦‚@FeignClient(name = &quot;abcde&quot;, url = &quot;http://localhost:8000/&quot;) ã€‚æ­¤æ—¶ï¼Œnameå¯ä»¥æ˜¯ä»»æ„å€¼ï¼Œä½†ä¸å¯çœç•¥ï¼Œå¦åˆ™åº”ç”¨å°†æ— æ³•å¯åŠ¨ï¼ Controllerï¼š 1234567891011@RequestMapping("/movies")@RestControllerpublic class MovieController &#123; @Autowired private UserFeignClient userFeignClient; @GetMapping("/users/&#123;id&#125;") public User findById(@PathVariable Long id) &#123; return this.userFeignClient.findById(id); &#125;&#125; åªéœ€ä½¿ç”¨@Autowireæ³¨è§£ï¼Œå³å¯æ³¨å…¥ä¸Šé¢ç¼–å†™çš„Feign Clientã€‚ RestTemplateä¸Feignå¯¹æ¯”ç›¸ä¿¡é€šè¿‡æœ¬æ–‡çš„ä¾‹å­ï¼Œèªæ˜çš„ä½ å¯¹å¦‚ä½•ä½¿ç”¨Feignå·²ç»äº†ç„¶äºå¿ƒäº†ã€‚æ–‡ç« çš„æœ€åï¼Œå¯¹æ¯”ä¸€ä¸‹RestTemplate + Ribbonä¸Feignã€‚ è§’åº¦ RestTemplate + Ribbon Feignï¼ˆè‡ªå¸¦Ribbonï¼‰ å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ æ¬ ä½³ï¼ˆæ— æ³•ä»URLç›´è§‚äº†è§£è¿™ä¸ªè¿œç¨‹è°ƒç”¨æ˜¯å¹²ä»€ä¹ˆçš„ï¼‰ æä½³ï¼ˆèƒ½åœ¨æ¥å£ä¸Šå†™æ³¨é‡Šï¼Œæ–¹æ³•åç§°ä¹Ÿæ˜¯å¯è¯»çš„ï¼Œèƒ½ä¸€çœ¼çœ‹å‡ºè¿™ä¸ªè¿œç¨‹è°ƒç”¨æ˜¯å¹²ä»€ä¹ˆçš„ï¼‰ å¼€å‘ä½“éªŒ æ¬ ä½³ï¼ˆéœ€è¦æ‹¼å‡‘URLï¼‰ æä½³ï¼ˆæ— éœ€æ‹¼å‡‘urlï¼Œè‡ªåŠ¨é›†åˆEurekaå’ŒRibbonï¼‰ é£æ ¼ä¸€è‡´æ€§ æ¬ ä½³ï¼ˆæœ¬åœ°APIè°ƒç”¨å’ŒRestTemplateè°ƒç”¨çš„ä»£ç é£æ ¼æˆªç„¶ä¸åŒï¼‰ æä½³ï¼ˆå®Œå…¨ä¸€è‡´ï¼Œä¸ç‚¹å¼€Feignçš„æ¥å£ï¼Œæ ¹æœ¬ä¸ä¼šå¯Ÿè§‰è¿™æ˜¯ä¸€ä¸ªè¿œç¨‹è°ƒç”¨è€Œéæœ¬åœ°APIè°ƒç”¨ï¼‰ æ€§èƒ½ è¾ƒå¥½ ä¸­ç­‰ï¼ˆæ€§èƒ½æ˜¯RestTemplateçš„50%å·¦å³ï¼›å¦‚æœä¸ºFeigné…ç½®è¿æ¥æ± ï¼Œæ€§èƒ½å¯æå‡15%å·¦å³ï¼‰ çµæ´»æ€§ æä½³ ä¸­ç­‰ï¼ˆå†…ç½®åŠŸèƒ½èƒ½æ»¡è¶³å¤§å¤šæ•°é¡¹ç›®çš„éœ€æ±‚ï¼‰ Hystrixå®¹é”™æŠ€æœ¯çš„å¼•å…¥è‡³æ­¤ï¼Œæˆ‘ä»¬å·²å®ç°æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ï¼ŒåŒæ—¶ï¼Œä½¿ç”¨Feignä¹Ÿå®ç°äº†è‰¯å¥½çš„è¿œç¨‹è°ƒç”¨â€”â€”æˆ‘ä»¬çš„ä»£ç æ˜¯å¯è¯»ã€å¯ç»´æŠ¤çš„ã€‚ç†è®ºä¸Šï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»èƒ½æ„å»ºä¸€ä¸ªä¸é”™çš„åˆ†å¸ƒå¼åº”ç”¨äº†ï¼Œä½†å¾®æœåŠ¡ä¹‹é—´æ˜¯é€šè¿‡ç½‘ç»œé€šä¿¡çš„ï¼Œç½‘ç»œå¯èƒ½å‡ºé—®é¢˜ï¼›å¾®æœåŠ¡æœ¬èº«ä¹Ÿä¸å¯èƒ½100%å¯ç”¨ã€‚ å¦‚ä½•æå‡åº”ç”¨çš„å¯ç”¨æ€§å‘¢ï¼Ÿè¿™æ˜¯æˆ‘ä»¬å¿…é¡»è€ƒè™‘çš„é—®é¢˜â€”â€” ä¸¾ä¸ªä¾‹å­ï¼šæŸå¤§å‹ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡Aè°ƒç”¨æœåŠ¡Bï¼ŒæŸä¸ªæ—¶åˆ»ï¼Œå¾®æœåŠ¡Bçªç„¶å´©æºƒäº†ã€‚å¾®æœåŠ¡Aä¸­ï¼Œä¾ç„¶æœ‰å¤§é‡è¯·æ±‚åœ¨è¯·æ±‚Bï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æªæ–½ï¼Œå¾®æœåŠ¡Aå¾ˆå¯èƒ½å¾ˆå¿«å°±ä¼šè¢«æ‹–æ­»â€”â€”å› ä¸ºåœ¨Javaä¸­ï¼Œä¸€æ¬¡è¯·æ±‚å¾€å¾€å¯¹åº”ç€ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœä¸åšä»»ä½•æªæ–½ï¼Œé‚£æ„å‘³ç€å¾®æœåŠ¡Aè¯·æ±‚Bçš„çº¿ç¨‹è¦ç­‰Feign Client/RestTemplateè¶…æ—¶æ‰ä¼šé‡Šæ”¾ï¼ˆè¿™ä¸ªæ—¶é—´ä¸€èˆ¬éå¸¸é•¿ï¼Œé•¿è¾¾å‡ åç§’ï¼‰ï¼Œäºæ˜¯å°±ä¼šæœ‰å¤§é‡çš„çº¿ç¨‹è¢«é˜»å¡ï¼Œè€Œçº¿ç¨‹åˆå¯¹åº”ç€è®¡ç®—èµ„æºï¼ˆCPU/å†…å­˜ï¼‰ï¼Œäºæ˜¯ä¹ï¼Œå¤§é‡çš„èµ„æºè¢«æµªè´¹ï¼Œå¹¶ä¸”è¶Šç§¯è¶Šå¤šï¼Œæœ€ç»ˆæœåŠ¡å™¨ç»ˆäºæ²¡æœ‰èµ„æºç»™å¾®æœåŠ¡Aæµªè´¹äº†ï¼Œå¾®æœåŠ¡Aä¹ŸæŒ‚äº†ã€‚ å› æ­¤ï¼Œåœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œå¾®æœåŠ¡ä¹‹é—´çš„å®¹é”™å¿…ä¸å¯å°‘ï¼Œä¸‹é¢æ¥è®¨è®ºå¦‚ä½•å®ç°å¾®æœåŠ¡çš„å®¹é”™ã€‚ å®¹é”™ä¸‰æ¿æ–§ è¶…æ—¶æœºåˆ¶ï¼šä¸€æ—¦è¶…æ—¶ï¼Œå°±é‡Šæ”¾èµ„æºã€‚ç”±äºé‡Šæ”¾èµ„æºé€Ÿåº¦è¾ƒå¿«ï¼Œåº”ç”¨å°±ä¸ä¼šé‚£ä¹ˆå®¹æ˜“è¢«æ‹–æ­»ã€‚ èˆ±å£æ¨¡å¼ï¼šä¸æŠŠé¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œã€‚ä½ æœ‰ä½ çš„çº¿ç¨‹æ± ï¼Œæˆ‘æœ‰æˆ‘çš„çº¿ç¨‹æ± ï¼Œä½ çš„çº¿ç¨‹æ± æ»¡äº†å’Œæˆ‘æ²¡å…³ç³»ï¼Œä½ æŒ‚äº†ä¹Ÿå’Œæˆ‘æ²¡å…³ç³»ã€‚ æ–­è·¯å™¨ï¼šå®æ—¶ç›‘æµ‹åº”ç”¨ï¼Œå¦‚æœå‘ç°åœ¨ä¸€å®šæ—¶é—´å†…å¤±è´¥æ¬¡æ•°/å¤±è´¥ç‡è¾¾åˆ°ä¸€å®šé˜ˆå€¼ï¼Œå°±â€œè·³é—¸â€ï¼Œæ–­è·¯å™¨æ‰“å¼€â€”â€”æ­¤æ—¶ï¼Œè¯·æ±‚ç›´æ¥è¿”å›ï¼Œè€Œä¸å»è°ƒç”¨åŸæœ¬è°ƒç”¨çš„é€»è¾‘ã€‚ è·³é—¸ä¸€æ®µæ—¶é—´åï¼ˆä¾‹å¦‚15ç§’ï¼‰ï¼Œæ–­è·¯å™¨ä¼šè¿›å…¥åŠå¼€çŠ¶æ€ï¼Œè¿™æ˜¯ä¸€ä¸ªç¬é—´æ€ï¼Œæ­¤æ—¶å…è®¸ä¸€æ¬¡è¯·æ±‚è°ƒç”¨è¯¥è°ƒçš„é€»è¾‘ï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™æ–­è·¯å™¨å…³é—­ï¼Œåº”ç”¨æ­£å¸¸è°ƒç”¨ï¼›å¦‚æœè°ƒç”¨ä¾ç„¶ä¸æˆåŠŸï¼Œæ–­è·¯å™¨ç»§ç»­å›åˆ°æ‰“å¼€çŠ¶æ€ï¼Œè¿‡æ®µæ—¶é—´å†è¿›å…¥åŠå¼€çŠ¶æ€å°è¯•â€”â€”é€šè¿‡â€è·³é—¸â€œï¼Œåº”ç”¨å¯ä»¥ä¿æŠ¤è‡ªå·±ï¼Œè€Œä¸”é¿å…æµªè´¹èµ„æºï¼›è€Œé€šè¿‡åŠå¼€çš„è®¾è®¡ï¼Œå¯å®ç°åº”ç”¨çš„â€œè‡ªæˆ‘ä¿®å¤â€œã€‚ æ–­è·¯å™¨çŠ¶æ€è½¬æ¢ å¼•å…¥HystrixHystrixæ˜¯ç”±Netflixå¼€æºçš„ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œç”¨äºéš”ç¦»è®¿é—®è¿œç¨‹ç³»ç»Ÿã€æœåŠ¡æˆ–è€…ç¬¬ä¸‰æ–¹åº“ï¼Œé˜²æ­¢çº§è”å¤±è´¥ï¼Œä»è€Œæå‡ç³»ç»Ÿçš„å¯ç”¨æ€§ä¸å®¹é”™æ€§ã€‚Hystrixä¸»è¦é€šè¿‡ä»¥ä¸‹å‡ ç‚¹å®ç°å»¶è¿Ÿå’Œå®¹é”™ã€‚ åŒ…è£¹è¯·æ±‚ ä½¿ç”¨HystrixCommandï¼ˆæˆ–HystrixObservableCommandï¼‰åŒ…è£¹å¯¹ä¾èµ–çš„è°ƒç”¨é€»è¾‘ï¼Œæ¯ä¸ªå‘½ä»¤åœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­æ‰§è¡Œã€‚è¿™ä½¿ç”¨åˆ°äº†è®¾è®¡æ¨¡å¼ä¸­çš„â€œ å‘½ä»¤æ¨¡å¼ â€ã€‚ è·³é—¸æœºåˆ¶ï¼ˆæ–­è·¯å™¨çš„åº”ç”¨ï¼‰ å½“æŸæœåŠ¡çš„é”™è¯¯ç‡è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼ŒHystrixå¯ä»¥è‡ªåŠ¨æˆ–è€…æ‰‹åŠ¨è·³é—¸ï¼Œåœæ­¢è¯·æ±‚è¯¥æœåŠ¡ä¸€æ®µæ—¶é—´ã€‚ èµ„æºéš”ç¦»ï¼ˆèˆ±å£æ¨¡å¼çš„åº”ç”¨ï¼‰ Hystrixä¸ºæ¯ä¸ªä¾èµ–éƒ½ç»´æŠ¤äº†ä¸€ä¸ªå°å‹çš„çº¿ç¨‹æ± ï¼ˆæˆ–è€…ä¿¡å·é‡ï¼‰ã€‚å¦‚æœè¯¥çº¿ç¨‹æ± å·²æ»¡ï¼Œå‘å¾€è¯¥ä¾èµ–çš„è¯·æ±‚å°±è¢«ç«‹å³æ‹’ç»ï¼Œè€Œä¸æ˜¯æ’é˜Ÿç­‰å€™ï¼Œä»è€ŒåŠ é€Ÿå¤±è´¥åˆ¤å®šã€‚ ç›‘æ§ï¼ˆè¶…æ—¶æ¨¡å¼çš„åº”ç”¨ï¼‰ Hystrixå¯ä»¥è¿‘ä¹å®æ—¶åœ°ç›‘æ§è¿è¡ŒæŒ‡æ ‡å’Œé…ç½®çš„å˜åŒ–ï¼Œä¾‹å¦‚æˆåŠŸã€å¤±è´¥ã€è¶…æ—¶ã€ä»¥åŠè¢«æ‹’ç»çš„è¯·æ±‚ç­‰ã€‚ å›é€€æœºåˆ¶ å½“è¯·æ±‚å¤±è´¥ã€è¶…æ—¶ã€è¢«æ‹’ç»ï¼Œæˆ–å½“æ–­è·¯å™¨æ‰“å¼€æ—¶ï¼Œæ‰§è¡Œå›é€€é€»è¾‘ã€‚å›é€€é€»è¾‘å¯ç”±å¼€å‘äººå‘˜è‡ªè¡Œæä¾›ï¼Œä¾‹å¦‚è¿”å›ä¸€ä¸ªç¼ºçœå€¼ã€‚ è‡ªæˆ‘ä¿®å¤ æ–­è·¯å™¨æ‰“å¼€ä¸€æ®µæ—¶é—´åï¼Œä¼šè‡ªåŠ¨è¿›å…¥â€œåŠå¼€â€çŠ¶æ€ã€‚æ–­è·¯å™¨æ‰“å¼€ã€å…³é—­ã€åŠå¼€çš„é€»è¾‘è½¬æ¢ï¼Œå‰é¢æˆ‘ä»¬å·²ç»è¯¦ç»†æ¢è®¨è¿‡äº†ï¼Œä¸å†èµ˜è¿°ã€‚ é€šç”¨æ–¹å¼ä½¿ç”¨HystrixæœåŠ¡é™çº§ åŠ ä¾èµ–ï¼š 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;&lt;/dependency&gt; åŠ æ³¨è§£ï¼šåœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableCircuitBreaker æ³¨è§£ã€‚ ä½¿ç”¨ï¼š 12345678910111213141516@HystrixCommand(fallbackMethod = "findByIdFallback")@GetMapping("/users/&#123;id&#125;")public User findById(@PathVariable Long id) &#123; // è¿™é‡Œç”¨åˆ°äº†RestTemplateçš„å ä½ç¬¦èƒ½åŠ› User user = this.restTemplate.getForObject( "http://microservice-provider-user/users/&#123;id&#125;", User.class, id ); // ...ç”µå½±å¾®æœåŠ¡çš„ä¸šåŠ¡... return user;&#125;public User findByIdFallback(Long id) &#123; return new User(id, "é»˜è®¤ç”¨æˆ·", "é»˜è®¤ç”¨æˆ·", 0, new BigDecimal(1));&#125; ç”±ä»£ç å¯çŸ¥ï¼Œåªéœ€ä½¿ç”¨@HystrixCommand æ³¨è§£ï¼Œå°±å¯ä¿æŠ¤è¯¥APIã€‚è¿™é‡Œçš„â€ä¿æŠ¤â€œï¼Œå…¶å®å¸¦æœ‰ä¸‰å±‚å«ä¹‰â€”â€”â€è¶…æ—¶æœºåˆ¶â€œã€â€ä»“å£æ¨¡å¼â€œã€â€æ–­è·¯å™¨â€œï¼ TIPS æœ¬ä¾‹ä½¿ç”¨äº†fallbackMethod å±æ€§ï¼ŒæŒ‡å®šäº†ä¸€ä¸ªé™çº§æ–¹æ³•ï¼Œå¦‚ä¸æŒ‡å®šï¼ŒHystrixä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„é™çº§æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯æŠ›å¼‚å¸¸ï¼Œå“ˆå“ˆå“ˆã€‚ å¦‚ä½•çŸ¥é“æ–­è·¯å™¨æ‰“å¼€è¿˜æ˜¯å…³é—­å‘¢ï¼Ÿåªéœ€è®¿é—®åº”ç”¨çš„/actuator/health ç«¯ç‚¹ï¼Œå³å¯æŸ¥çœ‹ï¼æ–­è·¯å™¨çš„çŠ¶æ€â€”â€”å½“ç„¶ï¼Œä½ å¿…é¡»æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 1234management: endpoint: health: show-details: always æµ‹è¯• å¯åŠ¨microservice-discovery-eureka å¯åŠ¨microservice-provider-user å¯åŠ¨microservice-consumer-movie-ribbon-hystrix-common è®¿é—®http://localhost:8010/movies/users/1 ï¼Œèƒ½æ­£å¸¸è¿”å›ç»“æœ å…³é—­microservice-provider-user ï¼Œå†æ¬¡è®¿é—®http://localhost:8010/movies/users/1 ï¼Œå¯è¿”å›ç±»ä¼¼å¦‚ä¸‹ç»“æœï¼Œè¯´æ˜å½“æœåŠ¡æä¾›è€…æ—¶ï¼ŒæœåŠ¡æ¶ˆè´¹è€…è¿›å…¥äº†å›é€€æ–¹æ³•ã€‚ 1&#123;"id":1,"username":"é»˜è®¤ç”¨æˆ·","name":"é»˜è®¤ç”¨æˆ·","age":0,"balance":1&#125; è®¿é—®http://localhost:8010/actuator/health ï¼Œå¯è·å¾—ç±»ä¼¼å¦‚ä¸‹ç»“æœï¼š 1234567891011&#123; "status": "UP", "details": &#123; "diskSpace": ..., "refreshScope": ..., "discoveryComposite": ..., "hystrix": &#123; "status": "UP" &#125; &#125;&#125; ç”±ç»“æœä¸éš¾å‘ç°ï¼Œæ­¤æ—¶æ–­è·¯å™¨å¹¶æœªæ‰“å¼€ï¼è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ åŸå› æ˜¯ï¼šæ­¤æ—¶åªè¯·æ±‚äº†ä¸€æ¬¡ï¼Œæ²¡æœ‰è¾¾åˆ°Hystrixçš„é˜ˆå€¼â€”â€”Hystrixè®¾è®¡æ¥ä¿æŠ¤é«˜å¹¶å‘åº”ç”¨çš„ï¼Œå®ƒè¦æ±‚10ç§’ï¼ˆå¯ç”¨hystrix.command.default.metrics.rollingStats.timeInMilliseconds è‡ªå®šä¹‰ï¼‰ä»¥å†…APIé”™è¯¯æ¬¡æ•°è¶…è¿‡20æ¬¡ï¼ˆç”¨circuitBreaker.requestVolumeThreshold è‡ªå®šä¹‰ï¼‰ï¼Œæ­¤æ—¶æ‰å¯èƒ½è§¦å‘æ–­è·¯å™¨ã€‚ æŒç»­ä¸æ–­åœ°è®¿é—®http://localhost:8010/movies/users/1 å¤šæ¬¡ï¼ˆè‡³å°‘20æ¬¡ï¼‰ å†æ¬¡è®¿é—®http://localhost:8010/actuator/health ï¼Œå¯è·å¾—ç±»ä¼¼å¦‚ä¸‹ç»“æœï¼š 1234567891011121314&#123; "status": "UP", "details": &#123; "diskSpace": ..., "refreshScope": ..., "discoveryComposite": ..., "hystrix": &#123; "status": "CIRCUIT_OPEN", "details": &#123; "openCircuitBreakers": ["MovieController::findById"] &#125; &#125; &#125;&#125; ç”±ç»“æœå¯çŸ¥ï¼Œæ­¤æ—¶æ–­è·¯å™¨å·²ç»æ‰“å¼€ï¼Œå¹¶ä¸”åˆ—å‡ºäº†æ˜¯å“ªä¸ªAPIçš„æ–­è·¯å™¨è¢«æ‰“å¼€äº†ã€‚ è·å¾—é€ æˆfallbackçš„åŸå› åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¾ˆå¯èƒ½éœ€è¦è·å¾—é€ æˆfallbackçš„åŸå› ï¼Œæ­¤æ—¶å¯å°†ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š 1234567891011121314151617@HystrixCommand(fallbackMethod = "findByIdFallback")@GetMapping("/users/&#123;id&#125;")public User findById(@PathVariable Long id) &#123; // è¿™é‡Œç”¨åˆ°äº†RestTemplateçš„å ä½ç¬¦èƒ½åŠ› User user = this.restTemplate.getForObject( "http://microservice-provider-user/users/&#123;id&#125;", User.class, id ); // ...ç”µå½±å¾®æœåŠ¡çš„ä¸šåŠ¡... return user;&#125;public User findByIdFallback(Long id, Throwable throwable) &#123; log.error("è¿›å…¥å›é€€æ–¹æ³•", throwable); return new User(id, "é»˜è®¤ç”¨æˆ·", "é»˜è®¤ç”¨æˆ·", 0, new BigDecimal(1));&#125; Feign æ•´åˆ Hystrixé»˜è®¤Feignæ˜¯ä¸å¯ç”¨Hystrixçš„ï¼Œå¦‚æœéœ€è¦å¯ç”¨ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å³å¯ï¼š 123feign: hystrix: enabled: true Hystrix Command è¯¦è§£ç›‘æ§ç«¯ç‚¹ä¸æ•°æ®åº”ç”¨æ•´åˆHystrixï¼ŒåŒæ—¶åº”ç”¨åŒ…å«spring-boot-starter-actuator ä¾èµ–ï¼Œå°±ä¼šå­˜åœ¨ä¸€ä¸ª/actuator/hystrix.stream ç«¯ç‚¹ï¼Œç”¨æ¥ç›‘æ§Hystrix Commandã€‚å½“è¢«@HystrixCommand æ³¨è§£äº†çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šäº§ç”Ÿç›‘æ§ä¿¡æ¯ï¼Œå¹¶æš´éœ²åˆ°è¯¥ç«¯ç‚¹ä¸­ã€‚å½“ç„¶ï¼Œè¯¥ç«¯ç‚¹é»˜è®¤æ˜¯ä¸ä¼šæš´éœ²çš„ï¼Œéœ€ä½¿ç”¨å¦‚ä¸‹é…ç½®å°†å…¶æš´éœ²ã€‚ 12345management: endpoints: web: exposure: include: 'hystrix.stream' æ­¤æ—¶ï¼Œè®¿é—®/actuator/hystrix.stream å¯è¿”å›å¦‚ä¸‹ç»“æœï¼š 1&#123;"type":"HystrixCommand","name":"findById","group":"MovieController","currentTime":1547905939151,"isCircuitBreakerOpen":false,"errorPercentage":0,"errorCount":0,"requestCount":0,"rollingCountBadRequests":0,"rollingCountCollapsedRequests":0,"rollingCountEmit":0,"rollingCountExceptionsThrown":0,"rollingCountFailure":0,"rollingCountFallbackEmit":0,"rollingCountFallbackFailure":0,"rollingCountFallbackMissing":0,"rollingCountFallbackRejection":0,"rollingCountFallbackSuccess":0,"rollingCountResponsesFromCache":0,"rollingCountSemaphoreRejected":0,"rollingCountShortCircuited":0,"rollingCountSuccess":0,"rollingCountThreadPoolRejected":0,"rollingCountTimeout":0,"currentConcurrentExecutionCount":0,"rollingMaxConcurrentExecutionCount":0,"latencyExecute_mean":0,"latencyExecute":&#123;"0":0,"25":0,"50":0,"75":0,"90":0,"95":0,"99":0,"99.5":0,"100":0&#125;,"latencyTotal_mean":0,"latencyTotal":&#123;"0":0,"25":0,"50":0,"75":0,"90":0,"95":0,"99":0,"99.5":0,"100":0&#125;,"propertyValue_circuitBreakerRequestVolumeThreshold":20,"propertyValue_circuitBreakerSleepWindowInMilliseconds":5000,"propertyValue_circuitBreakerErrorThresholdPercentage":50,"propertyValue_circuitBreakerForceOpen":false,"propertyValue_circuitBreakerForceClosed":false,"propertyValue_circuitBreakerEnabled":true,"propertyValue_executionIsolationStrategy":"THREAD","propertyValue_executionIsolationThreadTimeoutInMilliseconds":1000,"propertyValue_executionTimeoutInMilliseconds":1000,"propertyValue_executionIsolationThreadInterruptOnTimeout":true,"propertyValue_executionIsolationThreadPoolKeyOverride":null,"propertyValue_executionIsolationSemaphoreMaxConcurrentRequests":10,"propertyValue_fallbackIsolationSemaphoreMaxConcurrentRequests":10,"propertyValue_metricsRollingStatisticalWindowInMilliseconds":10000,"propertyValue_requestCacheEnabled":true,"propertyValue_requestLogEnabled":true,"reportingHosts":1,"threadPool":"MovieController"&#125; å¯¹äºFeignå‰é¢è®²è¿‡Feigné»˜è®¤å·²ç»æ•´åˆäº†Hystrixï¼Œä½†è¿™ä¸ªæ•´åˆå…¶å®æ˜¯â€œä¸å®Œæ•´â€ï¼Œå› ä¸ºå®ƒé»˜è®¤ä¸å¸¦æœ‰ç›‘æ§ç«¯ç‚¹ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨Feignçš„åŒæ—¶ï¼Œä¹Ÿæƒ³ä½¿ç”¨ç›‘æ§ç«¯ç‚¹ï¼Œéœ€æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableCircuitBreaker åœ¨application.yml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š 12345management: endpoints: web: exposure: include: 'hystrix.stream' å¯è§†åŒ–ç›‘æ§æ•°æ®è‡³æ­¤ï¼Œæˆ‘ä»¬å·²å¯é€šè¿‡/actuator/hystrix.strem ç«¯ç‚¹è§‚å¯ŸHystrixè¿è¡Œæƒ…å†µï¼Œä½†æ–‡å­—å½¢å¼çš„ç›‘æ§æ•°æ®å¾ˆä¸ç›´è§‚ã€‚ç°å®é¡¹ç›®ä¸­ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢ï¼Œè¿™æ ·æ‰èƒ½è¿…é€Ÿäº†è§£ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µã€‚Hystrixæä¾›äº†ä¸€ä¸ªè½®å­â€”â€”Hystrix Dashboardï¼Œå®ƒçš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯å°†æ–‡å­—å½¢å¼çš„ç›‘æ§æ•°æ®è½¬æ¢æˆå›¾è¡¨å±•ç¤ºã€‚ ç¼–å†™Hystrix Dashboard åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId&gt;&lt;/dependency&gt; åŠ æ³¨è§£ï¼š@EnableHystrixDashboard å†™é…ç½®ï¼š 123# ç«¯å£éšä¾¿å†™ï¼Œè¿™é‡Œåªæ˜¯è¡¨æ˜ä¸‹è‡ªå·±çš„ç«¯å£è§„åˆ’è€Œå·²server: port: 8030 å¯åŠ¨åï¼Œè®¿é—®http://localhost:8030/hystrix å³å¯çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„ç•Œé¢ï¼š å°†ä¸Šæ–‡çš„/actuator/hystrix.stream ç«¯ç‚¹çš„åœ°å€è´´åˆ°å›¾ä¸­ï¼Œå¹¶æŒ‡å®šTitleï¼Œç„¶åç‚¹å‡»Monitor Stream æŒ‰é’®ï¼Œå³å¯çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„å›¾è¡¨ï¼š å›¾è¡¨è§£è¯»Turbine Turbineä¸Šæ–‡çš„Hystrix Dashboardåªæ”¯æŒä¸€æ¬¡ç›‘æ§ä¸€ä¸ªå¾®æœåŠ¡å®ä¾‹ï¼Œæ˜¾ç„¶æ˜¯ä¸èƒ½æ»¡è¶³éœ€æ±‚çš„ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½ç›‘æ§å¤šä¸ªå¾®æœåŠ¡ï¼ŒNetflixå®˜æ–¹å†æ¬¡å‘æŒ¥é€ è½®å­çš„ç²¾ç¥â€”â€”å®ƒä»¬åˆç¼–å†™äº†ä¸€ä¸ªç»„ä»¶ï¼ŒTurbineã€‚ ä¸è¿‡è¿™ä¸ªé¡¹ç›®åˆšå‡ºç”Ÿå°±æ­»äº†ï¼Œ14å¹´å‘å¸ƒåå°±å†ä¹Ÿæ²¡æœ‰è¿›è¡Œæ›´æ–°ç»´æŠ¤ã€‚ ç®€ä»‹Turbineæ˜¯ä¸€ä¸ªèšåˆHystrixç›‘æ§æ•°æ®çš„å·¥å…·ï¼Œå®ƒå¯å°†æ‰€æœ‰ç›¸å…³/hystrix.streamç«¯ç‚¹çš„æ•°æ®èšåˆåˆ°ä¸€ä¸ªç»„åˆçš„/turbine.streamä¸­ï¼Œä»è€Œè®©é›†ç¾¤çš„ç›‘æ§æ›´åŠ æ–¹ä¾¿ã€‚ å¼•å…¥Turbineåï¼Œæ¶æ„å›¾å¦‚ä¸‹ï¼š å¼•å…¥Turbineç¼–å†™Turbine Server åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-turbine&lt;/artifactId&gt;&lt;/dependency&gt; åŠ æ³¨è§£ï¼š@EnableTurbine å†™é…ç½®ï¼š 123456789101112131415server: port: 8031spring: application: name: microservice-hystrix-turbineeureka: client: service-url: defaultZone: http://localhost:8761/eureka/ instance: prefer-ip-address: trueturbine: # è¦ç›‘æ§çš„å¾®æœåŠ¡åˆ—è¡¨ï¼Œå¤šä¸ªç”¨,åˆ†éš” appConfig: microservice-consumer-movie,microservice-consumer-movie-feign clusterNameExpression: "'default'" æµ‹è¯•è¿™æ ·ï¼ŒTubineå³å¯èšåˆmicroservice-consumer-movie,microservice-consumer-movie-feignä¸¤ä¸ªæœåŠ¡çš„/actuator/hystrix.stream ä¿¡æ¯ï¼Œå¹¶æš´éœ²åœ¨http://localhost:8031/turbine.stream ï¼Œå°†è¯¥åœ°å€è´´åˆ°Hystrix Dashboardä¸Šï¼Œå³å¯çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„å›¾è¡¨ï¼š Zuul]]></content>
      <tags>
        <tag>SpringCloud</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€è§„åˆ’ç¬”è®°]]></title>
    <url>%2F2019%2F12%2F09%2F%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AC%94%E8%AE%B0.html</url>
    <content type="text"><![CDATA[é€’å½’ã€é€’æ¨ é€’å½’ è‡ªé¡¶å‘ä¸‹ é€’æ¨ è‡ªåº•å‘ä¸Š åŠ¨æ€è§„åˆ’é¢˜çš„ä¸€èˆ¬æ€è·¯ å…ˆå†™å‡ºé€’å½’æ€è·¯ ç„¶åå‰ªæ(å‰é¢äºŒè€…éƒ½æ˜¯è‡ªä¸Šè€Œä¸‹) ç„¶åå†™å‡ºdp(ä¸åŒäºå‰ªæçš„æ˜¯ dpæ˜¯è‡ªåº•å‘ä¸Š) dpé—®é¢˜æ ¸å¿ƒæ˜¯ç©·ä¸¾ï¼Œdpç‰¹ç‚¹æ˜¯å­˜åœ¨ é‡å å­é—®é¢˜ æœ€ä¼˜å­ç»“æ„ ç„¶ååªè¦åœ¨æ­¤åŸºç¡€ä¸Šåˆ—å‡º çŠ¶æ€è½¬ç§»æ–¹ç¨‹ å³å¯ åŠ¨æ€è§„åˆ’çš„ä¸‰è¦ç´ ï¼š é‡å å­é—®é¢˜ æœ€ä¼˜å­ç»“æ„ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ€ç»´æ¡†æ¶ï¼š æ˜ç¡®ã€ŒçŠ¶æ€ã€ -&gt; å®šä¹‰ dp æ•°ç»„/å‡½æ•°çš„å«ä¹‰ -&gt; æ˜ç¡®ã€Œé€‰æ‹©ã€-&gt; æ˜ç¡® base caseã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[jvmç¬”è®°]]></title>
    <url>%2F2019%2F12%2F04%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AC%94%E8%AE%B0.html</url>
    <content type="text"><![CDATA[ç¬¬äºŒç«  Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸OutOfMemoryErrorå¼‚å¸¸åŒ…æ‹¬ Javaå †æº¢å‡ºã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡ºã€æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡ºã€æœ¬åœ°ç›´æ¥å†…å­˜æº¢å‡ºã€‚ è¿è¡Œæ—¶æ•°æ®åŒºåŸŸåŒ…æ‹¬ æ–¹æ³•åŒºã€å †ï¼ˆå‰ä¸¤è€…éƒ½æ˜¯å…±äº«çš„ï¼‰ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€ç¨‹åºè®¡æ•°å™¨ï¼ˆä¸‰è€…æ˜¯çº¿ç¨‹ç§æœ‰ï¼‰ã€‚ æ–¹æ³•åŒºï¼šä¸Javaå †ä¸€æ ·ï¼Œæ˜¯å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ï¼Œåˆ«åç§°ä¸ºNon-Heapã€‚ å †ï¼šJava Heapæ˜¯Javaè™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ã€‚Javaå †æ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œæ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼ŒåŒæ—¶Javaå †æ˜¯åƒåœ¾æ”¶é›†ç®¡ç†çš„ä¸»è¦åŒºåŸŸï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿè¢«ç§°ä¸ºGCå †ã€‚ è™šæ‹Ÿæœºæ ˆï¼šæè¿°çš„æ˜¯Javaæ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼Œå³æ¯ä¸ªæ–¹æ³•ä¼šåœ¨æ‰§è¡Œçš„åŒæ—¶åˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚ç»å¸¸æœ‰äººæŠŠJavaå†…å­˜åˆ†ä¸ºå †å†…å­˜å’Œæ ˆå†…å­˜ï¼Œè¿™é‡Œçš„æ ˆå†…å­˜å°±æ˜¯æŒ‡çš„è™šæ‹Ÿæœºæ ˆã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼šä¸è™šæ‹Ÿæœºæ ˆå‘æŒ¥çš„åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«ä¸è¿‡æ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„Nativeæ–¹æ³•æœåŠ¡ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼šä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚ è¿è¡Œæ—¶å¸¸é‡æ± ï¼šæ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚å¸¸é‡æ± ï¼ˆç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼‰ã€‚ ç›´æ¥å†…å­˜ï¼šå¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯Javaè™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸã€‚ Xms Xmx PermSize MaxPermSize åŒºåˆ«1.å‚æ•°çš„å«ä¹‰-vmargs -Xms128M -Xmx512M -XX:PermSize=64M -XX:MaxPermSize=128M-vmargs è¯´æ˜åé¢æ˜¯VMçš„å‚æ•°ï¼Œæ‰€ä»¥åé¢çš„å…¶å®éƒ½æ˜¯JVMçš„å‚æ•°äº†-Xms128m JVMåˆå§‹åˆ†é…çš„å †å†…å­˜-Xmx512m JVMæœ€å¤§å…è®¸åˆ†é…çš„å †å†…å­˜ï¼ŒæŒ‰éœ€åˆ†é…-XX:PermSize=64M JVMåˆå§‹åˆ†é…çš„éå †å†…å­˜-XX:MaxPermSize=128M JVMæœ€å¤§å…è®¸åˆ†é…çš„éå †å†…å­˜ï¼ŒæŒ‰éœ€åˆ†é… æˆ‘ä»¬é¦–å…ˆäº†è§£ä¸€ä¸‹JVMå†…å­˜ç®¡ç†çš„æœºåˆ¶ï¼Œç„¶åå†è§£é‡Šæ¯ä¸ªå‚æ•°ä»£è¡¨çš„å«ä¹‰ã€‚ 1)å †(Heap)å’Œéå †(Non-heap)å†…å­˜ æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•ï¼šâ€œJava è™šæ‹Ÿæœºå…·æœ‰ä¸€ä¸ªå †ï¼Œå †æ˜¯è¿è¡Œæ—¶æ•°æ®åŒºåŸŸï¼Œæ‰€æœ‰ç±»å®ä¾‹å’Œæ•°ç»„çš„å†…å­˜å‡ä»æ­¤å¤„åˆ†é…ã€‚å †æ˜¯åœ¨ Java è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºçš„ã€‚â€â€œåœ¨JVMä¸­å †ä¹‹å¤–çš„å†…å­˜ç§°ä¸ºéå †å†…å­˜(Non-heap memory)â€ã€‚ å¯ä»¥çœ‹å‡ºJVMä¸»è¦ç®¡ç†ä¸¤ç§ç±»å‹çš„å†…å­˜ï¼šå †å’Œéå †ã€‚ç®€å•æ¥è¯´å †å°±æ˜¯Javaä»£ç å¯åŠçš„å†…å­˜ï¼Œæ˜¯ç•™ç»™å¼€å‘äººå‘˜ä½¿ç”¨çš„ï¼›éå †å°±æ˜¯JVMç•™ç»™è‡ªå·±ç”¨çš„ï¼Œ æ‰€ä»¥æ–¹æ³•åŒºã€JVMå†…éƒ¨å¤„ç†æˆ–ä¼˜åŒ–æ‰€éœ€çš„å†…å­˜(å¦‚JITç¼–è¯‘åçš„ä»£ç ç¼“å­˜)ã€æ¯ä¸ªç±»ç»“æ„(å¦‚è¿è¡Œæ—¶å¸¸æ•°æ± ã€å­—æ®µå’Œæ–¹æ³•æ•°æ®)ä»¥åŠæ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„ä»£ç éƒ½åœ¨éå †å†…å­˜ä¸­ã€‚ å †å†…å­˜åˆ†é… JVMåˆå§‹åˆ†é…çš„å †å†…å­˜ç”±-XmsæŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/64ï¼›JVMæœ€å¤§åˆ†é…çš„å †å†…å­˜ç”±-XmxæŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/4ã€‚é»˜è®¤ç©ºä½™å †å†…å­˜å°äº40%æ—¶ï¼ŒJVMå°±ä¼šå¢å¤§å †ç›´åˆ°-Xmxçš„æœ€å¤§é™åˆ¶ï¼› ç©ºä½™å †å†…å­˜å¤§äº70%æ—¶ï¼ŒJVMä¼šå‡å°‘å †ç›´åˆ°-Xmsçš„æœ€å°é™åˆ¶ã€‚å› æ­¤æœåŠ¡å™¨ä¸€èˆ¬è®¾ç½®-Xmsã€-Xmx ç›¸ç­‰ä»¥é¿å…åœ¨æ¯æ¬¡GC åè°ƒæ•´å †çš„å¤§å°ã€‚ è¯´æ˜ï¼šå¦‚æœ-Xmx ä¸æŒ‡å®šæˆ–è€…æŒ‡å®šåå°ï¼Œåº”ç”¨å¯èƒ½ä¼šå¯¼è‡´java.lang.OutOfMemoryé”™è¯¯ï¼Œæ­¤é”™è¯¯æ¥è‡ªJVMï¼Œä¸æ˜¯Throwableçš„ï¼Œæ— æ³•ç”¨tryâ€¦catchæ•æ‰ã€‚ éå †å†…å­˜åˆ†é… JVMä½¿ç”¨-XX:PermSizeè®¾ç½®éå †å†…å­˜åˆå§‹å€¼ï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/64ï¼›ç”±XX:MaxPermSizeè®¾ç½®æœ€å¤§éå †å†…å­˜çš„å¤§å°ï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„1/4ã€‚ï¼ˆè¿˜æœ‰ä¸€è¯´ï¼šMaxPermSizeç¼ºçœå€¼å’Œ-server -clienté€‰é¡¹ç›¸å…³ï¼Œ -serveré€‰é¡¹ä¸‹é»˜è®¤MaxPermSizeä¸º64mï¼Œ-clienté€‰é¡¹ä¸‹é»˜è®¤MaxPermSizeä¸º32mã€‚è¿™ä¸ªæˆ‘æ²¡æœ‰å®éªŒã€‚ï¼‰ ä¸Šé¢é”™è¯¯ä¿¡æ¯ä¸­çš„PermGen spaceçš„å…¨ç§°æ˜¯Permanent Generation spaceï¼Œæ˜¯æŒ‡å†…å­˜çš„æ°¸ä¹…ä¿å­˜åŒºåŸŸã€‚è¿˜æ²¡æœ‰å¼„æ˜ç™½PermGen spaceæ˜¯å±äºéå †å†…å­˜ï¼Œè¿˜æ˜¯å°±æ˜¯éå †å†…å­˜ï¼Œä½†è‡³å°‘æ˜¯å±äºäº†ã€‚XX:MaxPermSizeè®¾ç½®è¿‡å°ä¼šå¯¼è‡´java.lang.OutOfMemoryError: PermGen space å°±æ˜¯å†…å­˜ç›Šå‡ºã€‚è¯´è¯´ä¸ºä»€ä¹ˆä¼šå†…å­˜ç›Šå‡ºï¼šï¼ˆ1ï¼‰è¿™ä¸€éƒ¨åˆ†å†…å­˜ç”¨äºå­˜æ”¾Classå’ŒMetaçš„ä¿¡æ¯ï¼ŒClassåœ¨è¢« Loadçš„æ—¶å€™è¢«æ”¾å…¥PermGen spaceåŒºåŸŸï¼Œå®ƒå’Œå­˜æ”¾Instanceçš„HeapåŒºåŸŸä¸åŒã€‚ï¼ˆ2ï¼‰GC(Garbage Collection)ä¸ä¼šåœ¨ä¸»ç¨‹åºè¿è¡ŒæœŸå¯¹PermGen spaceè¿›è¡Œæ¸…ç†ï¼Œæ‰€ä»¥å¦‚æœä½ çš„APPä¼šLOADå¾ˆå¤šCLASS çš„è¯,å°±å¾ˆå¯èƒ½å‡ºç°PermGen spaceé”™è¯¯ã€‚ è¿™ç§é”™è¯¯å¸¸è§åœ¨webæœåŠ¡å™¨å¯¹JSPè¿›è¡Œpre compileçš„æ—¶å€™ã€‚ è¡¥å……ï¼š å¦‚æœä½ çš„WEB APPä¸‹éƒ½ç”¨äº†å¤§é‡çš„ç¬¬ä¸‰æ–¹jarï¼Œå…¶å¤§å°è¶…è¿‡äº†æœåŠ¡å™¨jvmé»˜è®¤çš„å¤§å°ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿå†…å­˜ç›Šå‡ºé—®é¢˜äº†ã€‚è§£å†³æ–¹æ³•ï¼š è®¾ç½®MaxPermSizeå¤§å°å¯ä»¥åœ¨myelipseé‡Œé€‰ä¸­ç›¸åº”çš„æœåŠ¡å™¨æ¯”å¦‚tomcat5ï¼Œå±•å¼€é‡Œé¢çš„JDKå­é¡¹é¡µé¢ï¼Œæ¥å¢åŠ æœåŠ¡å™¨å¯åŠ¨çš„JVMå‚æ•°è®¾ç½®ï¼š-Xms128m-Xmx256m-XX:PermSize=128M-XX:MaxNewSize=256m-XX:MaxPermSize=256mæˆ–è€…æ‰‹åŠ¨è®¾ç½®MaxPermSizeå¤§å°,æ¯”å¦‚tomcatï¼Œä¿®æ”¹TOMCAT_HOME/bin/catalina.batï¼Œåœ¨echo â€œUsing CATALINA_BASE: $CATALINA_BASEâ€ä¸Šé¢åŠ å…¥ä»¥ä¸‹è¡Œï¼šJAVA_OPTS=â€-server -XX:PermSize=64M -XX:MaxPermSize=128m]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>jvm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åå¤§å†…éƒ¨æ’åº]]></title>
    <url>%2F2019%2F10%2F27%2F%E5%8D%81%E5%A4%A7%E6%8E%92%E5%BA%8F.html</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘ä¸€ç›´æ¯”è¾ƒå¿™ï¼Œé©¬ä¸Šå°±è¦è€ƒè¯•äº†ï¼Œæ‰€ä»¥LeetCodeç¨å¾®æš‚æ—¶æ”¾äº†æ”¾ï¼Œé›†ä¸­ç²¾åŠ›å›é¡¾äº†ä¸‹å†…éƒ¨æ’åºç®—æ³•ï¼Œæœ¬ç¯‡æ–‡ç« ä¼šå¯¹å¸¸è§çš„åå¤§å†…éƒ¨æ’åºç®—æ³•è¿›è¡Œç³»ç»Ÿçš„å›é¡¾ã€‚ æ¦‚è¿°ç®—æ³•åˆ†ç±»å¸¸è§æ’åºç®—æ³•å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼š æ¯”è¾ƒæ’åºï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œç”±äºå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn)ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºéçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æ’åºã€‚ éæ¯”è¾ƒç±»æ’åºï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œå®ƒå¯ä»¥çªç ´åŸºäºæ¯”è¾ƒæ’åºçš„æ—¶é—´ä¸‹ç•Œï¼Œä»¥çº¿æ€§æ—¶é—´è¿è¡Œï¼Œå› æ­¤ä¹Ÿç§°ä¸ºçº¿æ€§æ—¶é—´éæ¯”è¾ƒç±»æ’åºã€‚ ç®—æ³•å¤æ‚åº¦ éƒ¨åˆ†è¡¥å…… ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bå‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹åaä»ç„¶åœ¨bçš„å‰é¢ã€‚ ä¸ç¨³å®šï¼šå¦‚æœaåŸæœ¬åœ¨bçš„å‰é¢ï¼Œè€Œa=bï¼Œæ’åºä¹‹å a å¯èƒ½ä¼šå‡ºç°åœ¨ b çš„åé¢ã€‚ ä¸ç¨³å®šæ’åºç®—æ³•ï¼šè°éŸ³è®°å¿†æ³•ï¼šå¿«ï¼ˆå¿«æ’ï¼‰ äº›ï¼ˆå¸Œå°”ï¼‰é€‰ï¼ˆé€‰æ‹©ï¼‰å¯¹ï¼ˆå †ï¼‰ã€‚ æ€»å…±4ä¸ªä¸ç¨³å®šï¼Œ6ä¸ªç¨³å®šã€‚ å†’æ³¡æ’åºåŸºæœ¬æ€æƒ³å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚ ç®—æ³•æè¿° ä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸¤ä¸¤æ¯”è¾ƒï¼Œå¦‚æœå‰è€…æ¯”åè€…å¤§ï¼Œåˆ™äº¤æ¢ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸€è½®ä¸‹æ¥ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªæœ€å¤§çš„æ•°ï¼› å½“æŸä¸€è½®æ²¡æœ‰äº§ç”Ÿä»»ä½•ä¸€æ¬¡äº¤æ¢ï¼Œåˆ™è¯´æ˜å†’æ³¡å®Œæˆã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344package æ’åº;import JAVA_I_O.Buffer.BufferedInputStream;import java.util.ArrayList;import java.util.Arrays;import java.util.Scanner;//æµ‹è¯•ç±»public class SortTest &#123; public static void main(String[] args) throws Exception &#123; System.out.println("è¯·è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œç”¨é€—å·åˆ†éš”ï¼š"); Scanner sc = new Scanner(System.in); String next = sc.nextLine(); String[] net = next.split(",");// String[] arr = Arrays.copyOf(net,net.length);// int[] arr = new int[0]; ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;Integer&gt;(); for (int i = 0 ; i &lt; net.length ; i++) &#123; arrayList.add(Integer.parseInt(net[i]));// System.out.println(arr[i]); &#125; int size = arrayList.size(); Integer[] arrInt = arrayList.toArray(new Integer[size]); int[] arr = new int[size]; for(int i = 0 ; i &lt; arrInt.length;i++)&#123; arr[i] = arrInt[i]; &#125;// System.out.println(arr[i]);// int[] InsertSortArray = Sort.InsertSort(arr);// int[] SelectSortArray = Sort.SelectSort(arr); Sort.BubbleSort(arr);// int[] ShellSortArray = Sort.ShellSort2(arr);// Sort.quickSort(arr,0,arr.length-1);// Sort.heapSort(arr,arr.length-1);// Sort.courtSort(arr);// Sort.BucketSort(arr);// Sort.radixSort(arr);// for (int i = 0 ; i &lt; ShellSortArray.length ; i++) &#123;// System.out.print(ShellSortArray[i] + " ");// &#125; &#125;&#125; 1234567891011121314151617181920212223242526272829 /** * å†’æ³¡ * * @param sortArray åŸå§‹æ•°ç»„ * @return æ’åºæ•°ç»„ */public static void BubbleSort(int[] sortArray) &#123; //å¤åˆ¶ä¸€ä»½åŸå§‹æ•°ç»„ï¼Œç”¨äºæ’åºæ“ä½œ int[] arr = Arrays.copyOf(sortArray, sortArray.length); //å¾ªç¯n-1è½®ï¼Œå‰©æœ€åä¸€ä¸ªå°±ä¸éœ€è¦äº¤æ¢äº† for (int i = 1; i &lt; arr.length; i++) &#123; //æ ‡å¿—ä½ï¼Œå½“ä¸€è½®ä¸‹æ¥æ²¡æœ‰ä»»ä½•å˜åŒ–æ—¶ï¼Œè¯´æ˜å†’æ³¡ç»“æŸï¼Œéœ€è¦ç»“æŸå¾ªç¯ boolean flag = true; //æ¯ä¸€è½®éƒ½è¦ä¸¤ä¸¤æ¯”è¾ƒï¼Œæ³¨æ„æ¯ä¸€è½®ç»“æŸéƒ½ä¼šç¡®è®¤ä¸€ä¸ªå€¼åœ¨æ­£ç¡®çš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥jçš„éå†æ¬¡æ•°å¾—ç¨åŠ æ³¨æ„ for (int j = 0; j &lt; arr.length - i; j++) &#123; //ä½ç½®å˜åŒ–çš„åŒæ—¶è¯´æ˜å†’æ³¡æ²¡æœ‰ç»“æŸ if (arr[j] &gt; arr[j + 1]) &#123; int temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; flag = false; &#125; &#125; if (flag) &#123; break; &#125; &#125; System.out.println(Arrays.toString(arr));&#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šå¾ˆæ˜æ˜¾ï¼Œçœ‹ä»£ç å°±çŸ¥é“ï¼Œå†’æ³¡æœ‰ä¸¤ä¸ªforå¾ªç¯ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹å’Œæœ€åæƒ…å†µä¸‹çš„å¤æ‚åº¦éƒ½ä¸ºO(nÂ²)ï¼Œæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ä¸€æ¬¡å†’æ³¡å°±å®Œæˆäº†ï¼Œå³ä¸ºO(n); ç©ºé—´å¤æ‚åº¦ï¼šåœ¨å†’æ³¡ä¸­ï¼Œåªç”¨äº†tempæ¥å­˜å‚¨ä¸­é—´å˜é‡äº¤æ¢ï¼Œæ²¡æœ‰ç”¨åˆ°å…¶ä»–ç©ºé—´(æˆ‘çš„ä»£ç ä¸­çš„å¤åˆ¶åˆå§‹æ•°ç»„çš„å®¹é‡å…¶å®å¯ä»¥çœå»)ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯O(1); ç¨³å®šæ€§ï¼šäº¤æ¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›¸é‚»ä¸¤è€…çš„å€¼ä¸€æ ·ï¼Œåˆ™ä¸ä¼šäº¤æ¢ï¼Œæ‰€ä»¥æ˜æ˜¾å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„ã€‚ tips å¤–å¾ªç¯ n-1æ¬¡ï¼› æ³¨æ„æ·»åŠ æ ‡å¿—ä½ï¼Œåˆ¤æ–­å†’æ³¡æ˜¯å¦ç»“æŸï¼› æ³¨æ„å†…éƒ¨å¾ªç¯çš„æ¬¡æ•°ï¼Œæ¯å¤–éƒ¨å¾ªç¯ç»“æŸä¸€æ¬¡ï¼Œå°±ç¡®å®šä¸€ä¸ªæ•°çš„æœ€ç»ˆä½ç½®ã€‚ å¿«é€Ÿæ’åºåŸºæœ¬æ€æƒ³å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰æ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ï¼Œå€Ÿç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œç”±C. A. R. Hoareåœ¨1962å¹´æå‡ºã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—ã€‚ ç®—æ³•æè¿° é¦–å…ˆé€‰å®šä¸€ä¸ªåŸºå‡†å€¼ï¼ˆpivotï¼‰ï¼Œæˆ‘ä¸€èˆ¬çš„åšæ³•æ˜¯é€‰å®šæœ€å·¦è¾¹çš„ä½œä¸ºåŸºå‡†ï¼› å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘æœ€å³è¾¹ï¼Œä¸€ä¸ªæŒ‡å‘æœ€å·¦è¾¹ï¼Œç„¶åæ³¨æ„è®©å³è¾¹çš„å…ˆåŠ¨ï¼Œç­‰å³è¾¹æŒ‡é’ˆæ‰€æŒ‡çš„æ•°å€¼å°äºpivotæ—¶ï¼Œå³è¾¹æŒ‡é’ˆä¸å†å¾€å·¦èµ°ï¼Œä¸å‡†åŠ¨äº†ï¼Œç„¶åç§»åŠ¨å·¦è¾¹æŒ‡é’ˆï¼Œç­‰å·¦è¾¹æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°å€¼å¤§äºpivotæ—¶ï¼Œå·¦è¾¹æŒ‡é’ˆåœä¸‹ï¼Œä¸å†å‘å³ç§»åŠ¨ï¼Œç„¶åäºŒè€…äº¤æ¢ï¼› äº¤æ¢å®Œæ¯•åï¼Œé‡å¤ç¬¬äºŒæ­¥ï¼Œå³è¾¹æŒ‡é’ˆç»§ç»­å‘å·¦ï¼Œé‡å¤ï¼› ç›´åˆ°å·¦å³ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡ï¼Œä¸¤ä¸ªéƒ½åœä¸‹ï¼Œå°†æŒ‡å‘çš„æ•°å€¼å’Œpivotäº¤æ¢ï¼Œè‡³æ­¤æ•°ç»„å°±åˆ†æˆäº†ä¸¤ä¸ªå­æ•°ç»„ï¼Œpivotå·¦ä¾§æ¯”å…¶å°ï¼Œå³è¾¹æ¯”å…¶å¤§ï¼› ç„¶åé€’å½’å­æ•°ç»„ï¼Œç›´åˆ°å­æ•°ç»„ä¸º0ï¼ˆlow &gt; highï¼‰ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * å¿«é€Ÿæ’åº * åç»­æ‰€æœ‰æµ‹è¯•éƒ½è·Ÿå†’æ³¡é‚£ç« å†™çš„ä¸€æ · * @param sortArray åŸå§‹æ•°ç»„ * @param low æœ€å·¦ä¾§ * @param high æœ€å³ä¾§ */public static void quickSort(int[] sortArray, int low, int high) &#123; //å½“low = high æ—¶ï¼Œè¯´æ˜å­æ•°ç»„åªå‰©ä¸€ä¸ªæ•°äº†ï¼Œè¿˜æ’ä¸ªé”¤å­å•Š if (low &lt; high) &#123; //æ‹¿åˆ°åŸºå‡†å€¼ï¼Œè¿™æ ·å°±å¯ä»¥æ„‰å¿«çš„é€’å½’äº† int pivot = partition(sortArray, low, high); //æ³¨æ„å“¦ï¼Œé€’å½’æ—¶å¯æ²¡æœ‰æŠŠpivotæ”¾å…¥å…¶ä¸­ quickSort(sortArray, low, pivot - 1); quickSort(sortArray, pivot + 1, high); System.out.println(Arrays.toString(sortArray)); &#125;&#125;/** * å¿«æ’ä¸»æ€è·¯ * @param sortArray * @param low * @param high * @return */private static int partition(int[] sortArray, int low, int high) &#123; //æˆ‘ä¸ªäººä¹ æƒ¯æ˜¯æŠŠæœ€å·¦è¾¹å®šä¸ºåŸºå‡†å€¼ï¼Œå…·ä½“æ–¹æ³•æœ‰å¾ˆå¤šå•¦ï¼Œéšä¾¿ä½ ï¼Œçˆ±å’‹å’‹çš„ int pivot = low; //å®šä¹‰å·¦å³ä¸¤æŒ‡é’ˆ int p = low; int q = high; //ç›¸é‡å°±ç»“æŸäº†å“ˆï¼Œç„¶åç›´æ¥äº¤æ¢åŸºå‡†å’ŒæŒ‡å‘çš„æ•°å€¼å°±è¡Œå’¯ while (p &lt; q) &#123; //æ²¡ç›¸é‡å¹¶ä¸”å³æŒ‡é’ˆæŒ‡å‘çš„å€¼æ¯”åŸºå‡†å€¼å¤§ï¼Œå°±å‘å·¦ç§»åŠ¨ï¼Œè‹¥æ¯”åŸºå‡†å€¼å°ï¼Œé‚£å°±å¾—åœä¸‹ while (p &lt; q &amp;&amp; sortArray[pivot] &lt;= sortArray[q]) q--; while (p &lt; q &amp;&amp; sortArray[pivot] &gt;= sortArray[p]) p++; //éƒ½åœä¸‹äº†å°±äº¤æ¢å­ï¼ swap(sortArray, p, q); &#125; swap(sortArray, pivot, p); //ä¸è¦å¿˜è®°æœ€åè¦è¿”å›è¿™ä¸ªåŸºå‡†å€¼ return p;&#125;public static void swap(int[] sum, int i, int j) &#123; int temp = sum[i]; sum[i] = sum[j]; sum[j] = temp;&#125; ç®—æ³•æ•ˆç‡å¿«æ’å˜›ï¼Œç”¨äº†åˆ†æ²»çš„æ€æƒ³å’¯ï¼Œæ‰€ä»¥å¤æ‚åº¦è‚¯å®šæ˜¯æ¯”å†’æ³¡ä½çš„ï¼Œè‡³äºæ˜¯å¤šå°‘ï¼Œæˆ‘ä»¬ç¨åŠ åˆ†æä¸€ä¸‹ï¼š æ—¶é—´å¤æ‚åº¦ï¼šåˆ†æ²»æ€æƒ³ï¼Œä½†æ˜¯ç»å£ä¸æ˜¯çº¿æ€§çš„ï¼Œå› ä¸ºå®ƒä¸€è½®ä¸‹æ¥ææ¥æå»ï¼Œäº¤æ¢è¿™äº¤æ¢é‚£çš„ï¼Œæ‰€ä»¥ä¸€è½®æ˜¯logN,nè½®ä¸‹æ¥å°±æ˜¯nlogNäº†ã€‚æˆ‘è¯´çš„æ˜¯æœ€å¥½æƒ…å†µå’Œå¹³å‡æƒ…å†µå“ˆï¼Œæœ€åé‚£è‚¯å®šè¿˜æ˜¯O(nÂ²)ï¼Œå› ä¸ºå¯èƒ½ä½ å¾ˆä¸å¹¸ï¼ŒåŸºå‡†å€¼å°±æ˜¯æœ€å¤§çš„ï¼Œç„¶åå°±å¾—ç–¯ç‹‚äº¤æ¢ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šä¸ççš„éƒ½çœ‹å¾—å‡ºæ¥ï¼Œå°±ç”¨äº†ä¸€ä¸ªtempä¸­é—´å˜é‡ç”¨æ¥å­˜å€¼ï¼Œæ‰€ä»¥æ˜¯O(1) ã€‚ ç¨³å®šæ€§ï¼šå“å‘€è‚¯å®šæ˜¯ä¸ç¨³å®šçš„å•Šï¼Œä¸¤ä¸ªæŒ‡é’ˆåœ¨é‚£æ¢æ¥æ¢å»ï¼Œèƒ½ç¨³å®šå˜›â€¦ tips æ³¨æ„é€’å½’æ—¶çš„å­ä¸²æ˜¯ä¸åŒ…æ‹¬pivotçš„ï¼Œä¸€ä¸ªæ˜¯(low,pivot-1)ï¼Œä¸€ä¸ªæ˜¯(pivot+1,high)ï¼› ä¸¤ä¸ªæŒ‡é’ˆç›¸é‡ï¼Œä¸ç”¨åˆ¤æ–­å’Œpivotå€¼çš„å¤§å°ï¼Œç›´æ¥äº¤æ¢å³å¯ï¼Œå› ä¸ºä¸¤ä¸ªæŒ‡é’ˆåªä¼šæœ‰ä¸€ä¸ªåœ¨ç§»åŠ¨ï¼Œé‚£ä¹ˆæ­¤æ—¶æ­¤åˆ»å¦ä¸€ä¸ªæŒ‡é’ˆä¸€å®šæ˜¯é™æ­¢çš„ï¼Œå‡å¦‚æ­¤æ—¶æ˜¯å³è¾¹çš„æŒ‡é’ˆç§»åŠ¨ï¼Œé‚£ä¹ˆç›¸é‡çš„ä½ç½®å³å·¦æŒ‡é’ˆåœä¸‹çš„ä½ç½®ï¼Œè€Œå·¦æŒ‡é’ˆåœä¸‹è¯´æ˜ä¹‹å‰å³è¾¹æŒ‡é’ˆä¹Ÿåœä¸‹æ¥è¿‡å¹¶ä¸”å’Œå·¦è¾¹æŒ‡é’ˆæŒ‡å‘çš„æ•°è¿›è¡Œäº†äº¤æ¢(å› ä¸ºåªæœ‰å³è¾¹åœä¸‹ï¼Œå·¦è¾¹æ‰èƒ½ç§»åŠ¨)ï¼Œé‚£ä¹ˆæ­¤æ—¶å·¦è¾¹æŒ‡å‘çš„æ•°æ˜¯ä¸€å®šæ¯”pivotå°çš„ï¼Œæ‰€ä»¥å¿…ç„¶å¯ä»¥ç›´æ¥äº¤æ¢ï¼Œæ¢ä¸ªè§’åº¦è€ƒè™‘ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ è¿˜æœ‰ï¼Œæˆ‘ä¸€ç›´å¼ºè°ƒå¿…é¡»å³æŒ‡é’ˆå…ˆåŠ¨(å…¶å®åªè¦æ˜¯å’ŒåŸºå‡†ç›¸åæ–¹å‘çš„æŒ‡é’ˆå…ˆåŠ¨å°±è¡Œ)ï¼Œä¸ºä»€ä¹ˆæï¼Œå› ä¸ºå˜›ï¼Œç»™ä½ ä¸¾ä¸ªä¾‹å­å§ï¼Œå‡å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ•°ç»„ 9,3,4,5,6,7,10 ,å·¦è¾¹çš„å…ˆåŠ¨é‚£å°±å‡‰äº†å•Šï¼Œå› ä¸ºæœ€åä½ éƒ½å®šåœ¨10ï¼Œä¸€å«æ¢å°±å˜æˆäº†10,3,4,5,6,7,9ï¼Œè¿™è¿˜ç©ä¸ªé”¤å­å•Šâ€”â€”â€”â€“&gt; å¿«æ’ä»å³è¾¹å¼€å§‹çš„åŸå›  è‡³äºå¿«æ’çš„ä¼˜åŒ–ï¼Œç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯ï¼Œæ‡’å¾—å†™äº†â€¦ åˆ°æ—¶å€™éœ€è¦å†è¯´ã€‚ ç®€å•æ’å…¥æ’åºåŸºæœ¬æ€æƒ³çœ‹åå­—å­ï¼Œæ’å…¥ï¼Œè¿˜å°¼ç›ç®€å•æ’å…¥ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªå¾…æ’åºæ•°ç»„çœ‹æˆæ˜¯ä¸€æ­¥æ­¥æ’å¥½çš„æ•°ç»„ï¼Œç”¨çš„æ˜¯æœ€ç®€å•çš„æ–¹æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ ç®—æ³•æè¿°ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æ’åºéƒ½é‡‡ç”¨ in-place åœ¨æ•°ç»„ä¸Šå®ç°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼› å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼› å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼› å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼› é‡å¤æ­¥éª¤2~5ã€‚ æ³¨ï¼šå•¥æ˜¯in-placeçŸ¥é“ä¸ï¼šåŸåœ°ç®—æ³•) åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223/** * ç›´æ¥æ’å…¥æ’åº * æˆ‘æ²¡æœ‰in-placeå“ˆï¼Œä½†æ˜¯æ˜¯å¯ä»¥çš„ * @param SortArray åŸå§‹æ•°ç»„ * @return æ’åºæ•°ç»„ */ public static void InsertSort(int[] SortArray) &#123; int[] arr = Arrays.copyOf(SortArray, SortArray.length); //ä»1å¼€å§‹å“¦ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ•°é»˜è®¤æ˜¯æ’å¥½åºçš„å•¦ for (int i = 1; i &lt; arr.length; i++) &#123; int temp = arr[i]; int j = i; for (; (j &gt; 0 &amp;&amp; arr[j - 1] &gt; temp); j--) &#123; //è¿™ä¸€æ­¥æœ€å…³é”®ï¼Œå› ä¸ºè¦æ³¨æ„æ¯å½“æ’å…¥ä¸€ä¸ªæ•°å­—ï¼Œå…¶åé¢éƒ½è¦å¾€åé¡ºç§»ä¸€ä½ï¼Œä¸ç„¶çš„è¯å°±ç©ºä¸å‡ºè¦æ’å…¥çš„ä½ç½®ï¼ï¼ï¼ arr[j] = arr[j - 1]; &#125; //å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œåˆ™tempä¾ç„¶ç­‰äºarr[i],å¦‚æœå˜åŒ–ï¼Œåˆ™å°†arr[i]ç§»åŠ¨è¿‡æ¥å°±è¡Œ //æ³¨æ„ä¸èƒ½ç›´æ¥arr[j] = arr[i]å“¦ï¼Œå› ä¸ºæ­¤æ—¶çš„iç´¢å¼•å€¼å·²ç»å¯èƒ½å˜åŒ–å•¦ï¼ï¼ï¼ï¼tempéå¸¸çš„å…³é”®ï¼ï¼ arr[j] = temp; &#125; System.out.println(Arrays.toString(arr)); &#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šè¿™ç§ç›´æ¥æ’å…¥éº»çƒ¦çš„ä¸€ç¬”ï¼Œå¦‚æœæ˜¯åŸæ•°ç»„æ˜¯å€’åºï¼Œé‚£æ¯ä¸€è½®éƒ½å¾—ç–¯ç‹‚æ’ï¼Œæ¯«æ— ç–‘é—®æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Œæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ä¸€æ¬¡éƒ½ä¸ç”¨ç»™åæ¥è€…è®©ä½ï¼Œé‚£ä¹ˆå°±æ˜¯çº¿æ€§å¤æ‚åº¦äº†O(n)ï¼Œå¹³å‡ä¸‹æ¥ä¾æ—§æ˜¯O(Â²)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šin-place,O(1) ã€‚ ç¨³å®šæ€§ï¼šå½“ç„¶æ˜¯ç¨³å®šçš„å•¦ï¼ tips æ³¨æ„æ’å…¥çš„æ—¶å€™æ˜¯å°†æ¯”æ’å…¥çš„æ•°å¤§çš„å·²ç»æ’åºå¥½çš„æ•°å…¨éƒ¨åç§»ä¸€ä½å“¦ï¼ï¼ï¼ç»™æœ•è®©ä½çš„èµ¶è„šâ€¦ ç”¨tempæ¥ä¿å­˜å½“å‰éœ€è¦æ’å…¥çš„æ•°æ®æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™ä¹Ÿæ˜¯æ’å…¥æ’åºå”¯äºŒéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œè¿˜è¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å…¨éƒ¨åç§»ä¸€ä½ã€‚ å¸Œå°”æ’åºåŸºæœ¬æ€æƒ³å¸Œå°”æ’åºåˆå«ç¼©å°å¢é‡æ’åºï¼Œ1959å¹´Shellå‘æ˜ã€‚æ˜¯æ’å…¥æ’åºçš„ä¸€ç§é«˜é€Ÿè€Œç¨³å®šçš„æ”¹è¿›ç‰ˆæœ¬ã€‚ å¸Œå°”æ’åºæ˜¯å…ˆå°†æ•´ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•â€œåŸºæœ¬æœ‰åºâ€æ—¶ï¼Œå†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¾æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚ ç®—æ³•æè¿°å¸Œå°”æ’åºæœ‰nç§æ­¥é•¿æ–¹å¼ï¼Œè¿™é‡Œä»‹ç»ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¾ªç¯æŠ˜åŠï¼Œå¦ä¸€ç§æ˜¯ gap = gap * 3 + 1ã€‚ å…·ä½“ï¼šå¸Œå°”æ’åºå¢é‡åºåˆ—ä»‹ç» ã€‚ å…ˆå°†æ•´ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå…·ä½“ç®—æ³•æè¿°ï¼š é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—t1ï¼Œt2ï¼Œâ€¦ï¼Œtkï¼Œå…¶ä¸­ti&gt;tjï¼Œtk=1ï¼› æŒ‰å¢é‡åºåˆ—ä¸ªæ•°kï¼Œå¯¹åºåˆ—è¿›è¡Œk è¶Ÿæ’åºï¼› æ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡tiï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸ºm çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º1 æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223/*** å…¶å®å°±æ˜¯å°†ç›´æ¥æ’å…¥æ’åºçš„é—´éš”1å˜ä¸ºæ›´å¤§ï¼Œä¹Ÿå°±æ˜¯å…¶å®å°±å¤šäº†ä¸€ä¸ªå¾ªç¯ï¼Œå°±æ˜¯å¤šæ¬¡ç¼©å°é—´éš”çš„å¾ªç¯ï¼Œå…¶ä»–è·Ÿç›´æ¥æ’å…¥æ˜¯ä¸€æ ·çš„** @param sortArray* @return*/ public static int[] ShellSort2(int[] sortArray) &#123; int[] arr = Arrays.copyOf(sortArray, sortArray.length); int size = sortArray.length; for (int increment = size / 2; increment &gt; 0; increment /= 2) &#123; for (int i = increment; i &lt; size; i++) &#123; int temp = arr[i]; int j = i; for (; (j &gt; 0 &amp;&amp; arr[j - increment] &gt; temp); j -= increment) &#123; //è¿™ä¸€æ­¥æœ€å…³é”®ï¼Œå› ä¸ºè¦æ³¨æ„æ¯å½“æ’å…¥ä¸€ä¸ªæ•°å­—ï¼Œå…¶åé¢éƒ½è¦å¾€åé¡ºç§»incrementä½ï¼Œä¸ç„¶çš„è¯å°±ç©ºä¸å‡ºè¦æ’å…¥çš„ä½ç½®ï¼ï¼ï¼ arr[j] = arr[j - increment]; &#125; //å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œåˆ™tempä¾ç„¶ç­‰äºarr[i],å¦‚æœå˜åŒ–ï¼Œåˆ™å°†arr[i]ç§»åŠ¨è¿‡æ¥å°±è¡Œ arr[j] = temp; &#125; &#125; return arr; &#125; 12345678910111213141516171819202122232425262728293031 /** * ä¸æ˜¯æˆ‘å†™çš„ * * @param sourceArray * @return * @throws Exception */public static int[] ShellSort1(int[] sourceArray) throws Exception &#123; // å¯¹ arr è¿›è¡Œæ‹·è´ï¼Œä¸æ”¹å˜å‚æ•°å†…å®¹ int[] arr = Arrays.copyOf(sourceArray, sourceArray.length); int gap = 1; while (gap &lt; arr.length) &#123; gap = gap * 3 + 1; &#125; while (gap &gt; 0) &#123; for (int i = gap; i &lt; arr.length; i++) &#123; int tmp = arr[i]; int j = i; for (; j &gt;= 0 &amp;&amp; arr[j - gap] &gt; tmp; j -= gap) &#123; arr[j] = arr[j - gap]; &#125; arr[j] = tmp; &#125; gap = (int) Math.floor(gap / 3); &#125; return arr;&#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šæœ€åå’Œæœ€å¥½æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè¿™ä¸ªå°±è·Ÿç›´æ¥æ’å…¥æ²¡åŒºåˆ«ï¼Œæœ€å¥½æœ€åéƒ½æ˜¯å–å†³äºåŸæ•°ç»„åºåˆ—ï¼Œæ‰€ä»¥æœ€å¥½çš„æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(n)ï¼Œæœ€åçš„æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(nÂ²)ï¼Œå¹³å‡å¤æ‚åº¦ï¼Ÿæˆ‘tmä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œè®°ä½å°±æ˜¯å•¦ï¼ŒO(n^1.3)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šè¿™ä¸ªç®€å•çš„ä¸€æ‰¹ï¼Œè¿˜ä¸å°±æ˜¯O(1)ã€‚ ç¨³å®šæ€§ï¼šè¿™ç§è·³è·ƒæ€§çš„å½“ç„¶æ˜¯ä¸ç¨³å®šäº†ã€‚ä¾‹å¦‚arr = {3,2,2}ã€‚ tipsç®€å•çš„ä¸€æ‰¹â€¦ä¸å°±æ˜¯æŠŠç›´æ¥æ’å…¥çš„1å˜æˆ increment å˜› â€¦â€¦ æ²¡å•¥éœ€è¦æ³¨æ„çš„ï¼ å•Šï¼ï¼ï¼ä¸å¯¹ï¼Œå…¶å®è¿˜æ˜¯æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ï¼ï¼ï¼ è¿™é‡Œæ˜¯ä¸‰é‡å¾ªç¯ï¼Œå› ä¸ºé‚£ä¸ªæ­¥é•¿è¦å˜åŒ–ï¼Œç„¶åä¸åŒæ­¥é•¿éƒ½è¦è¿›è¡Œæ’åºï¼Œä¸€æ¬¡æ’åºæ˜¯ä¸¤é‡å¾ªç¯ over ç®€å•é€‰æ‹©æ’åºåŸºæœ¬æ€æƒ³é€‰æ‹©æ’åºï¼Œæ„åœ¨çªå‡ºé€‰æ‹© äºŒå­—ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯æœ‰ä¸€ä¸ªé€‰æ‹©çš„è¿‡ç¨‹ï¼Œè‡³äºç®€å•é€‰æ‹©ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯éå¸¸éå¸¸ç®€å•çš„é€‰æ‹©æ’åºï¼Œé‚£ä¸å°±æ˜¯æ¯æ¬¡éƒ½æ‰¾ä¸ªæœ€å°å€¼å¾€å‰æ‰”å˜›â€¦ é€‰æ‹©æ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ ç®—æ³•æè¿°nä¸ªè®°å½•çš„ç›´æ¥é€‰æ‹©æ’åºå¯ç»è¿‡ n-1 è¶Ÿç›´æ¥é€‰æ‹©æ’åºå¾—åˆ°æœ‰åºç»“æœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š(è¿™ä¹ˆå®˜æ–¹è‚¯å®šæ˜¯å¤åˆ¶çš„å•¦å“ˆå“ˆå“ˆå“ˆå“ˆ) åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼› ç¬¬iè¶Ÿæ’åº(i=1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶Ÿæ’åºä»å½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢åŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼›(è¿™ç§å±è¯è¯»èµ·æ¥ç®€ç›´å°±æ˜¯æµªè´¹ç”Ÿå‘½) n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚ æ³¨ï¼šå°±æ˜¯è¯´ â€”â€”â€“ æ¯æ¬¡éå†æ•°ç»„éƒ½é€‰ä¸€ä¸ªæœ€å°çš„æ‰”åˆ°æœ€å‰é¢ï¼ˆè·Ÿè¦æ‰”çš„ä½ç½®çš„æ•°è¿›è¡Œäº¤æ¢ï¼‰ï¼Œç„¶åä»å‰©ä¸‹çš„è¿˜æ²¡æ’åºçš„ç»§ç»­éå†ï¼Œç»§ç»­æ‰”ï¼Œæ‰”äº†n-1æ¬¡å°±ç»“æŸäº†å­ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223242526272829/** * ç®€å•é€‰æ‹©æ’åº * * @param SortArray åŸå§‹æ•°ç»„ * @return æ’åºæ•°ç»„ */public static int[] SelectSort(int[] SortArray) &#123; int[] arr = Arrays.copyOf(SortArray, SortArray.length); //æ³¨æ„æ˜¯n-1è½®ï¼Œä¸€è½®ä¸€ä¸ªæœ€å°å€¼ï¼Œæœ€åé‚£ä¸ªä¸ç”¨è½®äº† for (int i = 0; i &lt; arr.length - 1; i++) &#123; //æœ€å¼€å§‹é»˜è®¤ç¬¬ä¸€ä¸ªæ˜¯æœ€å°çš„ï¼Œç„¶åè¿›å…¥å†…å±‚å¾ªç¯ï¼Œåˆ†åˆ«è¿›è¡Œæ¯”è¾ƒï¼Œä¸€å®šè¦è®°å½•ä¸‹minçš„ä¸‹æ ‡ï¼Œè¿™æ˜¯æœ€åæ¯”è¾ƒå®Œäº¤æ¢çš„å…³é”® //æ¯ä¸€æ¬¡å¾ªç¯çš„ç›®çš„å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€å°å€¼ï¼Œç„¶åä¸å½“å‰å¤–éƒ¨å¾ªç¯çš„å€¼è¿›è¡Œä¸€ä¸ªäº¤æ¢ int min = i; for (int j = i + 1; j &lt; arr.length; j++) &#123; //min = Math.min(min,arr[j]); if (arr[min] &gt; arr[j]) &#123; min = j; &#125; &#125; //åˆ¤æ–­æ˜¯å¦éœ€è¦äº¤æ¢ if (i != min) &#123; int temp = arr[i]; arr[i] = arr[min]; arr[min] = temp; &#125; &#125; return arr;&#125; ç®—æ³•æ•ˆç‡å¿…é¡»è¦åæ§½çš„æ˜¯ï¼Œè¿™ä¸ªç›´æ¥é€‰æ‹©æ’åºæ˜¯åƒåœ¾ä¸­çš„æˆ˜æ–—æœºï¼Œå› ä¸ºå®ƒæ— è§†ä»»ä½•æ•°ç»„ï¼Œå¹²å•¥éƒ½æ˜¯åºŸç‰©çš„O(nÂ²)æ—¶é—´å¤æ‚åº¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) ï¼› ç©ºé—´å¤æ‚åº¦ï¼šO(1) ï¼› ç¨³å®šæ€§ï¼šå½“ç„¶æ˜¯ä¸ç¨³å®šçš„äº†ï¼Œæ¶‰åŠåˆ°çé¸¡å„¿äº¤æ¢ï¼ˆä¸ä¸´è¿‘ï¼‰çš„ï¼Œå°±è‚¯å®šä¸ç¨³å®šçš„å•¦ã€‚ tipsæ²¡å•¥æ³¨æ„ç‚¹ï¼Œå°±æ˜¯éå¸¸çš„åƒåœ¾ï¼Œä¸è¦ç”¨â€¦ å †æ’åºåŸºæœ¬æ€æƒ³è¿™ä¸ªç‰›é€¼å‹’ï¼Œæˆ‘ä¸ªäººæœ€æ¬£èµè¿™ä¸ªï¼Œå› ä¸ºjavaä¸­çš„PriorityQueueç”¨äº†å †æ’åºâ€¦åœ¨åškä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ç­‰é—®é¢˜æ—¶ï¼Œç”¨PriorityQueueç®€ç›´å°±æ˜¯ç¥å™¨å•Šâ€¦ å †æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå°†å¾…æ’åºåºåˆ—æ„é€ æˆä¸€ä¸ªå¤§é¡¶å †ï¼Œæ­¤æ—¶ï¼Œæ•´ä¸ªåºåˆ—çš„æœ€å¤§å€¼å°±æ˜¯å †é¡¶çš„æ ¹èŠ‚ç‚¹ã€‚å°†å…¶ä¸æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œæ­¤æ—¶æœ«å°¾å°±ä¸ºæœ€å¤§å€¼ã€‚ç„¶åå°†å‰©ä½™n-1ä¸ªå…ƒç´ é‡æ–°æ„é€ æˆä¸€ä¸ªå †ï¼Œè¿™æ ·ä¼šå¾—åˆ°nä¸ªå…ƒç´ çš„æ¬¡å°å€¼ã€‚å¦‚æ­¤åå¤æ‰§è¡Œï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—äº†ã€‚ ç®—æ³•æè¿° å°†æ— éœ€åºåˆ—æ„å»ºæˆä¸€ä¸ªå †ï¼Œæ ¹æ®å‡åºé™åºéœ€æ±‚é€‰æ‹©å¤§é¡¶å †æˆ–å°é¡¶å †; å°†å †é¡¶å…ƒç´ ä¸æœ«å°¾å…ƒç´ äº¤æ¢ï¼Œå°†æœ€å¤§å…ƒç´ â€æ²‰â€åˆ°æ•°ç»„æœ«ç«¯; é‡æ–°è°ƒæ•´ç»“æ„ï¼Œä½¿å…¶æ»¡è¶³å †å®šä¹‰ï¼Œç„¶åç»§ç»­äº¤æ¢å †é¡¶å…ƒç´ ä¸å½“å‰æœ«å°¾å…ƒç´ ï¼Œåå¤æ‰§è¡Œè°ƒæ•´+äº¤æ¢æ­¥éª¤ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475 /** * å †æ’åº * * @param sortArray * @param len æ³¨æ„è¿™é‡Œæ˜¯arr.lengthï¼Œè·Ÿä¹‹å‰ä¸ä¸€æ ·ï¼Œå †æ’åºæ˜¯ä»1å¼€å§‹çš„ */ public static void heapSort(int[] sortArray, int len) &#123; //å»ºç«‹å¤§æ ¹å † BuildMaxHeap(sortArray, len); //æ¯æ¬¡éƒ½å°†æ ¹å–å‡ºï¼Œç„¶åå°†æœ€åº•ä¸‹çš„æ”¾åˆ°æ ¹ï¼Œç„¶åè¿›è¡Œå †è°ƒæ•´ for (int i = len; i &gt; 0; i--) &#123; swap(sortArray, i, 0);// AdjustDown(sortArray,0,i-1); AdjustDown2(sortArray, 0, i - 1); &#125; System.out.println(Arrays.toString(sortArray)); &#125; /** * å…ˆå†™ä¸€ä¸ªé€’å½’çš„ï¼Œæ¯”è¾ƒå¥½ç†è§£ * * @param sortArray * @param i * @param len */ private static void AdjustDown(int[] sortArray, int i, int len) &#123; //æ³¨æ„è¿™é‡Œçš„lenæ˜¯length-1ï¼Œç„¶åæ ¹çš„åºå·æ˜¯1ï¼Œæ‰€ä»¥leftæ˜¯2i+1 int left = 2 * i + 1; int right = 2 * i + 2; int largest = i; if (left &lt;= len &amp;&amp; sortArray[left] &gt; sortArray[largest]) largest = left; if (right &lt;= len &amp;&amp; sortArray[right] &gt; sortArray[largest]) largest = right; if (largest != i) &#123; swap(sortArray, largest, i); AdjustDown(sortArray, largest, len); &#125; &#125; /** * å†™ä¸€ä¸ªéé€’å½’çš„å§ï¼Œæ³¨æ„å“ˆï¼Œè¿™é‡Œçš„lenæ˜¯length-1ï¼Œè·Ÿä¸Šé¢çš„ä¸€æ · * * @param sortArray * @param i * @param len */ private static void AdjustDown2(int[] sortArray, int i, int len) &#123; int t = i; for (int m = 2 * i + 1; m &lt;= len; m = t * 2 + 1) &#123; if (sortArray[m] &gt; sortArray[t]) t = m; if (m + 1 &lt;= len &amp;&amp; sortArray[m + 1] &gt; sortArray[t]) t = m + 1; if (t == i) break; else &#123; swap(sortArray, t, (m - 1) / 2); i = (m - 1) / 2; &#125; &#125; &#125; private static void BuildMaxHeap(int[] sortArray, int len) &#123; double lens = len; //æ³¨æ„æ˜¯ä»lens/2å¼€å§‹ for (int i = (int) Math.round((lens / 2)) - 1; i &gt;= 0; i--) &#123;// System.out.println(i);// AdjustDown(sortArray,i,len); AdjustDown2(sortArray, i, len); &#125; &#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡æ—¶é—´ã€æœ€åå’Œæœ€å¥½æƒ…å†µä¸‹éƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯O(nlogn) ã€‚ å»ºç«‹å †çš„è¿‡ç¨‹, ä»length/2 ä¸€ç›´å¤„ç†åˆ°0, æ—¶é—´å¤æ‚åº¦ä¸ºO(n); è°ƒæ•´å †çš„è¿‡ç¨‹æ˜¯æ²¿ç€å †çš„çˆ¶å­èŠ‚ç‚¹è¿›è¡Œè°ƒæ•´, æ‰§è¡Œæ¬¡æ•°ä¸ºå †çš„æ·±åº¦, æ—¶é—´å¤æ‚åº¦ä¸ºO(lgn); å †æ’åºçš„è¿‡ç¨‹ç”±næ¬¡ç¬¬â‘¡æ­¥å®Œæˆ, æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ ç¨³å®šæ€§ï¼šç”±äºå †æ’åºä¸­åˆå§‹åŒ–å †çš„è¿‡ç¨‹æ¯”è¾ƒæ¬¡æ•°è¾ƒå¤š, å› æ­¤å®ƒä¸å¤ªé€‚ç”¨äºå°åºåˆ—ã€‚åŒæ—¶ç”±äºå¤šæ¬¡ä»»æ„ä¸‹æ ‡ç›¸äº’äº¤æ¢ä½ç½®, ç›¸åŒå…ƒç´ ä¹‹é—´åŸæœ¬ç›¸å¯¹çš„é¡ºåºè¢«ç ´åäº†, å› æ­¤, å®ƒæ˜¯ä¸ç¨³å®šçš„æ’åºã€‚ tips å †æ’åºï¼Œä¸»è¦å°±æ˜¯æŠŠæ ¹æ‹¿å‡ºæ¥ï¼Œç„¶åå‰©ä¸‹çš„è°ƒæ•´æˆæœ€å¤§å †ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªæ‹¿å‡ºæ¥çš„æœ€å¤§çš„å°±åº”è¯¥æ”¾åˆ°æœ€å¥½ä¸€ä¸ªä½ç½®ï¼Œä¸€å…±å¾ªç¯ n-1 æ¬¡å³å¯ï¼› æ³¨æ„ä»£ç ä¸­çš„ len æ˜¯ length-1ã€‚ è¿˜æœ‰ä¸€ä¸ªå®¹æ˜“å‡ºé”™çš„åœ°æ–¹åœ¨å»ºç«‹å¤§æ ¹å †çš„æ—¶å€™ï¼Œi åº”è¯¥æ˜¯ä»æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹å¼€å§‹è°ƒæ•´ã€‚ å†™çš„éé€’å½’è¿˜æ˜¯ä¸å¤ªå¥½â€¦è™½ç„¶å¥½åƒèƒ½é€šè¿‡ï¼Œéé€’å½’ä¸­ä»£ç ä¸­çš„mæ˜¯æŒ‡èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå¦‚æœæœ‰äº¤æ¢ï¼Œåˆ‡å‹¿å¿˜è®°æ›´æ–°æ–°çš„çˆ¶äº²èŠ‚ç‚¹(i = (m-1)/2)ï¼Œç„¶åè¿›è¡Œä¸‹ä¸€æ­¥å’Œå­©å­èŠ‚ç‚¹çš„æ¯”è¾ƒã€‚ å½’å¹¶æ’åºåŸºæœ¬æ€æƒ³å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨ åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º 2-è·¯å½’å¹¶ã€‚ ç®—æ³•æè¿° æŠŠé•¿åº¦ä¸ºnçš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸ºn/2çš„å­åºåˆ—ï¼Œç„¶åå­åºåˆ—é¦–ç«¯å„ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆï¼Œäº’ç›¸æ¯”è¾ƒï¼› å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æ’åºï¼› å°†ä¸¤ä¸ªæ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æ’åºåºåˆ—ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647 /** * è‡ªå·±å†™ä¸€ä¸ª åº•å±‚æ˜¯æ•°ç»„ */ public static void mergeSort(int[] sortArray, int low, int high) &#123; int mid = (low + high) / 2; if (low &lt; high) &#123; //æ³¨æ„å’Œå¿«æ’åŒºåˆ†ä¸€ä¸‹ï¼Œè¿™é‡Œçš„midæ˜¯è¦åœ¨é€’å½’é‡Œé¢çš„ mergeSort(sortArray, low, mid); mergeSort(sortArray, mid + 1, high); //æ€è·¯å°±æ˜¯å…ˆä¸€åˆ†ä¸ºäºŒå†åˆäºŒä¸ºä¸€ merge(sortArray, low, mid, high); System.out.println(Arrays.toString(sortArray)); &#125; &#125; private static void merge(int[] sortArray, int low, int mid, int high) &#123; //ç‰ºç‰²äº†ç©ºé—´ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç©ºé—´æ¥å­˜å‚¨æ’å¥½åºçš„æ•°ç»„ int[] temp = new int[high - low + 1]; int i = low; int j = mid + 1; int k = 0; while (i &lt;= mid &amp;&amp; j &lt;= high) &#123; if (sortArray[i] &lt; sortArray[j]) &#123; temp[k++] = sortArray[i++]; &#125; else &#123; temp[k++] = sortArray[j++]; &#125; &#125; //éå¸¸ä¸¥é‡çš„é”™è¯¯ï¼Œifä¸­çš„j++åä¼šå½±å“ä¸‹ä¸€ä¸ªifï¼Œæ‰€ä»¥ä¼šè¶…å‡ºç´¢å¼•å€¼ã€‚æ•°ç»„è¶Šç•Œ// if(i &gt; mid)&#123;// temp[k++] = sortArray[j++];// &#125;// if(j &gt; high)&#123;// temp[k++] = sortArray[i++];// &#125; if (i &lt;= mid) &#123; temp[k++] = sortArray[i++]; &#125; if (j &lt;= high) &#123; temp[k++] = sortArray[j++]; &#125; for (int t = 0; t &lt; temp.length; t++) &#123; //è¿™é‡Œä¹Ÿæ˜¯æ˜“é”™ç‚¹ï¼Œæ³¨æ„sortArrayçš„ä¸‹æ ‡æ˜¯ä»lowå¼€å§‹çš„ sortArray[low + t] = temp[t]; &#125; &#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šå½’å¹¶æ’åºå¯ç®—æ˜¯æ’åºç®—æ³•ä¸­çš„â€ä½¼ä½¼è€…â€ã€‚å‡è®¾æ•°ç»„é•¿åº¦ä¸ºnï¼Œé‚£ä¹ˆæ‹†åˆ†æ•°ç»„å…±éœ€logn, åˆæ¯æ­¥éƒ½æ˜¯ä¸€ä¸ªæ™®é€šçš„åˆå¹¶å­æ•°ç»„çš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œ æ•…å…¶ç»¼åˆæ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚æ³¨æ„ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ã€æœ€å¥½æ—¶é—´å¤æ‚åº¦ã€æœ€åæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(nlogn)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šéœ€è¦ä¸€ä¸ªé¢å¤–çš„æ•°ç»„æ¥å­˜å‚¨æ’åºå¥½çš„æ•°ç»„ï¼Œæ‰€ä»¥æ˜¯O(N)ã€‚ ç¨³å®šæ€§ï¼šç¨³å®šã€‚ tips é¦–å…ˆæ³¨æ„é€’å½’éƒ¨åˆ†ï¼Œè·Ÿå¿«æ’æœ‰æ‰€åŒºåˆ«ï¼Œå¿«æ’æ˜¯æ’åºä¸€è½®ç»“æŸåæ‰èƒ½è¿”å›ä¸­é—´èŠ‚ç‚¹ï¼Œè€Œå½’å¹¶æ˜¯ç›´æ¥ç®—å‡ºä¸­é—´èŠ‚ç‚¹ï¼Œå¹¶ä¸”å½’å¹¶çš„midæ˜¯è¦å‚ä¸é€’å½’çš„ï¼Œè€Œå¿«æ’ä¸­çš„åŸºå‡†å€¼ä¸éœ€è¦å‚åŠ é€’å½’ã€‚ åˆå¹¶è¿‡ç¨‹ã€‚é¦–å…ˆæ˜¯è¦newä¸€ä¸ªæ–°çš„æ•°ç»„æ¥å­˜å‚¨æ’åºå¥½çš„æ•°ç»„ï¼Œä¸¤ä¸ªæŒ‡é’ˆè½®æµæ¯”è¾ƒï¼Œå¦‚æœåº•å±‚æ˜¯é“¾è¡¨ï¼Œä¸¤ä¸ªå¤´ç»“ç‚¹äº’ç›¸æ¯”è¾ƒï¼Œæœ€ååˆå¹¶ä¹‹åè¿”å›ä¸€ä¸ªå¤´ç»“ç‚¹å³å¯ã€‚ æ³¨æ„æœ€åå°†åˆå¹¶æ’åºå¥½çš„æ•°ç»„æ”¾å›åˆ°åŸæ•°ç»„æ—¶ï¼Œä¸‹æ ‡æ˜¯ä» low å¼€å§‹çš„ã€‚ è®¡æ•°æ’åºè®¡æ•°æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºå±äºéæ¯”è¾ƒæ’åºã€‚éæ¯”è¾ƒæ’åºæ˜¯é€šè¿‡ç¡®å®šæ¯ä¸ªå…ƒç´ ä¹‹å‰ï¼Œåº”è¯¥æœ‰å¤šå°‘ä¸ªå…ƒç´ æ¥æ’åºã€‚é’ˆå¯¹æ•°ç»„arrï¼Œè®¡ç®—arr[i]ä¹‹å‰æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œåˆ™å”¯ä¸€ç¡®å®šäº†arr[i]åœ¨æ’åºåæ•°ç»„ä¸­çš„ä½ç½®ã€‚ éæ¯”è¾ƒæ’åºåªè¦ç¡®å®šæ¯ä¸ªå…ƒç´ ä¹‹å‰çš„å·²æœ‰çš„å…ƒç´ ä¸ªæ•°å³å¯ï¼Œæ‰€æœ‰ä¸€æ¬¡éå†å³å¯è§£å†³ã€‚ç®—æ³•æ—¶é—´å¤æ‚åº¦O(n)ã€‚éæ¯”è¾ƒæ’åºæ—¶é—´å¤æ‚åº¦ä½ï¼Œä½†ç”±äºéæ¯”è¾ƒæ’åºéœ€è¦å ç”¨ç©ºé—´æ¥ç¡®å®šå”¯ä¸€ä½ç½®ã€‚æ‰€ä»¥å¯¹æ•°æ®è§„æ¨¡å’Œæ•°æ®åˆ†å¸ƒæœ‰ä¸€å®šçš„è¦æ±‚ã€‚ åŸºæœ¬æ€æƒ³è®¡æ•°æ’åºéœ€è¦å ç”¨å¤§é‡ç©ºé—´ï¼Œå®ƒä»…é€‚ç”¨äºæ•°æ®æ¯”è¾ƒé›†ä¸­çš„æƒ…å†µã€‚æ¯”å¦‚ [0~100]ï¼Œ[10000~19999] è¿™æ ·çš„æ•°æ®ã€‚ è®¡æ•°æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š å¯¹æ¯ä¸€ä¸ªè¾“å…¥çš„å…ƒç´ arr[i]ï¼Œç¡®å®šå°äº arr[i] çš„å…ƒç´ ä¸ªæ•°ã€‚æ‰€ä»¥å¯ä»¥æŠŠ arr[i] æ”¾åˆ°å®ƒè¾“å‡ºæ•°ç»„ä¸­çš„ä½ç½®ä¸Šã€‚ å‡è®¾æœ‰5ä¸ªæ•°å°äº arr[i]ï¼Œæ‰€ä»¥ arr[i] åº”è¯¥æ”¾åœ¨æ•°ç»„çš„ç¬¬6ä¸ªä½ç½®ä¸Šã€‚ å…¶æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚ ç®—æ³•æè¿° æ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ï¼› ç»Ÿè®¡æ•°ç»„ä¸­ arr[i] çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå°† arr[i] - min ä½œä¸ºè¾…åŠ©æ•°ç»„helperçš„ç´¢å¼•å€¼ï¼› å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼Œhelper ç´¢å¼•å€¼å¯¹åº”çš„å€¼å³ä¸ºè¯¥ arr[i] å‡ºç°çš„æ¬¡æ•°ï¼› åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°† helper ä¸­çš„å…ƒç´ æ ¹æ®ç´¢å¼•ä¾æ¬¡æ”¾å›åŸæ•°ç»„ï¼Œç´¢å¼•å¯¹åº”çš„æ•°å€¼å³ä¸ºè¯¥æ•°å‡ºç°çš„æ¬¡æ•°ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°† helper[arr[i]-min] å‡å»1ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°12345678910111213141516171819202122232425/** * è®¡æ•°æ’åº * è¦æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«æ˜¯åŸæ•°ç»„ï¼Œä¸­é—´æ•°ç»„ç”¨æ¥æ’åºçš„ * * @param sortArray */public static void courtSort(int[] sortArray) &#123; int max = Integer.MIN_VALUE; int min = Integer.MAX_VALUE; for (int i = 0; i &lt; sortArray.length; i++) &#123; max = Math.max(max, sortArray[i]); min = Math.min(min, sortArray[i]); &#125; int[] helparr = new int[max - min + 1]; for (int i = 0; i &lt; sortArray.length; i++) &#123; helparr[sortArray[i] - min]++; &#125; int index = 0; for (int i = 0; i &lt; helparr.length; i++) &#123; while (helparr[i]-- &gt; 0) &#123; sortArray[index++] = i + min; &#125; &#125; System.out.println(Arrays.toString(sortArray));&#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šå½“è¾“å…¥å…ƒç´ æ˜¯ n ä¸ª 0åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå¹³å‡æ—¶é—´ã€æœ€åå’Œæœ€å¥½æƒ…å†µä¸‹éƒ½ä¸€æ ·ï¼Œéƒ½æ˜¯O(n+k) ã€‚å…¶æ’åºé€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚å½“kä¸æ˜¯å¾ˆå¤§å¹¶ä¸”åºåˆ—æ¯”è¾ƒé›†ä¸­æ—¶ï¼Œè®¡æ•°æ’åºæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(n+k) ã€‚ ç¨³å®šæ€§ï¼šç¨³å®šã€‚ tips æ³¨æ„ï¼šä¸ºäº†èŠ‚çœç©ºé—´ï¼Œhelper å¿…é¡»æ˜¯ arr[i]-minä½œä¸ºç´¢å¼•å€¼ã€‚ åœ¨å°†æ’åºå¥½çš„æ•°ç»„æ”¾å›åŸæ•°ç»„æ—¶ï¼Œåˆ«å¿˜äº†æŠŠä¸­é—´æ•°ç»„ç´¢å¼•å¯¹åº”çš„å€¼å‡å»1ï¼Œå½“ä¸º0æ—¶è¯´æ˜è¯¥ç´¢å¼•ä»£è¡¨çš„å€¼ä¸å­˜åœ¨ã€‚ æ¡¶æ’åºåŸºæœ¬æ€æƒ³ æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ æ¡¶æ’åº (Bucket sort) çš„å·¥ä½œçš„åŸç†ï¼šå‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒï¼Œå°†æ•°æ®åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶é‡Œï¼Œæ¯ä¸ªæ¡¶å†åˆ†åˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’ï¼‰ã€‚ æ¡¶æ’åºå¯ç”¨äºæœ€å¤§æœ€å°å€¼ç›¸å·®è¾ƒå¤§çš„æ•°æ®æƒ…å†µï¼Œæ¯”å¦‚[9012,19702,39867,68957,83556,102456]ã€‚ä½†æ¡¶æ’åºè¦æ±‚æ•°æ®çš„åˆ†å¸ƒå¿…é¡»å‡åŒ€ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ•°æ®éƒ½é›†ä¸­åˆ°ä¸€ä¸ªæ¡¶ä¸­ã€‚æ¯”å¦‚[104,150,123,132,20000], è¿™ç§æ•°æ®ä¼šå¯¼è‡´å‰4ä¸ªæ•°éƒ½é›†ä¸­åˆ°åŒä¸€ä¸ªæ¡¶ä¸­ã€‚å¯¼è‡´æ¡¶æ’åºå¤±æ•ˆã€‚ æ¡¶æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šæŠŠæ•°ç»„ arr åˆ’åˆ†ä¸ºnä¸ªå¤§å°ç›¸åŒå­åŒºé—´ï¼ˆæ¡¶ï¼‰ï¼Œæ¯ä¸ªå­åŒºé—´å„è‡ªæ’åºï¼Œæœ€ååˆå¹¶ã€‚è®¡æ•°æ’åºæ˜¯æ¡¶æ’åºçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¯ä»¥æŠŠè®¡æ•°æ’åºå½“æˆæ¯ä¸ªæ¡¶é‡Œåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µã€‚ ç®—æ³•æè¿° æ‰¾å‡ºå¾…æ’åºæ•°ç»„ä¸­çš„æœ€å¤§å€¼ maxã€æœ€å°å€¼ minï¼› æˆ‘ä»¬ä½¿ç”¨ åŠ¨æ€æ•°ç»„ ArrayList ä½œä¸ºæ¡¶ï¼Œæ¡¶é‡Œæ”¾çš„å…ƒç´ ä¹Ÿç”¨ ArrayList å­˜å‚¨ã€‚æ¡¶çš„æ•°é‡ä¸º (max-min)/BucketSize+1ï¼› éå†æ•°ç»„ arrï¼Œè®¡ç®—æ¯ä¸ªå…ƒç´  arr[i] æ”¾çš„æ¡¶ï¼› æ¯ä¸ªæ¡¶å„è‡ªæ’åºï¼› éå†æ¡¶æ•°ç»„ï¼ŒæŠŠæ’åºå¥½çš„å…ƒç´ æ”¾è¿›è¾“å‡ºæ•°ç»„ã€‚ å›¾ç‰‡æ¼”ç¤º ä»£ç å®ç°1234567891011121314151617181920212223242526272829303132/** * æ¡¶æ’åº * * @param sortArray */public static void BucketSort(int[] sortArray) &#123; //1.è®¾ç½®å›ºå®šæ•°é‡çš„ç©ºæ¡¶ int max = Integer.MIN_VALUE; int BucketSize = 5; int min = Integer.MAX_VALUE; for (int i = 0; i &lt; sortArray.length; i++) &#123; max = Math.max(max, sortArray[i]); min = Math.min(min, sortArray[i]); &#125; int BucketCount = (max - min) / BucketSize + 1; //2.æŠŠæ•°æ®æ”¾åˆ°å¯¹åº”æ¡¶ä¸­ ArrayList&lt;ArrayList&lt;Integer&gt;&gt; buckets = new ArrayList&lt;&gt;(BucketCount); for (int i = 0; i &lt; BucketCount; i++) &#123; buckets.add(new ArrayList&lt;Integer&gt;()); &#125; for (int i = 0; i &lt; sortArray.length; i++) &#123; int num = (sortArray[i] - min) / BucketSize; buckets.get(num).add(sortArray[i]); &#125; //3.æ’åº for (int i = 0; i &lt; buckets.size(); i++) &#123; //ç›´æ¥ç”¨çš„æ˜¯é›†åˆè‡ªå¸¦çš„æ’åºï¼Œå¯ä»¥é€‰æ‹©æ’å…¥æˆ–è€…é€’å½’ä½¿ç”¨æ¡¶æ’åº Collections.sort(buckets.get(i)); &#125; System.out.println(buckets.toString()); &#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šæ¡¶æ’åºæœ€å¥½æƒ…å†µä¸‹ä½¿ç”¨çº¿æ€§æ—¶é—´ O(n)ï¼Œæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå–å†³ä¸å¯¹å„ä¸ªæ¡¶ä¸­æ•°æ®è¿›è¡Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå…¶å®ƒéƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(n)ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ¡¶çš„èŒƒå›´åˆ’åˆ†çš„è¶Šå°ï¼Œæ¡¶è¶Šå¤šï¼Œå„ä¸ªæ¡¶ä¹‹é—´çš„æ•°æ®è¶Šå°‘ï¼Œæ’åºæ‰€ç”¨çš„æ—¶é—´ä¹Ÿä¼šè¶Šå°‘ã€‚æ‰€ä»¥æœ€å·®çš„æ—¶é—´å¤æ‚åº¦ä¸º O(nÂ²)ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n+k)ï¼Œæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(n+k) ã€‚ ç¨³å®šæ€§ï¼šç¨³å®šã€‚ tips æ¡¶æœ€å¥½æ˜¯ç”¨ArrayListï¼Œé‡Œé¢çš„æ•°æ®æœ€å¥½ä¹Ÿæ˜¯ArrayListè£…è½½ï¼Œå› ä¸ºè¿™æ ·æ–¹ä¾¿åŠ¨æ€çš„æ·»åŠ æ•°æ®åˆ°æ¡¶ä¸­ã€‚ æ¡¶å†…æ’åºå¯ä»¥éšä¾¿é€‰æ‹©ä¸€ç§æ’åºç®—æ³•ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯javaé›†æˆå¥½çš„é›†åˆæ’åºçš„æ–¹æ³•ã€‚ åŸºæ•°æ’åºåŸºæœ¬æ€æƒ³åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰æ˜¯æŒ‰ç…§ä½ä½å…ˆæ’åºï¼Œç„¶åæ”¶é›†ï¼›å†æŒ‰ç…§é«˜ä½æ’åºï¼Œç„¶åå†æ”¶é›†ï¼›ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æœ€é«˜ä½ã€‚æœ‰æ—¶å€™æœ‰äº›å±æ€§æ˜¯æœ‰ä¼˜å…ˆçº§é¡ºåºçš„ï¼Œå…ˆæŒ‰ä½ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰é«˜ä¼˜å…ˆçº§æ’åºã€‚æœ€åçš„æ¬¡åºå°±æ˜¯é«˜ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ï¼Œé«˜ä¼˜å…ˆçº§ç›¸åŒçš„ä½ä¼˜å…ˆçº§é«˜çš„åœ¨å‰ã€‚ ç®—æ³•æè¿° å–å¾—æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶å–å¾—ä½æ•°ï¼› arr ä¸ºåŸå§‹æ•°ç»„ï¼Œä»æœ€ä½ä½å¼€å§‹å–æ¯ä¸ªä½ç»„æˆ radix æ•°ç»„ï¼› å¯¹ radix è¿›è¡Œè®¡æ•°æ’åºï¼ˆåˆ©ç”¨è®¡æ•°æ’åºé€‚ç”¨äºå°èŒƒå›´æ•°çš„ç‰¹ç‚¹ï¼‰ï¼› åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233343536373839/** åŸºæ•°æ’åº * å¯ä»¥é‡‡ç”¨æ¡¶çš„æ€æƒ³ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨é˜Ÿåˆ—çš„æ€æƒ³ * * @param array */ public static void radixSort(int[] array) &#123; if (array == null || array.length &lt; 2) return; // 1.å…ˆç®—å‡ºæœ€å¤§æ•°çš„ä½æ•°ï¼› int max = array[0]; for (int i = 1; i &lt; array.length; i++) &#123; max = Math.max(max, array[i]); &#125; int maxDigit = 0; while (max != 0) &#123; max /= 10; maxDigit++; &#125; int mod = 10, div = 1; //æ¡¶å¯ä»¥ç”¨äºŒç»´æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ArrayListå®ç°ï¼Œæ¨èåˆ—è¡¨ï¼Œå› ä¸ºæ˜¯åŠ¨æ€çš„ ArrayList&lt;ArrayList&lt;Integer&gt;&gt; bucketList = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); for (int i = 0; i &lt; 10; i++) &#123; bucketList.add(new ArrayList&lt;Integer&gt;()); &#125; for (int i = 0; i &lt; maxDigit; i++, mod *= 10, div *= 10) &#123; for (int j = 0; j &lt; array.length; j++) &#123; int num = (array[j] % mod) / div; bucketList.get(num).add(array[j]); &#125; int index = 0; for (int j = 0; j &lt; bucketList.size(); j++) &#123; for (int k = 0; k &lt; bucketList.get(j).size(); k++) &#123; array[index++] = bucketList.get(j).get(k); &#125; bucketList.get(j).clear(); &#125; &#125; System.out.println(Arrays.toString(array)); &#125; ç®—æ³•æ•ˆç‡ æ—¶é—´å¤æ‚åº¦ï¼šåŸºæ•°æ’åºåŸºäºåˆ†åˆ«æ’åºï¼Œåˆ†åˆ«æ”¶é›†ï¼Œæ‰€ä»¥æ˜¯ç¨³å®šçš„ã€‚ä½†åŸºæ•°æ’åºçš„æ€§èƒ½æ¯”æ¡¶æ’åºè¦ç•¥å·®ï¼Œæ¯ä¸€æ¬¡å…³é”®å­—çš„æ¡¶åˆ†é…éƒ½éœ€è¦ O(n)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”åˆ†é…ä¹‹åå¾—åˆ°æ–°çš„å…³é”®å­—åºåˆ—åˆéœ€è¦ O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚å‡å¦‚å¾…æ’æ•°æ®å¯ä»¥åˆ†ä¸º dä¸ªå…³é”®å­—ï¼Œåˆ™åŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦å°†æ˜¯ O(d*2n) ï¼Œå½“ç„¶ d è¦è¿œè¿œå°äº nï¼Œå› æ­¤åŸºæœ¬ä¸Šè¿˜æ˜¯çº¿æ€§çº§åˆ«çš„ã€‚æœ€å¥½ã€æœ€å·®ã€å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n*k)çº§åˆ«çš„ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(n+k)ï¼Œå…¶ä¸­kä¸ºæ¡¶çš„æ•°é‡ã€‚ä¸€èˆ¬æ¥è¯´ n&gt;&gt;kï¼Œå› æ­¤é¢å¤–ç©ºé—´éœ€è¦å¤§æ¦‚ n ä¸ªå·¦å³ã€‚ ç¨³å®šæ€§ï¼šç¨³å®šã€‚ tips æ³¨æ„æ¯ä¸ªæ¡¶å†…æ•°æ®æ’åºå¥½ç„¶åè¿”å›ç»™åŸæ•°ç»„åï¼Œè®°å¾—clearï¼› ç‚¹ç›ä¹‹ç¬”æ˜¯ å°†åŸºæ•°æ’åºè½¬æ¢ä¸ºè®¡æ•°æ’åºï¼Œåˆ†åˆ«å¯¹å…¶ä¸ªä½ã€åä½â€¦è¿›è¡Œè®¡æ•°æ’åºã€‚ å‚è€ƒæ–‡çŒ® åå¤§ç»å…¸æ’åºç®—æ³• åå¤§ç»å…¸æ’åºç®—æ³•ä¹‹JAVAå®ç° è®¡æ•°æ’åºå’Œæ¡¶æ’åºä¹‹JAVAå®ç° åå¤§ç»å…¸æ’åºç®—æ³•åŠ¨ç”»ä¸è§£æï¼Œçœ‹æˆ‘å°±å¤Ÿäº†ï¼ï¼ˆé…ä»£ç å®Œå…¨ç‰ˆï¼‰ é¢è¯•å¿…å¤‡ï¼šå…«ç§æ’åºç®—æ³•åŸç†åŠJavaå®ç°]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[darkmode for mac]]></title>
    <url>%2F2019%2F10%2F24%2Fdarkmode%E6%95%99%E7%A8%8B.html</url>
    <content type="text"><![CDATA[Macç«¯darkmodeè®¾ç½®Macç«¯å¤–è§‚å…·ä½“æ“ä½œæ–¹å¼ æ‰“å¼€ ç³»ç»Ÿåå¥½è®¾ç½® ç‚¹å‡» é€šç”¨ ä¿®æ”¹ å¤–è§‚ ä¿®æ”¹å®Œä¹‹åï¼Œéƒ¨åˆ†è½¯ä»¶ä¼šè‡ªåŠ¨é€‚é…ç³»ç»Ÿçš„ç¯å¢ƒè‰²ï¼Œä¾‹å¦‚chromeï¼Œç½‘æ˜“äº‘ç­‰ç­‰ã€‚ ä¿®æ”¹chromeç½‘é¡µé¢œè‰²åœ¨è°·æ­Œæ’ä»¶å•†åº—ä¸­æŸ¥æ‰¾ä¸€æ¬¾Dark Readerçš„æ’ä»¶ï¼Œå¯ä»¥å®Œç¾é…åˆæš—é»‘æ¨¡å¼çš„ä½¿ç”¨ è‡ªåŠ¨åˆ‡æ¢ç™½å¤©é»‘å¤œçš„æ¨¡å¼ä¸‹è½½ä¸€æ¬¾å«åšDarkNightçš„è½¯ä»¶ï¼Œå¯ä»¥æ ¹æ®å½“åœ°çš„æ—¥è½æ—¥å‡ºæ—¶é—´è‡ªåŠ¨åˆ‡æ¢å±ä¿ï¼Œé…åˆæš—é»‘æ¨¡å¼çš„ä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaå®ç°å•é“¾è¡¨]]></title>
    <url>%2F2019%2F10%2F16%2Fjava%E5%AE%9E%E7%8E%B0%E5%8D%95%E9%93%BE%E8%A1%A8.html</url>
    <content type="text"><![CDATA[Javaå®ç°å•å‘é“¾è¡¨åŸºæœ¬åŠŸèƒ½å…ˆè¯´ä¸€ä¸‹ï¼Œå‚è€ƒå€Ÿé‰´çš„åšå®¢æœ‰ï¼š Javaå®ç°å•å‘é“¾è¡¨åŸºæœ¬åŠŸèƒ½ Javaå•é“¾è¡¨åè½¬ è¯¦ç»†è¿‡ç¨‹ ä»é“¾è¡¨ä¸­åˆ é™¤é‡å¤æ•°æ®ï¼ˆä¸‰ç§æ–¹æ³•) è¡¥å……å†™çš„æ²¡äººå®¶å¥½ï¼Œè¿™éƒ¨åˆ†ä¸»è¦æ˜¯å¯¹ç¬¬ä¸€ä¸ªåšå®¢çš„è¡¥å……ï¼Œå…¶å•å‘é“¾è¡¨ä¸­çš„é“¾è¡¨åè½¬å’Œä»é“¾è¡¨ä¸­åˆ é™¤é‡å¤æ•°æ®è§£é‡Šçš„ä¸å¤Ÿæ¸…æ™°ï¼Œåé¢ä¸¤ä¸ªåšå®¢æ˜¯æ‰©å±•è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹çš„ï¼Œåœ¨çœ‹è¿™ä¸ªçŸ¥è¯†ç‚¹çš„åŒæ—¶ï¼Œå‘ç°ç”¨åˆ°äº†éƒ¨åˆ†HashTableçš„çŸ¥è¯†ï¼Œè¿‡æ®µæ—¶é—´éœ€è¦æŠŠè¿™ä¸ªçŸ¥è¯†ç‚¹ä¹Ÿå®Œå–„ä¸€ä¸‹ã€‚]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[transientå…³é”®å­—]]></title>
    <url>%2F2019%2F10%2F12%2Ftransient%E5%85%B3%E9%94%AE%E5%AD%97.html</url>
    <content type="text"><![CDATA[transientå…³é”®å­—ä½œç”¨(è½¬è½½)ä½œç”¨åŠä½¿ç”¨æ–¹æ³•â€‹ æˆ‘ä»¬éƒ½çŸ¥é“ä¸€ä¸ªå¯¹è±¡åªè¦å®ç°äº†Serilizableæ¥å£ï¼Œè¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¢«åºåˆ—åŒ–ï¼Œjavaçš„è¿™ç§åºåˆ—åŒ–æ¨¡å¼ä¸ºå¼€å‘è€…æä¾›äº†å¾ˆå¤šä¾¿åˆ©ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¿…å…³ç³»å…·ä½“åºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œåªè¦è¿™ä¸ªç±»å®ç°äº†Serilizableæ¥å£ï¼Œè¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½ä¼šè‡ªåŠ¨åºåˆ—åŒ–ã€‚ â€‹ ç„¶è€Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œè¿™ä¸ªç±»çš„æœ‰äº›å±æ€§éœ€è¦åºåˆ—åŒ–ï¼Œè€Œå…¶ä»–å±æ€§ä¸éœ€è¦è¢«åºåˆ—åŒ–ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·æœ‰ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ï¼Œé“¶è¡Œå¡å·ç­‰ï¼‰ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œä¸å¸Œæœ›åœ¨ç½‘ç»œæ“ä½œï¼ˆä¸»è¦æ¶‰åŠåˆ°åºåˆ—åŒ–æ“ä½œï¼Œæœ¬åœ°åºåˆ—åŒ–ç¼“å­˜ä¹Ÿé€‚ç”¨ï¼‰ä¸­è¢«ä¼ è¾“ï¼Œè¿™äº›ä¿¡æ¯å¯¹åº”çš„å˜é‡å°±å¯ä»¥åŠ ä¸Štransientå…³é”®å­—ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªå­—æ®µçš„ç”Ÿå‘½å‘¨æœŸä»…å­˜äºè°ƒç”¨è€…çš„å†…å­˜ä¸­è€Œä¸ä¼šå†™åˆ°ç£ç›˜é‡ŒæŒä¹…åŒ–ã€‚ â€‹ æ€»ä¹‹ï¼Œjava çš„transientå…³é”®å­—ä¸ºæˆ‘ä»¬æä¾›äº†ä¾¿åˆ©ï¼Œä½ åªéœ€è¦å®ç°Serilizableæ¥å£ï¼Œå°†ä¸éœ€è¦åºåˆ—åŒ–çš„å±æ€§å‰æ·»åŠ å…³é”®å­—transientï¼Œåºåˆ—åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªå±æ€§å°±ä¸ä¼šåºåˆ—åŒ–åˆ°æŒ‡å®šçš„ç›®çš„åœ°ä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.Serializable;/** * @description ä½¿ç”¨transientå…³é”®å­—ä¸åºåˆ—åŒ–æŸä¸ªå˜é‡ * æ³¨æ„è¯»å–çš„æ—¶å€™ï¼Œè¯»å–æ•°æ®çš„é¡ºåºä¸€å®šè¦å’Œå­˜æ”¾æ•°æ®çš„é¡ºåºä¿æŒä¸€è‡´ * * @author Alexia * @date 2013-10-15 */public class TransientTest &#123; public static void main(String[] args) &#123; User user = new User(); user.setUsername("Alexia"); user.setPasswd("123456"); System.out.println("read before Serializable: "); System.out.println("username: " + user.getUsername()); System.err.println("password: " + user.getPasswd()); try &#123; ObjectOutputStream os = new ObjectOutputStream( new FileOutputStream("C:/user.txt")); os.writeObject(user); // å°†Userå¯¹è±¡å†™è¿›æ–‡ä»¶ os.flush(); os.close(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; try &#123; ObjectInputStream is = new ObjectInputStream(new FileInputStream( "C:/user.txt")); user = (User) is.readObject(); // ä»æµä¸­è¯»å–Userçš„æ•°æ® is.close(); System.out.println("\nread after Serializable: "); System.out.println("username: " + user.getUsername()); System.err.println("password: " + user.getPasswd()); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; &#125;&#125;class User implements Serializable &#123; private static final long serialVersionUID = 8294180014912103005L; private String username; private transient String passwd; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPasswd() &#123; return passwd; &#125; public void setPasswd(String passwd) &#123; this.passwd = passwd; &#125;&#125; 1234567read before Serializable: username: Alexiapassword: 123456read after Serializable: username: Alexiapassword: null å¯†ç å­—æ®µä¸ºnullï¼Œè¯´æ˜ååºåˆ—åŒ–æ—¶æ ¹æœ¬æ²¡æœ‰ä»æ–‡ä»¶ä¸­è·å–åˆ°ä¿¡æ¯ã€‚ transientä½¿ç”¨å°ç»“ ä¸€æ—¦å˜é‡è¢«transientä¿®é¥°ï¼Œå˜é‡å°†ä¸å†æ˜¯å¯¹è±¡æŒä¹…åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥å˜é‡å†…å®¹åœ¨åºåˆ—åŒ–åæ— æ³•è·å¾—è®¿é—®ã€‚ transientå…³é”®å­—åªèƒ½ä¿®é¥°å˜é‡ï¼Œè€Œä¸èƒ½ä¿®é¥°æ–¹æ³•å’Œç±»ã€‚æ³¨æ„ï¼Œæœ¬åœ°å˜é‡æ˜¯ä¸èƒ½è¢«transientå…³é”®å­—ä¿®é¥°çš„ã€‚å˜é‡å¦‚æœæ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å˜é‡ï¼Œåˆ™è¯¥ç±»éœ€è¦å®ç°Serializableæ¥å£ã€‚ è¢«transientå…³é”®å­—ä¿®é¥°çš„å˜é‡ä¸å†èƒ½è¢«åºåˆ—åŒ–ï¼Œä¸€ä¸ªé™æ€å˜é‡ä¸ç®¡æ˜¯å¦è¢«transientä¿®é¥°ï¼Œå‡ä¸èƒ½è¢«åºåˆ—åŒ–ã€‚ ç¬¬ä¸‰ç‚¹å¯èƒ½æœ‰äº›äººå¾ˆè¿·æƒ‘ï¼Œå› ä¸ºå‘ç°åœ¨Userç±»ä¸­çš„usernameå­—æ®µå‰åŠ ä¸Šstaticå…³é”®å­—åï¼Œç¨‹åºè¿è¡Œç»“æœä¾ç„¶ä¸å˜ï¼Œå³staticç±»å‹çš„usernameä¹Ÿè¯»å‡ºæ¥ä¸ºâ€œAlexiaâ€äº†ï¼Œè¿™ä¸ä¸ç¬¬ä¸‰ç‚¹è¯´çš„çŸ›ç›¾å—ï¼Ÿå®é™…ä¸Šæ˜¯è¿™æ ·çš„ï¼šç¬¬ä¸‰ç‚¹ç¡®å®æ²¡é”™ï¼ˆä¸€ä¸ªé™æ€å˜é‡ä¸ç®¡æ˜¯å¦è¢«transientä¿®é¥°ï¼Œå‡ä¸èƒ½è¢«åºåˆ—åŒ–ï¼‰ï¼Œååºåˆ—åŒ–åç±»ä¸­staticå‹å˜é‡usernameçš„å€¼ä¸ºå½“å‰JVMä¸­å¯¹åº”staticå˜é‡çš„å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯JVMä¸­çš„ä¸æ˜¯ååºåˆ—åŒ–å¾—å‡ºçš„ï¼Œä¸ç›¸ä¿¡ï¼Ÿå¥½å§ï¼Œä¸‹é¢æˆ‘æ¥è¯æ˜ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.Serializable;/** * @description ä½¿ç”¨transientå…³é”®å­—ä¸åºåˆ—åŒ–æŸä¸ªå˜é‡ * æ³¨æ„è¯»å–çš„æ—¶å€™ï¼Œè¯»å–æ•°æ®çš„é¡ºåºä¸€å®šè¦å’Œå­˜æ”¾æ•°æ®çš„é¡ºåºä¿æŒä¸€è‡´ * * @author Alexia * @date 2013-10-15 */public class TransientTest &#123; public static void main(String[] args) &#123; User user = new User(); user.setUsername("Alexia"); user.setPasswd("123456"); System.out.println("read before Serializable: "); System.out.println("username: " + user.getUsername()); System.err.println("password: " + user.getPasswd()); try &#123; ObjectOutputStream os = new ObjectOutputStream( new FileOutputStream("C:/user.txt")); os.writeObject(user); // å°†Userå¯¹è±¡å†™è¿›æ–‡ä»¶ os.flush(); os.close(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; try &#123; // åœ¨ååºåˆ—åŒ–ä¹‹å‰æ”¹å˜usernameçš„å€¼ User.username = "jmwang"; ObjectInputStream is = new ObjectInputStream(new FileInputStream( "C:/user.txt")); user = (User) is.readObject(); // ä»æµä¸­è¯»å–Userçš„æ•°æ® is.close(); System.out.println("\nread after Serializable: "); System.out.println("username: " + user.getUsername()); System.err.println("password: " + user.getPasswd()); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; &#125;&#125;class User implements Serializable &#123; private static final long serialVersionUID = 8294180014912103005L; public static String username; private transient String passwd; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPasswd() &#123; return passwd; &#125; public void setPasswd(String passwd) &#123; this.passwd = passwd; &#125;&#125; 1234567read before Serializable: username: Alexiapassword: 123456read after Serializable: username: jmwangpassword: null è¿™è¯´æ˜ååºåˆ—åŒ–åç±»ä¸­staticå‹å˜é‡usernameçš„å€¼ä¸ºå½“å‰JVMä¸­å¯¹åº”staticå˜é‡çš„å€¼ï¼Œä¸ºä¿®æ”¹åjmwangï¼Œè€Œä¸æ˜¯åºåˆ—åŒ–æ—¶çš„å€¼Alexiaã€‚ 3. transientä½¿ç”¨ç»†èŠ‚â€”â€”è¢«transientå…³é”®å­—ä¿®é¥°çš„å˜é‡çœŸçš„ä¸èƒ½è¢«åºåˆ—åŒ–å—ï¼Ÿ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import java.io.Externalizable;import java.io.File;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.io.ObjectInput;import java.io.ObjectInputStream;import java.io.ObjectOutput;import java.io.ObjectOutputStream;/** * @descripiton Externalizableæ¥å£çš„ä½¿ç”¨ * * @author Alexia * @date 2013-10-15 * */public class ExternalizableTest implements Externalizable &#123; private transient String content = "æ˜¯çš„ï¼Œæˆ‘å°†ä¼šè¢«åºåˆ—åŒ–ï¼Œä¸ç®¡æˆ‘æ˜¯å¦è¢«transientå…³é”®å­—ä¿®é¥°"; @Override public void writeExternal(ObjectOutput out) throws IOException &#123; out.writeObject(content); &#125; @Override public void readExternal(ObjectInput in) throws IOException, ClassNotFoundException &#123; content = (String) in.readObject(); &#125; public static void main(String[] args) throws Exception &#123; ExternalizableTest et = new ExternalizableTest(); ObjectOutput out = new ObjectOutputStream(new FileOutputStream( new File("test"))); out.writeObject(et); ObjectInput in = new ObjectInputStream(new FileInputStream(new File( "test"))); et = (ExternalizableTest) in.readObject(); System.out.println(et.content); out.close(); in.close(); &#125;&#125; contentå˜é‡ä¼šè¢«åºåˆ—åŒ–å—ï¼Ÿ å¥½å§ï¼Œæˆ‘æŠŠç­”æ¡ˆéƒ½è¾“å‡ºæ¥äº†ï¼Œæ˜¯çš„ï¼Œè¿è¡Œç»“æœå°±æ˜¯ï¼šæ˜¯çš„ï¼Œæˆ‘å°†ä¼šè¢«åºåˆ—åŒ–ï¼Œä¸ç®¡æˆ‘æ˜¯å¦è¢«transientå…³é”®å­—ä¿®é¥° è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œä¸æ˜¯è¯´ç±»çš„å˜é‡è¢«transientå…³é”®å­—ä¿®é¥°ä»¥åå°†ä¸èƒ½åºåˆ—åŒ–äº†å—ï¼Ÿ â€‹ æˆ‘ä»¬çŸ¥é“åœ¨Javaä¸­ï¼Œå¯¹è±¡çš„åºåˆ—åŒ–å¯ä»¥é€šè¿‡å®ç°ä¸¤ç§æ¥å£æ¥å®ç°ï¼Œè‹¥å®ç°çš„æ˜¯Serializableæ¥å£ï¼Œåˆ™æ‰€æœ‰çš„åºåˆ—åŒ–å°†ä¼šè‡ªåŠ¨è¿›è¡Œï¼Œè‹¥å®ç°çš„æ˜¯Externalizableæ¥å£ï¼Œåˆ™æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥è‡ªåŠ¨åºåˆ—åŒ–ï¼Œéœ€è¦åœ¨writeExternalæ–¹æ³•ä¸­è¿›è¡Œæ‰‹å·¥æŒ‡å®šæ‰€è¦åºåˆ—åŒ–çš„å˜é‡ï¼Œè¿™ä¸æ˜¯å¦è¢«transientä¿®é¥°æ— å…³ã€‚å› æ­¤ç¬¬äºŒä¸ªä¾‹å­è¾“å‡ºçš„æ˜¯å˜é‡contentåˆå§‹åŒ–çš„å†…å®¹ï¼Œè€Œä¸æ˜¯nullã€‚ è½¬è½½äºï¼šJava transientå…³é”®å­—ä½¿ç”¨å°è®°]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>transient</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Leetcodeå­¦ä¹ ]]></title>
    <url>%2F2019%2F10%2F12%2Fleetcode%E7%AE%97%E6%B3%95%E9%A2%98.html</url>
    <content type="text"><![CDATA[ç¬¬1é¢˜ï¼šä¸¤æ•°ä¹‹å’Œé¢˜ç›®ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å› [0, 1] æˆ‘çš„æ€è·¯ å…ˆæ’åº æ’é™¤æ¯”targetå¤§çš„æ•° ä»æœ€é è¿‘targetçš„æ•°å¼€å§‹éå† è®°å½•æ‰¾åˆ°çš„æ•°çš„ä¸‹æ ‡è¾“å‡ºå³å¯ æˆ‘çš„ä»£ç ï¼ˆæœªACï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import java.util.Arrays;public class twoNumbersSum &#123; public int[] twoSum(int[] nums, int target) &#123; //å…ˆæ’åº int[] nums_copy = Arrays.copyOf(nums,nums.length); Arrays.sort(nums_copy); int i; //æ’é™¤æ¯”targetå¤§çš„æ•° //ä»æœ€é è¿‘targetçš„æ•°å¼€å§‹éå† //è®°å½•æ‰¾åˆ°çš„æ•°çš„ä¸‹æ ‡ï¼Œè¾“å‡ºå³å¯ int t; int k; for(i = nums_copy.length-1; i &gt; 0 ;i--)&#123; if(nums_copy[i] &lt;= target)&#123; if(Arrays.binarySearch(nums_copy,0,i,target-nums_copy[i]) &gt;= 0)&#123; if(nums_copy[i] * 2 == target) &#123; int[] twobro = new int[2]; int d=0; for(int h=0;h&lt;nums.length;h++)&#123; if(nums[h] == nums_copy[i])&#123; twobro[d] = h; d++; &#125; &#125; return twobro; &#125; else&#123; for(int m=0;m &lt; nums.length;m++)&#123; if(nums[m] == nums_copy[i])&#123; t = m; &#125; if(nums[m] == (target-nums_copy[i]))&#123; k = m; &#125; &#125; k = Arrays.binarySearch(nums,target-nums_copy[i]); t = Arrays.binarySearch(nums,nums_copy[i]); &#125; return new int[]&#123;k,t&#125;; &#125; &#125; &#125; return null; &#125; public static void main(String[] args) &#123; twoNumbersSum tws = new twoNumbersSum(); int[] receive = new int[20]; receive = tws.twoSum(new int[]&#123;0,4,3,0&#125;,0); if(receive == null) &#123; System.out.println("ä¸å­˜åœ¨"); &#125; else&#123; System.out.println(receive[0] + "\n" + receive[1]); &#125; &#125;&#125; æ­£ç¡®æ€è·¯åˆ©ç”¨ HashMap è®°å½•æ•°ç»„å…ƒç´ å€¼å’Œå¯¹åº”çš„ä¸‹æ ‡ï¼Œå¯¹äºä¸€ä¸ªæ•° nums[i]ï¼Œåˆ¤æ–­ target - nums[i] æ˜¯å¦å­˜åœ¨ HashMap ä¸­ï¼Œå­˜åœ¨çš„è¯ï¼Œè¿”å›ä¸¤ä¸ªä¸‹æ ‡ç»„æˆçš„æ•°ç»„ã€‚æ³¨æ„ï¼Œå·²å­˜åœ¨çš„å…ƒç´ ä¸‹æ ‡åœ¨å‰ï¼Œå½“å‰å…ƒç´ ä¸‹æ ‡åœ¨åã€‚ æ­£ç¡®ä»£ç 123456789101112class Solution &#123; public int[] twoSum(int[] nums, int target) &#123; Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;(); for (int i = 0; i &lt; nums.length; ++i) &#123; if (map.containsKey(target - nums[i])) &#123; return new int[] &#123;map.get(target - nums[i]), i&#125;; &#125; map.put(nums[i], i); &#125; return null; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹æ•°ç»„å†…å®¹ ä¸€ç»´å’ŒäºŒç»´æ•°ç»„ä¸€ç»´æ•°ç»„ï¼šint[] a = new int[4];äºŒç»´æ•°ç»„ï¼š 1234//ç¬¬ä¸€è¡Œ4ä¸ªå…ƒç´ ï¼Œç¬¬äºŒè¡Œ5ä¸ªå…ƒç´ int[][] a = new int[2][];a[0] = new int[4];a[1] = new int[5]; Arraysç±»java.util.Arraysç±»èƒ½å¤Ÿæ–¹ä¾¿çš„æ“ä½œæ•°ç»„ï¼Œæä¾›çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼š 12345678910import java.util.Arrays;public int[] twoSum(int[] nums, int target) &#123; int[] nums_copy = Arrays.copyOf(nums,nums.length); Arrays.fill(nums,2); Integer index = Arrays.binarySearch(nums,target); Arrays.equals(nums,nums_copy); Arrays.sort(nums); return new int[]&#123;0,0,0&#125;;&#125; æ€»å…±5ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯copyOf,fill,binarySearch,equals,sortã€‚ç¬¬ä¸€ä¸ªç”¨æ¥å¤åˆ¶åŸå§‹æ•°ç»„ï¼Œæ–¹ä¾¿åç»­æ’åºçš„æ“ä½œï¼Œfillæ˜¯ç”¨æ¥åˆå§‹åŒ–æ•°ç»„æ¯”è¾ƒæ–¹ä¾¿ï¼Œå¯ä»¥å°†æ‰€æœ‰æ•°ç»„ä¸­çš„å€¼å…¨éƒ¨åˆå§‹åŒ–ä¸ºåŒä¸€ä¸ªå€¼ï¼ŒbinarySearchæ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›çš„æ˜¯è¯¥æ•°çš„ç´¢å¼•å€¼ï¼Œsortæ˜¯ç”¨æ¥æ’åºçš„ã€‚ binarySearch()è‡ªå·±å†™ä»£ç çš„æ—¶å€™ç”¨åˆ°äº†è¿™ä¸ªæ–¹æ³•ï¼Œé¦–å…ˆè¯¥æ–¹æ³•éœ€è¦æ•°ç»„æ’å¥½åºæ‰èƒ½è°ƒç”¨ï¼Œå…¶æ¬¡å¾ˆç‰¹åˆ«çš„æ˜¯ï¼Œå¦‚æœè¦æ‰¾çš„å€¼åœ¨æ•°ç»„ä¸­ï¼Œåˆ™ä¼šè¿”å›æœç´¢é”®çš„ç´¢å¼•ï¼Œä½†æ˜¯ï¼Œæ³¨æ„ï¼šå€¼ä¸å­˜åœ¨äºæ•°ç»„çš„è¯ä¼šè¿”å›-1æˆ–è€…æ˜¯ç›®æ ‡å€¼éœ€è¦æ’å…¥çš„ä½ç½®ï¼Œä»1å¼€å§‹æ•°èµ·ï¼Œä¸æ˜¯0å“¦ï¼ï¼ï¼è¿™ä¸ªå†™çš„è´¼å¥½å“ˆå“ˆå“ˆå“ˆï¼šæ•°ç»„æŸ¥è¯¢Arraysç±»çš„binarySearch()æ–¹æ³•è¯¦è§£ map.containsKeyå’Œmap.get()åŒºåˆ«hashmapåˆ¤æ–­æ˜¯å¦å­˜åœ¨keyæ—¶ï¼Œä½¿ç”¨get(key)==nullåˆ¤æ–­è¿˜æ˜¯containsKeyï¼Ÿkeyå€¼å¯èƒ½ä¸ºnullï¼Œè‹¥æ­¤æ—¶Mapé›†åˆå€¼å¯¹è±¡ä¸ºnullï¼Œå¹¶ä¸”æ²¡æœ‰ä¸ªæ•°é™åˆ¶ï¼Œæ‰€ä»¥å½“get()æ–¹æ³•çš„è¿”å›å€¼ä¸ºnullæ—¶ï¼Œå¯èƒ½æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯åœ¨é›†åˆä¸­æ²¡æœ‰è¯¥é”®å¯¹è±¡ï¼Œå¦ä¸€ç§æ˜¯è¯¥é”®å¯¹è±¡æ²¡æœ‰æ˜ å°„ä»»ä½•å€¼å¯¹è±¡ï¼Œå³å€¼å¯¹è±¡ä¸ºnullã€‚å› æ­¤ï¼Œåœ¨Mapé›†åˆä¸­ä¸åº”è¯¥åˆ©ç”¨get(Object key)æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®ï¼Œè€Œåº”è¯¥åˆ©ç”¨containsKey()æ–¹æ³•æ¥åˆ¤æ–­,containsKeyæ–¹æ³•ç”¨æ¥åˆ¤æ–­Mapé›†åˆå¯¹è±¡ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®åã€‚ä¸€å¥è¯æ¦‚æ‹¬:get()å¦‚æœå¾—åˆ°nullï¼Œå¯èƒ½è¿™æ˜¯é”®å¯¹åº”çš„å€¼å¯¹è±¡ä¸ºnullä¹Ÿå¯èƒ½æ˜¯ä¸å­˜åœ¨è¯¥é”®ï¼Œè€ŒcontainsKeyåˆ™æ˜¯falseæˆ–trueï¼Œä¸å­˜åœ¨è¿™ç§ç–‘é—®ã€‚ æ‰©å……:map.containsKey()ã€map.containsValue()ã€map.get() getçš„è¿‡ç¨‹æ˜¯å…ˆè®¡ç®—hashï¼Œç„¶åé€šè¿‡hashä¸table.lengthå–æ‘¸è®¡ç®—indexå€¼ï¼Œç„¶åéå†table[index]ä¸Šçš„é“¾è¡¨ï¼Œç›´åˆ°æ‰¾åˆ°keyï¼Œç„¶åè¿”å›ï¼› 1234567891011121314public V get(Object key) &#123; if (key == null) return getForNullKey();//å¤„ç†nullå€¼ int hash = hash(key.hashCode());//è®¡ç®—hash //åœ¨table[index]éå†æŸ¥æ‰¾keyï¼Œè‹¥æ‰¾åˆ°åˆ™è¿”å›valueï¼Œæ‰¾ä¸åˆ°è¿”å›null for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)]; e != null; e = e.next) &#123; Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) return e.value; &#125; return null; &#125; containsKeyæ–¹æ³•ä¹Ÿæ˜¯å…ˆè®¡ç®—hashï¼Œç„¶åä½¿ç”¨hashå’Œtable.lengthå–æ‘¸å¾—åˆ°indexå€¼ï¼Œéå†table[index]å…ƒç´ æŸ¥æ‰¾æ˜¯å¦åŒ…å«keyç›¸åŒçš„å€¼ï¼› 123456789101112131415public boolean containsKey(Object key) &#123; return getEntry(key) != null; &#125;final Entry&lt;K,V&gt; getEntry(Object key) &#123; int hash = (key == null) ? 0 : hash(key.hashCode()); for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)]; e != null; e = e.next) &#123; Object k; if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; &#125; return null; &#125; çœ‹ä»£ç èƒ½çœ‹åˆ°åŒºåˆ«ï¼Œä¸€ä¸ªæ˜¯è¿”å›keyå¯¹åº”çš„valueå€¼ï¼Œä¸€ä¸ªæ˜¯è¿”å›æ˜¯å¦æœ‰è¯¥keyçš„booleanå˜é‡ã€‚ containsValueæ–¹æ³•å°±æ¯”è¾ƒç²—æš´äº†ï¼Œå°±æ˜¯ç›´æ¥éå†æ‰€æœ‰å…ƒç´ ç›´åˆ°æ‰¾åˆ°valueï¼Œç”±æ­¤å¯è§HashMapçš„containsValueæ–¹æ³•æœ¬è´¨ä¸Šå’Œæ™®é€šæ•°ç»„å’Œlistçš„containsæ–¹æ³•æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½ åˆ«æŒ‡æœ›å®ƒä¼šåƒcontainsKeyé‚£ä¹ˆé«˜æ•ˆã€‚ 1234567891011public boolean containsValue(Object value) &#123; if (value == null) return containsNullValue(); Entry[] tab = table; for (int i = 0; i &lt; tab.length ; i++) for (Entry e = tab[i] ; e != null ; e = e.next) if (value.equals(e.value)) return true; return false; &#125; çŸ¥è¯†ç¼ºé™· å‹æ ¹æ²¡æƒ³åˆ°ç”¨Mapå»åš è‡ªå·±åªè€ƒè™‘åˆ°äº†å…¨æ˜¯æ­£æ•°çš„æƒ…å†µï¼Œæ‰€ä»¥ç”¨äº†æ’åºå’Œè·Ÿ0åˆ¤æ–­ï¼Œå¦‚æœå«æœ‰è´Ÿæ•°çš„è¯å°±åšä¸äº†äº†â€¦â€¦ æ”¶è·åœ¨é‡åˆ°æ•°ç»„é—®é¢˜æ—¶ï¼Œå¯ä»¥è€ƒè™‘ç”¨mapï¼Œå› ä¸ºç´¢å¼•å’Œæ•°å€¼å°±æ˜¯ä¸€ä¸ªå¤©ç”Ÿçš„mapé›†åˆï¼Œå¦‚æœæˆ‘çŸ¥é“æ•°å€¼ï¼Œæˆ‘å°±å¯ä»¥é€šè¿‡mapæ‰¾åˆ°å…¶ç´¢å¼•ï¼Œæœ¬é¢˜æ€è·¯å°±æ˜¯è¿™æ ·ï¼Œå½“å·²çŸ¥ä¸€ä¸ªå€¼æ˜¯æˆ‘æ‰€éœ€è¦çš„ï¼Œç›´æ¥ä»mapä¸­æ‹¿å‡ºå°±è¡Œã€‚ æ’å…¥çŸ¥è¯†ç‚¹æ—¢ç„¶å¤ä¹ åˆ°äº†mapï¼Œé‚£å°±ç»™listã€setå’Œmapæ¥ä¸€ä¸ªå…¨éƒ¨çš„å¤ä¹ å§ï¼ï¼ï¼å˜¿å˜¿å¼€å§‹å§ï¼ï¼ï¼å…ˆæ¥ä¸Šä¸ªé“¾æ¥ï¼Œä¸»è¦æ˜¯çœ‹çš„è¿™ä¸ªå†™çš„ï¼šJavaé›†åˆä¸­List,Setä»¥åŠMapç­‰é›†åˆä½“ç³»è¯¦è§£(å²ä¸Šæœ€å…¨) collectionå…ˆä¸Šä¸ªå›¾ï¼šè¿™ä¸ªå›¾ç”»çš„å¥½å•Šå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆä¸ççš„éƒ½çœ‹å¾—åˆ°ï¼ŒCollectionè¿™ä¸ªæ¥å£ä¸‹æœ‰ä¸‰ä¸ªæ¥å£ç»§æ‰¿ï¼Œåˆ†åˆ«æ˜¯Setã€Listã€Queue(æˆ‘ä»–å¦ˆå¥½åƒæ²¡æ€ä¹ˆç”¨è¿‡Queueå•Šï¼Œä»¥åè¦å¤šç”¨ç‚¹äº†)ï¼ŒSetæœ‰ä¸‰ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«æ˜¯HashSetã€LinkedHashSetã€TreeSetï¼ŒListæœ‰ä¸‰ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«æ˜¯ArrayListã€Vector(æ„Ÿè§‰ç°åœ¨æ˜¯ä¸æ˜¯ç”¨çš„æ¯”è¾ƒå°‘å•Šâ€¦)ã€LinkedListï¼Œå’¦è¿™ä¸ªLinkedListç‰›é€¼å•Šï¼Œç«Ÿç„¶è¿˜æ˜¯Queueçš„å®ç°ç±»ï¼Œä¸è¿‡çœ‹åˆ«äººåšå®¢å¥½åƒæ˜¯è¯´ç»§æ‰¿Queueéƒ¨åˆ†çš„LinkedListæ˜¯è¢«é˜‰å‰²äº†çš„å®ç°ç±»ï¼Œä¹Ÿå°±æ˜¯Queueä¸èƒ½è®¿é—®åˆ°LinkedListçš„æ‰€æœ‰æ–¹æ³•(ç®¡å®ƒå‘¢æˆ‘éƒ½æ²¡ç”¨è¿‡â€¦)ï¼Œè¿˜æœ‰ä¸€ä¸ªPriorityQueue,çœ‹åå­—å°±çŸ¥é“æ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ—å•¦ï¼(å¦ˆå‘€çœ‹çš„èµ„æ–™å¤ªå¤šï¼Œæƒ³å•ç‹¬å¼€ä¸€ç¯‡æ¥æ€»ç»“é›†åˆæºç å’ŒMapæºç äº†â€¦ç®—äº†å…ˆè¿™æ ·å†™ç€å§) ####å…ˆåˆ—ä¸ªæçº²ï¼š 1.å…ˆç»¼è¿°ä¸€ä¸‹collectionä¸­ä¸‰ä¸ªå„¿å­æ¥å£å¾—å„ä¸ªå®ç°ç±»çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚åº•å±‚å®ç°ï¼Œä¼˜ç¼ºç‚¹ç­‰ç­‰ï¼› 2.åˆ†åˆ«é˜è¿°ï¼Œåˆ†è¿°æ—¶è®°å¾—è´´ä¸Šæºç åˆ†æ 3.é¢è¯•å¸¸é—®åˆ°çš„ç‚¹ ç»¼è¿°â€” List æœ‰åº,å¯é‡å¤ ArrayListä¼˜ç‚¹: åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚ç¼ºç‚¹: çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ç‰¹ç‚¹: å…è®¸nullï¼Œä¸åŒæ­¥Vectorä¼˜ç‚¹: åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢ã€‚ç¼ºç‚¹: çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½tips:æ‰€è°“çš„çº¿ç¨‹å®‰å…¨ï¼Œæ˜¯ç›¸å¯¹çš„ï¼Œåœ¨vectorå†…éƒ¨å†…éƒ¨å†…éƒ¨ï¼Œå…¶æ‰€æœ‰æ–¹æ³•ä¸ä¼šè¢«å¤šçº¿ç¨‹æ‰€è®¿é—®ï¼Œå•ä¸ªæ–¹æ³•çš„åŸå­æ€§ï¼ˆæ³¨ï¼šåŸå­æ€§ï¼Œç¨‹åºçš„åŸå­æ€§å³ä¸ä¼šè¢«çº¿ç¨‹è°ƒåº¦æœºåˆ¶æ‰“æ–­ï¼‰ï¼Œå¹¶ä¸èƒ½ä¿è¯å¤åˆæ“ä½œä¹Ÿå…·æœ‰åŸå­æ€§ï¼Œæ‰€ä»¥å¦‚æœæ˜¯å¤åˆæ“ä½œï¼ŒåŒæ ·çº¿ç¨‹ä¸å®‰å…¨ï¼ï¼å¦‚æœè¦ä¿è¯çœŸæ­£çš„çº¿ç¨‹å®‰å…¨ï¼Œè¿˜éœ€è¦ä»¥vectorå¯¹è±¡ä¸ºé”ï¼Œæ¥è¿›è¡Œæ“ä½œï¼Œä½†è¿™æ ·å°±è·ŸArrayListæ²¡å•¥åŒºåˆ«äº†â€¦â€”â€”â€”â€“&gt; Vectoræ˜¯çº¿ç¨‹å®‰å…¨å—ç‰¹ç‚¹ï¼šå…è®¸nullï¼Œä¸åŒæ­¥LinkedListä¼˜ç‚¹: åº•å±‚æ•°æ®ç»“æ„æ˜¯åŒå‘é“¾è¡¨ï¼ŒæŸ¥è¯¢æ…¢ï¼Œå¢åˆ å¿«ã€‚ç¼ºç‚¹: çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ç‰¹ç‚¹ï¼šå…è®¸nullï¼Œä¸åŒæ­¥ â€”Set æ— åº,å”¯ä¸€ HashSetï¼ˆä¸åŒæ­¥ï¼Œå…è®¸nullï¼‰åº•å±‚æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨(æ— åº,å”¯ä¸€)ï¼Œå…¶å®å°±æ˜¯HashMapçš„å®ä¾‹ï¼Œåªä¸è¿‡å€¼æ˜¯keyï¼Œvalueæ˜¯ä¸€ä¸ªå›ºå®šçš„å¯¹è±¡ã€‚å¦‚ä½•æ¥ä¿è¯å…ƒç´ å”¯ä¸€æ€§?1.ä¾èµ–ä¸¤ä¸ªæ–¹æ³•ï¼šhashCode()å’Œequals() LinkedHashSetï¼ˆä¸åŒæ­¥ï¼Œå…è®¸nullï¼‰åº•å±‚æ•°æ®ç»“æ„æ˜¯åŒå‘é“¾è¡¨å’Œå“ˆå¸Œè¡¨ã€‚(FIFOæ’å…¥æœ‰åº,å”¯ä¸€)ï¼Œå®é™…ä¸Šä¾æ—§æ˜¯LinkedHashMapçš„å®ä¾‹ï¼Œå¾…ä¼šæºç åˆ†æçœ‹çœ‹1.ç”±é“¾è¡¨ä¿è¯å…ƒç´ æœ‰åº2.ç”±å“ˆå¸Œè¡¨ä¿è¯å…ƒç´ å”¯ä¸€ TreeSetï¼ˆå…è®¸nullï¼Œä¸åŒæ­¥ï¼‰åº•å±‚æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ã€‚(å”¯ä¸€ï¼Œæœ‰åºï¼Œè¿™é‡Œçš„æœ‰åºæŒ‡çš„æ˜¯æ’åºå¥½çš„ï¼Œä¸æ˜¯è¯´FIFOä¹‹ç±»çš„)ï¼Œå®é™…ä¸Šä¾æ—§æ˜¯TreeMapçš„å®ä¾‹ å¦‚ä½•ä¿è¯å…ƒç´ æ’åºçš„å‘¢?è‡ªç„¶æ’åº(é‡å†™):1.Studentç±»ä¸­å®ç° Comparableæ¥å£ 2.é‡å†™Comparableæ¥å£ä¸­çš„Comparetoæ–¹æ³•æ¯”è¾ƒå™¨æ’åº:1.å•ç‹¬åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒç±»ï¼Œè¿™é‡Œä»¥MyComparatorä¸ºä¾‹ï¼Œå¹¶ä¸”è¦è®©å…¶ç»§æ‰¿Comparatoræ¥å£ 2.é‡å†™Comparatoræ¥å£ä¸­çš„Compareæ–¹æ³•2.å¦‚ä½•ä¿è¯å…ƒç´ å”¯ä¸€æ€§çš„å‘¢?æ ¹æ®æ¯”è¾ƒçš„è¿”å›å€¼æ˜¯å¦æ˜¯0æ¥å†³å®š -Queue PriorityQueueï¼šä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ŒæŒ‰ç…§å¤§å°æ’åºå¥½äº†çš„é˜Ÿåˆ—ï¼Œå¹¶ä¸éµå¾ªå…ˆè¿›å…ˆå‡ºï¼Œä¸å…è®¸nullå…ƒç´ ï¼Œå¤´éƒ¨æ˜¯æœ€å°å…ƒç´ ï¼Œåº•å±‚é‡‡ç”¨çš„æ•°ç»„å’Œå †ã€‚ * PriorityQueueä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹ä¸­çš„ä»»æ„çº¿ç¨‹ä»ç»“æ„ä¸Šä¿®æ”¹äº†åˆ—è¡¨ï¼Œ åˆ™è¿™äº›çº¿ç¨‹ä¸åº”åŒæ—¶è®¿é—®PriorityQueue å®ä¾‹ï¼Œè¿™æ—¶è¯·ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„PriorityBlockingQueue ç±»ã€‚ * ä¸å…è®¸æ’å…¥ null å…ƒç´ ã€‚ * PriorityQueueå®ç°æ’å…¥æ–¹æ³•ï¼ˆofferã€pollã€remove() å’Œ add æ–¹æ³•ï¼‰ çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log(n)) ï¼›å®ç° remove(Object) å’Œ contains(Object) æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n) ï¼›å®ç°æ£€ç´¢æ–¹æ³•ï¼ˆpeekã€element å’Œ sizeï¼‰çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ã€‚æ‰€ä»¥åœ¨éå†æ—¶ï¼Œè‹¥ä¸éœ€è¦åˆ é™¤å…ƒç´ ï¼Œåˆ™ä»¥peekçš„æ–¹å¼éå†æ¯ä¸ªå…ƒç´ ã€‚ * æ–¹æ³•iterator()ä¸­æä¾›çš„è¿­ä»£å™¨å¹¶ä¸ä¿è¯ä»¥æœ‰åºçš„æ–¹å¼éå†PriorityQueueä¸­çš„å…ƒç´ ã€‚ å‰©ä½™æœ‰å…³Queueé˜Ÿåˆ—çœ‹â€”â€“&gt; Javaé›†åˆï¼ˆä¸ƒï¼‰ Queueè¯¦è§£ åˆ†åˆ«é˜è¿°è¿™ä¸ªè¿˜æ˜¯å¦å¼€ä¸€ç¯‡å§â€¦å†…å®¹å¤ªå¤šäº†â€¦å¤Ÿå†™ä¸¤æ˜ŸæœŸäº†ï¼ï¼è¿˜æ˜¯ä¸æ”¾åœ¨è¿™å–§å®¾å¤ºä¸»äº†!! map å…·ä½“å±•å¼€è§å¦ä¸€ç¯‡åšå®¢ï¼šmapæºç åˆ†æ ç¬¬2é¢˜ï¼šä¸¤æ•°ç›¸åŠ é¢˜ç›®ç»™å‡ºä¸¤ä¸ª éç©º çš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚ å¦‚æœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚ æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚ ç¤ºä¾‹123è¾“å…¥ï¼š(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)è¾“å‡ºï¼š7 -&gt; 0 -&gt; 8åŸå› ï¼š342 + 465 = 807 æˆ‘çš„æ€è·¯ å…ˆè®²è¾“å…¥è¾“å‡ºã€‚è¦è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œé¦–å…ˆå°±è¦æ„é€ Nodeå®ä½“ç±»ï¼Œæ³¨æ„æ„é€ å‡½æ•°æœ‰å¤šä¸ªï¼Œæ ¹æ®å‚æ•°çš„ä¸åŒè¿›è¡Œé€‰æ‹©ï¼Œè¾“å‡ºåŒè¾“å…¥ï¼Œå°†ç»„åˆå¥½çš„é“¾è¡¨çš„å¤´ç»“ç‚¹(æœ‰æ•°æ®çš„)è¿”å›åï¼Œå°±å¯ä»¥å¾ªç¯å°†æ•´ä¸ªé“¾è¡¨æ‰“å°å‡ºæ¥äº†ï¼› å†è®²å®ç°ã€‚è§ä»£ç æ³¨é‡Šã€‚ æˆ‘çš„ä»£ç ï¼ˆACï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100package é“¾è¡¨å®ç°_java.leecodeç¬¬äºŒé¢˜;public class leecode_second_Link &#123; public static void main(String[] args) &#123; Node head = new Node(2); Node node1 = new Node(5); Node node2 = new Node(8); Node node3 = new Node(7); head.setNext(node1); node1.setNext(node2); node2.setNext(node3); // æ‰“å°é“¾è¡¨1 Node temp = head; while (temp != null) &#123; if(temp.next == null) &#123; System.out.println(temp.getData()); &#125; else &#123; System.out.print(temp.getData() + "--&gt;"); &#125; temp = temp.getNext(); &#125; System.out.println("+"); Node head_sec = new Node(2); Node node1_sec = new Node(4); Node node2_sec = new Node(6); Node node3_sec = new Node(7); head_sec.setNext(node1_sec); node1_sec.setNext(node2_sec); node2_sec.setNext(node3_sec); // æ‰“å°é“¾è¡¨2 Node temp1 = head_sec; while (temp1 != null) &#123; if(temp1.next == null) &#123; System.out.println(temp1.getData()); &#125; else &#123; System.out.print(temp1.getData() + "--&gt;"); &#125; temp1 = temp1.getNext(); &#125; System.out.println("="); Node head3 = new leecode_second_Link().addTwoNums(head,head_sec); //æ‰“å°æ€»å’Œé“¾è¡¨ Node temp3 = head3; while(temp3 != null)&#123; if(temp3.next == null) &#123; System.out.println(temp3.getData()); &#125; else &#123; System.out.print(temp3.getData() + "--&gt;"); &#125; temp3 = temp3.getNext(); &#125; &#125; public Node addTwoNums(Node head1,Node head2)&#123; //æ²¡å•¥ç”¨ï¼Œåˆå§‹åŒ–å¤´ç»“ç‚¹(å¯ä»¥ä¸å¸¦æ•°æ®) Node res = new Node(0); //tempæ˜¯åé¢ç”¨æ¥éå†é“¾è¡¨çš„ Node temp = res; //è¿™ä¸ªæ˜¯å•†ï¼Œç”¨æ¥è¿›ä½ç»™ä¸‹ä¸€ä½çš„ int quo = 0; //å¾ªç¯ï¼Œåªæœ‰å½“ç¬¬ä¸€ä¸ªé“¾è¡¨ä¸­çš„å€¼ä¸ºç©ºä¸”ç¬¬äºŒä¸ªé“¾è¡¨ä¸­çš„å€¼ä¸ºç©ºä¸”æ²¡æœ‰äº†è¿›ä½ï¼Œè®¡ç®—æ‰ç®—ç»“æŸ while(head1 != null || head2 != null || quo != 0)&#123; //tä¸ºä¸¤é“¾è¡¨ç›¸åŒä½ç½®çš„å’ŒåŠ ä¸Šå‰é¢ä¸€ä½çš„è¿›ä½ int t = (head1 == null ? 0 : head1.data ) + (head2 == null ? 0 : head2.data) + quo; //å•† quo = t/10; //æ–°é“¾è¡¨åœ¨è¯¥ä½çš„å€¼ Node head3 = new Node(t % 10); //æ–°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå€¼ temp.next = head3; //åªæœ‰è¿™æ ·ï¼Œæ‰èƒ½è®©é“¾è¡¨nextä¸‹å»ï¼Œè¿™ä¸¤æ­¥è¦å­¦ä¼šï¼Œä»¥åé“¾è¡¨ç»å¸¸è¦ç”¨ temp = head3; //åˆ†åˆ«çœ‹ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºè¯´æ˜è¯¥ä½å·²ç»æ²¡äº†ï¼Œå¦åˆ™å°±nextä¸‹å» head1 = (head1 == null ? head1 : head1.next); head2 = (head2 == null ? head2 : head2.next); &#125; //è¿”å›é“¾è¡¨ç¬¬ä¸€ä¸ªæœ‰å€¼çš„èŠ‚ç‚¹ï¼Œç›¸å½“äºæœ‰å€¼çš„å¤´ç»“ç‚¹ return res.next; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940package é“¾è¡¨å®ç°_java.leecodeç¬¬äºŒé¢˜;public class Node &#123; //æ•°æ®åŸŸ public Integer data; //æŒ‡é’ˆåŸŸï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ public Node next; public Node() &#123; &#125; public Node(int data) &#123; this.data = data; &#125; public Node(int data, Node next) &#123; this.data = data; this.next = next; &#125; public int getData() &#123; return data; &#125; public void setData(int Data) &#123; this.data = Data; &#125; public Node getNext() &#123; return next; &#125; public void setNext(Node Next) &#123; this.next = Next; &#125;&#125; æ­£ç¡®æ€è·¯åŒæ—¶éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œå¯¹åº”å€¼ç›¸åŠ (è¿˜æœ‰ quotient)æ±‚ä½™æ•°å¾—åˆ°å€¼å¹¶èµ‹ç»™æ–°åˆ›å»ºçš„ç»“ç‚¹ã€‚è€Œå•†åˆ™ç”¨quotientå­˜å‚¨ï¼Œä¾›ä¸‹æ¬¡ç›¸åŠ ã€‚ æ­£ç¡®ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//å¤æ‚ç‰ˆ/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode addTwoNumbers(ListNode l1, ListNode l2) &#123; ListNode res = new ListNode(-1); ListNode cur = res; int quotient = 0; int t = 0; while (l1 != null &amp;&amp; l2 != null) &#123; t = l1.val + l2.val + quotient; quotient = t / 10; ListNode node = new ListNode(t % 10); cur.next = node; l1 = l1.next; l2 = l2.next; cur = node; &#125; while (l1 != null) &#123; t = l1.val + quotient; quotient = t / 10; ListNode node = new ListNode(t % 10); cur.next = node; l1 = l1.next; cur = node; &#125; while (l2 != null) &#123; t = l2.val + quotient; quotient = t / 10; ListNode node = new ListNode(t % 10); cur.next = node; l2 = l2.next; cur = node; &#125; if (quotient != 0) &#123; cur.next = new ListNode(quotient); cur = cur.next; &#125; return res.next; &#125;&#125; 1234567891011121314151617181920212223242526//ç®€åŒ–ç‰ˆ/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode addTwoNumbers(ListNode l1, ListNode l2) &#123; ListNode res = new ListNode(-1); ListNode cur = res; int quotient = 0; while (l1 != null || l2 != null || quotient != 0) &#123; int t = (l1 == null ? 0 : l1.val) + (l2 == null ? 0 : l2.val) + quotient; quotient = t / 10; ListNode node = new ListNode(t % 10); cur.next = node; cur = node; l1 = (l1 == null) ? l1 : l1.next; l2 = (l2 == null) ? l2 : l2.next; &#125; return res.next; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹javaä¸­çš„å•é“¾è¡¨è§æˆ‘å†™çš„å¦å¤–ä¸€ç¯‡åšæ–‡ â€”â€”&gt; Javaå®ç°å•å‘é“¾è¡¨ ç¬¬3é¢˜ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²é¢˜ç›®ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚ ç¤ºä¾‹ç¤ºä¾‹ 1: 123è¾“å…¥: "abcabcbb"è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: "bbbbb"è¾“å‡º: 1è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚ ç¤ºä¾‹ 3: 1234è¾“å…¥: "pwwkew"è¾“å‡º: 3è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚ æˆ‘çš„æ€è·¯è¦æ‰¾åˆ°ä¸€ä¸ªæœ€é•¿å­ä¸²ï¼Œå°±å¿…é¡»æœ‰ä¸€å¤´ä¸€å°¾ï¼Œæ‰€ä»¥å°±å¿…é¡»æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œç„¶ååˆæ˜¯å­—ç¬¦ä¸²å¯¹åº”ç´¢å¼•å€¼ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯éœ€è¦ç”¨mapæ¥æ“ä½œçš„ï¼Œkeyä¸ºç´¢å¼•å€¼ï¼Œvalueä¸ºç´¢å¼•æ‰€åœ¨ä½ç½®çš„å€¼ã€‚äºæ˜¯è®¾å®šä¸¤ä¸ªæŒ‡é’ˆpã€qï¼Œæœ€å¼€å§‹åŒæ—¶æŒ‡å®šåœ¨æœ€å¼€å§‹çš„ä½ç½®ï¼Œç„¶åqå‘åç§»åŠ¨ï¼Œæ¯ç§»åŠ¨ä¸€æ¬¡ï¼Œåªè¦qå¯¹åº”çš„å€¼æ²¡æœ‰åœ¨mapä¸­ï¼Œå°±å°†å…¶å€¼æ”¾å…¥mapï¼Œå¹¶ä¸”è®°å½•ä¸‹ä¸²çš„å¤§å°ï¼Œå½“ç¢°åˆ°äº†mapä¸­ç›¸åŒçš„å€¼æ—¶ï¼Œå°±å°†på‘åç§»åˆ°mapä¸­å‡ºç°è¯¥å€¼çš„ç´¢å¼•åä¸€ä½ï¼ŒåŒæ—¶æ³¨æ„ï¼ï¼ï¼æ­¤æ—¶på¯èƒ½ä¼šå›æº¯ï¼Œæ‰€ä»¥æ­¤æ—¶è¦ç”¨maxå‡½æ•°åˆ¤æ–­ä¸€ä¸‹ï¼Œç„¶åç»§ç»­åˆ¤æ–­ä¸²çš„å¤§å°å’Œç»§ç»­éå†çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ï¼Œæœ€åè¿”å›æœ€é•¿å­ä¸²é•¿åº¦å³å¯ã€‚ æˆ‘çš„ä»£ç ï¼ˆACï¼‰1234567891011121314151617181920212223242526272829303132package ç¬¬ä¸‰é¢˜;import java.util.HashMap;import java.util.Scanner;public class lengthOfLongestSubstring &#123; public static void main(String[] args) &#123; Scanner a = new Scanner(System.in); System.out.println("è¯·è¾“å…¥ä¸²: "); String string = a.nextLine(); int num = new lengthOfLongestSubstring().lengthofSubstring(string); System.out.println("æœ€é•¿å­ä¸²çš„é•¿åº¦ä¸ºï¼š" + num); &#125; private int lengthofSubstring(String string) &#123; int max = 0; char[] chars = string.toCharArray(); int p=0,q=0; int len = chars.length; HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;(); while(q &lt; len)&#123; if(map.containsKey(chars[q]))&#123; p = Math.max(p,map.get(chars[q])+1); &#125; map.put(chars[q],q); max = Math.max(max,q-p+1); q++; &#125; return max; &#125;&#125; æ­£ç¡®æ€è·¯åˆ©ç”¨æŒ‡é’ˆ p, qï¼Œåˆå§‹æŒ‡å‘å­—ç¬¦ä¸²å¼€å¤´ã€‚éå†å­—ç¬¦ä¸²ï¼Œq å‘å³ç§»åŠ¨ï¼Œè‹¥æŒ‡å‘çš„å­—ç¬¦åœ¨ map ä¸­ï¼Œè¯´æ˜å‡ºç°äº†é‡å¤å­—ç¬¦ï¼Œæ­¤æ—¶ï¼Œp è¦åœ¨å‡ºç°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½® map.get(chars[q]) + 1 å’Œå½“å‰ä½ç½® p ä¹‹é—´å–è¾ƒå¤§å€¼ï¼Œé˜²æ­¢ p æŒ‡é’ˆå›æº¯ã€‚å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œè¦å°† chars[q] åŠå¯¹åº”ä½ç½®æ”¾å…¥ map ä¸­ï¼Œä¹Ÿéœ€è¦ä¸æ–­è®¡ç®—å‡ºmax ä¸ q - p + 1 çš„è¾ƒå¤§å€¼ï¼Œèµ‹ç»™ maxã€‚æœ€åè¾“å‡º max å³å¯ã€‚ æ­£ç¡®ä»£ç 123456789101112131415161718192021222324class Solution &#123; public int lengthOfLongestSubstring(String s) &#123; if (s == null || s.length() == 0) &#123; return 0; &#125; char[] chars = s.toCharArray(); int len = chars.length; int p = 0, q = 0; int max = 0; Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;(); while (q &lt; len) &#123; if (map.containsKey(chars[q])) &#123; // é˜²æ­¢pæŒ‡é’ˆå›æº¯ï¼Œå¯¼è‡´è®¡ç®—åˆ°é‡å¤å­—ç¬¦çš„é•¿åº¦ // eg. abba,å½“qæŒ‡å‘æœ€å³çš„aæ—¶ï¼Œè‹¥ç®€å•æŠŠpèµ‹ä¸ºmap.get(chars[q] + 1)ï¼Œåˆ™å‡ºç°æŒ‡é’ˆå›æº¯ p = Math.max(p, map.get(chars[q]) + 1); &#125; map.put(chars[q], q); max = Math.max(max, q - p + 1); ++q; &#125; return max; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹å¥½åƒå¹¶æ²¡æœ‰å•¥æ–°çŸ¥è¯†ç‚¹ï¼Œå…¶å®å°±æ˜¯ç”¨mapä»£æ›¿æŒ‡é’ˆçš„ä½œç”¨ã€‚ ç¬¬237é¢˜ï¼š åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹é¢˜ç›®è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ï¼Œä½ å°†åªè¢«ç»™å®šè¦æ±‚è¢«åˆ é™¤çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹ç¤ºä¾‹ 1 123è¾“å…¥: head = [4,5,1,9], node = 5è¾“å‡º: [4,1,9]è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9 ç¤ºä¾‹ 2: 123è¾“å…¥: head = [4,5,1,9], node = 1è¾“å‡º: [4,5,9]è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9 è¯´æ˜: é“¾è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹ã€‚ é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ç»™å®šçš„èŠ‚ç‚¹ä¸ºéæœ«å°¾èŠ‚ç‚¹å¹¶ä¸”ä¸€å®šæ˜¯é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ã€‚ ä¸è¦ä»ä½ çš„å‡½æ•°ä¸­è¿”å›ä»»ä½•ç»“æœã€‚ æˆ‘çš„æ€è·¯æœ¬é¢˜é¢˜å¹²ä¸ªäººè§‰å¾—æ²¡æœ‰äº¤ä»£çš„å¾ˆæ¸…æ¥šï¼Œè®©äººæ„Ÿè§‰æœ‰ç‚¹æ‘¸ä¸ç€å¤´è„‘ï¼Œæ­£å¸¸æ¥è¯´åº”è¯¥æ˜¯ç»™å®šä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯è¦å†™çš„å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥æœ€å¼€å§‹ä¼šè®©äººæ„Ÿè§‰å¾ˆçªå…€ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™é“é¢˜è®¾è®¡çš„å¾ˆå·§å¦™ï¼Œä¸éœ€è¦ç»™å®šå¤´ç»“ç‚¹ï¼Œå¯ä»¥é‡‡ç”¨æ›¿èº«æ”»å‡»ï¼Œç»™å®šçš„nodeå…¶å®å°±å¯ä»¥å½“åšå¤´ç»“ç‚¹æ¥å¤„ç†ï¼Œå› ä¸ºä¸å¯èƒ½æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥åé¢ä¸€å®šæœ‰èŠ‚ç‚¹ï¼Œæ•…å¯ä»¥å°†nodeåèŠ‚ç‚¹ç‰ºç‰²æ‰ï¼Œè¿™æ ·å°±ç›¸å½“äºå°†nodeæœ¬èº«å¹²æ‰äº†ã€‚ ä¸ªäººé‡åˆ°çš„å›°éš¾ä¸»è¦æ˜¯åœ¨è¾“å…¥è¾“å‡ºï¼Œå°¤å…¶æ˜¯æ„é€ å•é“¾è¡¨çš„è¿‡ç¨‹èŠ±è´¹äº†æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæ€»è€Œè¨€ä¹‹è¿˜æ˜¯å¯¹å•é“¾è¡¨çš„æ“ä½œä¸å¤Ÿç†Ÿç»ƒï¼Œæ¥ä¸‹æ¥ä¼šé‡ç‚¹æ”»å…‹å•é“¾è¡¨è¿™ä¸€å—çš„çŸ¥è¯†ç‚¹ï¼ ##æˆ‘çš„ä»£ç ï¼ˆACï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package ç¬¬237é¢˜_åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹;import java.util.ArrayList;import java.util.Scanner;public class deleteNode &#123; public static void main(String[] args) &#123; System.out.println("è¯·è¾“å…¥ä¸€ä¸²æ•°å­—ä»£è¡¨é“¾è¡¨ï¼š"); Scanner sc = new Scanner(System.in); String head = sc.nextLine(); char[] chars = head.toCharArray();// System.out.println(chars); ArrayList list = new ArrayList(); Node head_first = new Node(-1); Node temp = head_first; for(int i = 0 ; i &lt; chars.length ; i++)&#123; temp.next = new Node(Integer.parseInt(String.valueOf(chars[i]))); temp = temp.next; list.add(chars[i]); &#125; System.out.println("æ‚¨è¾“å…¥çš„é“¾è¡¨ä¸ºï¼š "+ list); System.out.println("è¯·æ‚¨è¾“å…¥è¦åˆ é™¤çš„æ•°å­—ï¼š"); String data = sc.nextLine(); int data_int = Integer.parseInt(data); Node temp1 = head_first; for(int i = 0 ; i &lt; chars.length ; i++)&#123; temp1 = temp1.next; if(data_int == temp1.data)&#123; deleteNode(temp1); break; &#125; &#125; System.out.println("åˆ é™¤åçš„é“¾è¡¨ä¸ºï¼š"); Node temp3 = head_first.next; for(int i = 0 ; i &lt; chars.length-1 ; i++) &#123; System.out.print(temp3.data + " "); temp3 = temp3.next; &#125; System.out.println("\n"); &#125; public static void deleteNode(Node node) &#123; Node tmp = node.next; node.data = node.next.data; node.next = node.next.next; tmp = null; &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940package ç¬¬237é¢˜_åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹;public class Node &#123; //æ•°æ®åŸŸ public Integer data; //æŒ‡é’ˆåŸŸï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ public Node next; public Node() &#123; &#125; public Node(int data) &#123; this.data = data; &#125; public Node(int data, Node next) &#123; this.data = data; this.next = next; &#125; public int getData() &#123; return data; &#125; public void setData(int Data) &#123; this.data = Data; &#125; public Node getNext() &#123; return next; &#125; public void setNext(Node Next) &#123; this.next = Next; &#125;&#125; æ­£ç¡®æ€è·¯åªæä¾› node ä¾ç„¶å¯ä»¥è§£å†³æ­¤é¢˜ã€‚åªè¦æŠŠä¸‹ä¸ªç»“ç‚¹çš„ å€¼ &amp; next èµ‹ç»™å½“å‰ nodeï¼Œç„¶ååˆ é™¤ä¸‹ä¸ªç»“ç‚¹ï¼Œå°±å¯ä»¥æå®šã€‚ æ­£ç¡®ä»£ç 12345678910111213141516171819202122/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public void deleteNode(ListNode node) &#123; // ä¿å­˜ä¸‹ä¸€ä¸ªç»“ç‚¹ ListNode tmp = node.next; // å°†ä¸‹ä¸ªç»“ç‚¹çš„å€¼èµ‹ç»™å½“å‰è¦åˆ é™¤çš„ç»“ç‚¹ node.val = node.next.val; node.next = node.next.next; // tmp ç½®ä¸ºç©ºï¼Œè®© jvm è¿›è¡Œåƒåœ¾å›æ”¶ tmp = null; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹ é“¾è¡¨çš„æ„å»º é“¾è¡¨åˆ é™¤ ä¸è¶³å¯¹é“¾è¡¨æ“ä½œè¿˜ä¸æ˜¯å¾ˆé©¾è½»å°±ç†Ÿï¼Œæ¥ä¸‹æ¥ä¼šé‡ç‚¹è®­ç»ƒé“¾è¡¨æ“ä½œã€‚ ç¬¬19é¢˜ï¼šåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹é¢˜ç›®ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚ ç¤ºä¾‹123ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ n = 2.å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1-&gt;2-&gt;3-&gt;5. è¯´æ˜ï¼š ç»™å®šçš„ n ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚ æˆ‘çš„æ€è·¯åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªæ€è·¯æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯è¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ fast å’Œ slow ï¼Œä¸€ä¸ªæŒ‡é’ˆæ¯”å¦å¤–ä¸€ä¸ªå¤šn-1æ­¥ï¼Œè¿™æ ·çš„è¯å½“fastæŒ‡é’ˆåˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼ŒslowæŒ‡é’ˆåˆšå¥½åˆ°è¾¾è¦åˆ é™¤çš„èŠ‚ç‚¹çš„ä½ç½®ï¼Œæ­¤æ—¶å°±å¯ä»¥ç”¨ä¸Šé¢˜ç”¨è¿‡çš„æ›¿èº«ç‰ºç‰²æ³•ï¼Œç‰ºç‰²æ‰è¦åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåªéœ€è¦å°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼èµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹å¹¶ä¸”å°†slow.next = slow.next.nextå³å¯ã€‚ä½†æ˜¯ï¼Œæœ‰ç‰¹æ®Šæƒ…å†µ ï¼š å½“è¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯æœ€åä¸€ä¸ªæ—¶ï¼Œæ— æ³•åšåˆ°ç”¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ›¿æ¢ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦æå‰é¢„åˆ¤ï¼Œä¸èƒ½ç­‰åˆ°slowåˆ°äº†æœ€åä¸€ä¸ªèŠ‚ç‚¹æ‰è€ƒè™‘åˆ é™¤ï¼Œè¦åœ¨slow.next.next == nullæ—¶å°±è€ƒè™‘ï¼ï¼ï¼ æˆ‘çš„ä»£ç ï¼ˆACï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package ç¬¬19é¢˜;//import ç¬¬237é¢˜_åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹.Node;import java.util.ArrayList;import java.util.Scanner;public class removeNthFromEnd &#123; public static void main(String[] args) &#123; System.out.println("è¯·è¾“å…¥ä¸€ä¸²æ•°å­—ä»£è¡¨é“¾è¡¨ï¼š"); Scanner sc = new Scanner(System.in); String head = sc.nextLine(); char[] chars = head.toCharArray();// System.out.println(chars); ArrayList list = new ArrayList(); ListNode head_first = new ListNode(-1); ListNode temp = head_first; for(int i = 0 ; i &lt; chars.length ; i++)&#123; temp.next = new ListNode(Integer.parseInt(String.valueOf(chars[i]))); temp = temp.next; list.add(chars[i]); &#125; System.out.println("æ‚¨è¾“å…¥çš„é“¾è¡¨ä¸ºï¼š "+ list); System.out.print("è¯·æ‚¨è¾“å…¥è¦åˆ é™¤çš„å€’æ•°ç¬¬nä¸ªæ•°çš„èŠ‚ç‚¹ï¼Œn = "); String number = sc.nextLine(); int num = Integer.parseInt(number); ListNode result_node = removeNthFromEnd(head_first.next,num); ListNode temp1 = result_node; while(temp1 != null)&#123;// int data = Integer.parseInt(String.valueOf(temp1.val)); System.out.print(temp1.val); temp1 = temp1.next; &#125; &#125; public static ListNode removeNthFromEnd(ListNode head, int n) &#123; ListNode pre = new ListNode(-1); pre.next = head; ListNode fast = pre; ListNode slow = pre; // å¿«æŒ‡é’ˆå…ˆèµ° n-1 æ­¥ for (int i = 0; i &lt; n-1; ++i) &#123; fast = fast.next; &#125; while (fast.next != null &amp;&amp; slow.next.next != null) &#123; fast = fast.next; slow = slow.next; &#125;// ListNode tmp = slow.next; if(slow.next.next == null &amp;&amp; (n == 1)) &#123; slow.next = null; &#125; else &#123; slow.val = slow.next.val; slow.next = slow.next.next;// tmp = null; &#125; return pre.next; &#125;&#125; 12345678910package ç¬¬19é¢˜;public class ListNode &#123; int val; ListNode next; ListNode(int x) &#123; val = x; &#125; &#125; æ­£ç¡®æ€è·¯å¿«æŒ‡é’ˆ fast å…ˆèµ° n æ­¥ï¼Œæ¥ç€å¿«æŒ‡é’ˆ fast ä¸æ…¢æŒ‡é’ˆ slow åŒæ—¶å‰è¿›ï¼Œç­‰åˆ°å¿«æŒ‡é’ˆæŒ‡å‘é“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹æ—¶ï¼Œåœæ­¢å‰è¿›ã€‚ç„¶åå°† slow çš„ next æŒ‡å‘ slow.next.nextï¼Œå³åˆ é™¤äº†ç¬¬ n ä¸ªç»“ç‚¹ã€‚æœ€åè¿”å›å¤´æŒ‡é’ˆã€‚ è¿™é‡Œè®¾ç½®äº† pre è™šæ‹Ÿç»“ç‚¹(æŒ‡å‘ head )æ˜¯ä¸ºäº†æ–¹ä¾¿å¤„ç†åªæœ‰ä¸€ä¸ªç»“ç‚¹çš„æƒ…å†µã€‚ æ­£ç¡®ä»£ç 12345678910111213141516171819202122232425262728/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode removeNthFromEnd(ListNode head, int n) &#123; ListNode pre = new ListNode(-1); pre.next = head; ListNode fast = pre; ListNode slow = pre; // å¿«æŒ‡é’ˆå…ˆèµ° n æ­¥ for (int i = 0; i &lt; n; ++i) &#123; fast = fast.next; &#125; while (fast.next != null) &#123; fast = fast.next; slow = slow.next; &#125; slow.next = slow.next.next; return pre.next; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹å•é“¾è¡¨çš„åˆ é™¤â€¦æ¯”è¾ƒç®€å•å•¦ ä¸è¶³ä¸ªäººæ„Ÿè§‰å…¶å®ç­”æ¡ˆçš„è§£æ³•è¿˜æ˜¯è¦æ¯”æˆ‘çš„å¥½ä¸€äº›ï¼Œå®ƒæ˜¯é€šè¿‡ç›´æ¥æ‰¾åˆ°åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªï¼Œè¿™æ ·å°±éå¸¸å¥½å¤„ç†äº†ï¼Œè€Œä¸”è¿˜æ²¡æœ‰ç‰¹æ®Šæƒ…å†µâ€¦æˆ‘å°±å¾ˆç¬¨äº†ï¼Œè¿˜è‡ªä»¥ä¸ºæ˜¯çš„ç”¨äº†ä¸€ä¸ªæ›¿èº«æ”»å‡»çš„æ–¹æ³•â€¦å­¦åˆ°äº†ï¼ï¼ï¼è¦è®°å¾—ç”¨åˆ°åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ‰æ˜¯å•é“¾è¡¨çš„å…³é”®ã€‚ ç¬¬21é¢˜ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨é¢˜ç›®å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ ç¤ºä¾‹12è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;4è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4 æˆ‘çš„æ€è·¯åˆ›å»ºä¸€ä¸ªæ–°é“¾è¡¨ï¼Œç„¶åæ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨ï¼Œå“ªä¸ªå°å°±è®©æ–°é“¾è¡¨çš„nextæŒ‡å‘ä»–ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæå‰ç»“æŸäº†ï¼Œå‰©ä¸‹çš„é“¾è¡¨æ¥ä¸Šæ–°é“¾è¡¨çš„ååŠéƒ¨åˆ†ã€‚ æˆ‘çš„ä»£ç ï¼ˆACï¼‰123456789101112131415161718192021public static ListNode merge(ListNode l1, ListNode l2)&#123; ListNode prehead = new ListNode(-1); ListNode prev = prehead; while (l1 != null &amp;&amp; l2 != null) &#123; if (l1.val &lt;= l2.val) &#123; prev.next = l1; l1 = l1.next; &#125; else &#123; prev.next = l2; l2 = l2.next; &#125; prev = prev.next; &#125; // exactly one of l1 and l2 can be non-null at this point, so connect // the non-null list to the end of the merged list. prev.next = l1 == null ? l2 : l1; return prehead.next; &#125; 1234567package ç¬¬21é¢˜;public class ListNode &#123; int val; ListNode next; ListNode(int x) &#123; val = x; &#125;&#125; æ­£ç¡®æ€è·¯åˆ©ç”¨é“¾è¡¨å¤©ç„¶çš„é€’å½’æ€§ã€‚å¦‚æœ l1 ä¸ºç©ºï¼Œè¿”å› l2ï¼›å¦‚æœ l2 ä¸ºç©ºï¼Œè¿”å› l1ã€‚å¦‚æœ l1.val &lt; l2.valï¼Œè¿”å› l1-&gt;mergeTwoLists(l1.next, l2)ï¼›å¦åˆ™è¿”å› l2-&gt;mergeTwoLists(l1, l2.next)ã€‚ æ­£ç¡®ä»£ç 123456789101112131415161718192021222324/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; if (l1 == null) &#123; return l2; &#125; if (l2 == null) &#123; return l1; &#125; if (l1.val &lt; l2.val) &#123; l1.next = mergeTwoLists(l1.next, l2); return l1; &#125; l2.next = mergeTwoLists(l1, l2.next); return l2; &#125;&#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹é“¾è¡¨ç®—æ³•é¢˜é¢è¯•å¿…çœ‹å¿…çœ‹å¿…çœ‹ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç¬¬23é¢˜ï¼šåˆå¹¶Kä¸ªæ’åºé“¾è¡¨é¢˜ç›®åˆå¹¶ k ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚ ç¤ºä¾‹1234567è¾“å…¥:[ 1-&gt;4-&gt;5, 1-&gt;3-&gt;4, 2-&gt;6]è¾“å‡º: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6 æˆ‘çš„æ€è·¯æˆ‘æ²¡åšå‡ºæ¥ï¼Œç„¶åçœ‹äº†ä¸‹è®¨è®ºåŒºï¼Œå¤§æ¦‚æ€»ç»“å‡ºä¸‰ç§æ€è·¯ï¼š * è¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå°†æ•´ä¸ªé“¾è¡¨æ‰”åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼Œç„¶åä¸€ä¸ªä¸ªå–å‡ºæ¥å°±å¯ä»¥äº†ï¼Œè¿™ç§æ€è·¯ä»£ç å®ç°æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç”¨äº†äººå®¶å°è£…å¥½çš„ä¸œè¥¿ï¼Œæ€»æ„Ÿè§‰æœ‰ç‚¹æŠ•æœºå–å·§çš„æ„Ÿè§‰... * è¿ç”¨åˆ†æ²»å½’å¹¶çš„æ€æƒ³ï¼ŒKä¸ªé“¾è¡¨ä¸¤ä¸¤è¿›è¡Œå½’å¹¶ã€‚ * å¼ºè¡Œå½’å¹¶ï¼Œä¸¤ä¸ªå½’å¹¶å®Œç›´æ¥æ”¾åˆ°åè€…ï¼Œç„¶ååè€…å†è·Ÿåé¢çš„æ’åºï¼Œè¿™æ ·å¤æ‚åº¦å¾ˆé«˜ã€‚ æˆ‘çš„ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode mergeKLists(ListNode[] lists) &#123; if (lists == null || lists.length == 0) &#123; return null; &#125; int len = lists.length; if (len == 1) &#123; return lists[0]; &#125; // åˆå¹¶å‰åä¸¤ä¸ªé“¾è¡¨ï¼Œç»“æœæ”¾åœ¨åä¸€ä¸ªé“¾è¡¨ä½ç½®ä¸Šï¼Œä¾æ¬¡å¾ªç¯ä¸‹å» for (int i = 0; i &lt; len - 1; ++i) &#123; lists[i + 1] = mergeTwoLists(lists[i], lists[i + 1]); &#125; return lists[len - 1]; &#125; /** * åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ * @param l1 * @param l2 * @return listNode */ private ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; if (l1 == null) &#123; return l2; &#125; if (l2 == null) &#123; return l1; &#125; if (l1.val &lt; l2.val) &#123; l1.next = mergeTwoLists(l1.next, l2); return l1; &#125; l2.next = mergeTwoLists(l1, l2.next); return l2; &#125;&#125; æ­£ç¡®æ€è·¯ ç¬¬ä¸€ç§ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œ20ms, å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ï¼š O(N\log k)O(Nlogk) ï¼Œå…¶ä¸­ \text{k}k æ˜¯é“¾è¡¨çš„æ•°ç›®ã€‚å¼¹å‡ºæ“ä½œæ—¶ï¼Œæ¯”è¾ƒæ“ä½œçš„ä»£ä»·ä¼šè¢«ä¼˜åŒ–åˆ° O(logk) ã€‚åŒæ—¶ï¼Œæ‰¾åˆ°æœ€å°å€¼èŠ‚ç‚¹çš„æ—¶é—´å¼€é”€ä»…ä»…ä¸º O(1)ã€‚æœ€åçš„é“¾è¡¨ä¸­æ€»å…±æœ‰ N ä¸ªèŠ‚ç‚¹ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(n) ã€‚åˆ›é€ ä¸€ä¸ªæ–°çš„é“¾è¡¨éœ€è¦ O(n) çš„å¼€é”€ã€‚O(k) ã€‚ä»¥ä¸Šä»£ç é‡‡ç”¨äº†é‡å¤åˆ©ç”¨åŸæœ‰èŠ‚ç‚¹ï¼Œæ‰€ä»¥åªè¦ O(1) çš„ç©ºé—´ã€‚åŒæ—¶ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆé€šå¸¸ç”¨å †å®ç°ï¼‰éœ€è¦ O(k) çš„ç©ºé—´ï¼ˆè¿œæ¯”å¤§å¤šæ•°æƒ…å†µçš„ Nè¦å°ï¼‰ã€‚ è¿‡ç¨‹ï¼š 1.å› ä¸ºé“¾è¡¨æœ‰åºï¼Œæ‰€ä»¥ç”¨æ¯ä¸ªé“¾è¡¨çš„é¦–å…ƒç´ æ„å»ºåˆè¯•å †(å°é¡¶å †) â€“ çš„é˜Ÿåˆ— 2.é¦–å…ƒç´ å‡ºé˜Ÿï¼Œè¯¥å…ƒç´ nextæŒ‡å‘å…ƒç´ å…¥é˜Ÿ ç¬¬äºŒç§ï¼Œå½’å¹¶åˆ†æ²»ï¼Œå…¸å‹çš„å½’å¹¶åˆ†æ²»æ€æƒ³ï¼Œè‡ªåº•å‘ä¸Šï¼Œä¾æ¬¡åˆå¹¶(å¯ç»“åˆå½’å¹¶æ’åºç†è§£ï¼Œå°†æ¯ä¸ªé“¾è¡¨ç†è§£æˆæ’åºçš„å€¼)ã€‚ å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼š O(N\log k)O(Nlogk) ï¼Œå…¶ä¸­ \text{k}k æ˜¯é“¾è¡¨çš„æ•°ç›®ã€‚ ç©ºé—´å¤æ‚åº¦ï¼šO(1)O(1) æˆ‘ä»¬å¯ä»¥ç”¨ O(1) çš„ç©ºé—´å®ç°ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„åˆå¹¶ã€‚ ç¬¬ä¸‰ç§ï¼Œå¼ºè¡Œåšã€‚è§æˆ‘çš„ä»£ç ï¼Œ170ms ç”¨ç¬¬ä¸€ä¸ªé“¾ä¾æ¬¡å’Œåé¢çš„æ‰€æœ‰é“¾è¿›è¡ŒåŒé“¾åˆå¹¶ï¼Œåˆ©ç”¨021çš„åŒé¡ºåºé“¾åˆå¹¶ï¼Œç§’æ€ï¼ä½†æ˜¯æ•ˆç‡æä½ï¼Œ æ—¶é—´å¤æ‚åº¦æ˜¯O(x(a+b) + (x-1)(a+b+c) + â€¦ + 1 * (a+b+â€¦+z);[a-z]æ˜¯å„é“¾è¡¨é•¿åº¦ï¼Œxè¡¨ç¤ºé“¾è¡¨ä¸ªæ•°-1ï¼Œå¯è§æ—¶é—´å¤æ‚åº¦æ˜¯æå¤§çš„ã€‚ æ­£ç¡®ä»£ç  ä¼˜å…ˆçº§é˜Ÿåˆ— 12345678910111213141516171819202122public ListNode mergeKLists(ListNode[] lists) &#123; int len = 0; if((len=lists.length)==0 || lists == null) return null; ListNode preHead = new ListNode(-1); ListNode preNode = preHead; PriorityQueue&lt;ListNode&gt; queue = new PriorityQueue&lt;&gt;(len, new Comparator&lt;ListNode&gt;() &#123; @Override public int compare(ListNode o1, ListNode o2) &#123; return o1.val - o2.val; &#125; &#125;); for (ListNode node : lists) &#123; if(node!=null) queue.add(node); &#125; while(!queue.isEmpty())&#123; ListNode small = queue.poll(); preNode.next = small; if(small.next!=null) queue.add(small.next); //å°†æœ€å°å€¼èŠ‚ç‚¹åé¢çš„èŠ‚ç‚¹æ·»åŠ åˆ°é˜Ÿé‡Œä¸­ preNode = preNode.next; &#125; return preHead.next; &#125; å½’å¹¶åˆ†æ²» 1234567891011121314151617181920212223242526272829303132333435363738394041/* * @lc app=leetcode.cn id=23 lang=java * * [23] åˆå¹¶Kä¸ªæ’åºé“¾è¡¨ */// @lc code=start/** * Definition for singly-linked list. * public class ListNode &#123; * int val; * ListNode next; * ListNode(int x) &#123; val = x; &#125; * &#125; */class Solution &#123; public ListNode mergeKLists(ListNode[] lists) &#123; if (lists == null || lists.length == 0) return null; return merge(lists, 0, lists.length - 1); &#125; private ListNode merge(ListNode[] lists, int left, int right) &#123; if (left == right) return lists[left]; int mid = left + (right - left) / 2; ListNode l1 = merge(lists, left, mid); ListNode l2 = merge(lists, mid + 1, right); return mergeTwoLists(l1, l2); &#125; private ListNode mergeTwoLists(ListNode l1, ListNode l2) &#123; if (l1 == null) return l2; if (l2 == null) return l1; if (l1.val &lt; l2.val) &#123; l1.next = mergeTwoLists(l1.next, l2); return l1; &#125; else &#123; l2.next = mergeTwoLists(l1,l2.next); return l2; &#125; &#125; &#125; æ¶‰åŠçš„çŸ¥è¯†ç‚¹åŒ…æ‹¬äº†ä¼˜å…ˆçº§é˜Ÿåˆ—ã€æœ€å°å †ã€å½’å¹¶ä»¥åŠ åˆ†æ²»çš„æ€æƒ³ ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚javaä¸­çš„ä¼˜å…ˆçº§é˜Ÿåˆ—æ˜¯PriorityQueueï¼Œæ˜¯é€šè¿‡æœ€å°å †å®ç°çš„ æœ€å°å † å½’å¹¶ åˆ†æ²» ç¬¬5é¢˜ æœ€é•¿å›æ–‡å­ä¸²é¢˜ç›®ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚ ç¤ºä¾‹ç¤ºä¾‹ 1ï¼š 123è¾“å…¥: "babad"è¾“å‡º: "bab"æ³¨æ„: "aba" ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚ ç¤ºä¾‹ 2ï¼š 12è¾“å…¥: "cbbd"è¾“å‡º: "bb" æˆ‘çš„æ€è·¯ æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯å°†æºå­—ç¬¦ä¸²ç¿»è½¬ï¼Œç„¶ååˆ¤æ–­ç¿»è½¬åçš„å­—ç¬¦ä¸²å’Œæºå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œä½†æ˜¯è²Œä¼¼æœ‰ç‚¹é—®é¢˜ï¼Œä¾‹å¦‚accbbdccaç¿»è½¬åå˜ä¸ºaccdbbcca,æœ€é•¿å…¬å…±å­åºåˆ—ä¸ºaccï¼Œä½†æ˜¯æœ€é•¿å›æ–‡å­ä¸²ä¸ºbbã€‚ ä½†æ˜¯ä¸Šé¢çš„æ€è·¯æœ‰å¯å–ä¹‹å¤„ï¼Œå…¶å®é‡åˆ°å›æ–‡å­ä¸²æœ€æ ¸å¿ƒçš„é—®é¢˜æ˜¯ä»ä¸­é—´å¼€å§‹ä¾æ¬¡æ¯”è¾ƒå·¦å³æ˜¯å¦ç›¸ç­‰ï¼Œç›´åˆ°ä¸ç›¸ç­‰ï¼Œè¿”å›å·¦å³ç›¸ç­‰çš„å­ä¸²ï¼Œå½“ç„¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¯¥å›æ–‡å­ä¸²å¯èƒ½æ˜¯å•æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯åŒæ•°ï¼Œå•æ•°çš„è¯ï¼Œç›´æ¥æ¯”è¾ƒè¯¥æ•°çš„å·¦å³å³å¯ï¼ŒåŒæ•°åˆ™éœ€è¦å…ˆåˆ¤æ–­æœ€å¼€å§‹ä¸¤æ•°æ˜¯å¦ç›¸ç­‰ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦O(1) æˆ‘çš„ä»£ç ï¼ˆACï¼‰ç¾å…¶åæ›° ä¸­å¿ƒæ‰©å±•ç®—æ³• 12345678910111213141516171819202122232425262728package Dynamic_Programming.æœ€é•¿å›æ–‡å­ä¸²;public class Solution &#123; public static String longestPalindrome(String s) &#123; String res = ""; for(int i = 0;i &lt; s.length(); i++)&#123; String single = palindrome(s,i,i); String dou = palindrome(s,i,i+1); res = res.length() &gt; single.length() ? res : single; res = res.length() &gt; dou.length() ? res : dou; &#125; return res; &#125; private static String palindrome(String s, int left, int right) &#123; char[] s1 = s.toCharArray(); while(left &gt;= 0 &amp;&amp; right &lt; s.length() &amp;&amp; s1[left] == s1[right])&#123; left--; right++; &#125; return s.substring(left + 1,right); &#125; public static void main(String[] args) &#123; String res = longestPalindrome("aaabaacc"); System.out.println(res); &#125;&#125; æ­£ç¡®æ€è·¯å’Œä»£ç dp12345678910111213141516171819202122232425 private static String dp(String s)&#123; //æ¯æ¬¡éƒ½å¿˜è®°äº†è¾¹ç•Œå¤„ç† if(s == null || s.length() &lt; 1)&#123; return ""; &#125; char[] s1 = s.toCharArray(); int len = s1.length; int max = 1;// int over = 1; int start = 0; boolean res[][] = new boolean[len][len]; //æ­¤æ—¶çš„jæ˜¯æœ€å³è¾¹çš„æ•° //æ­¤æ—¶çš„iæ˜¯æœ€å·¦è¾¹çš„æ•° for(int j = 0; j &lt; s1.length; j++)&#123; for(int i = 0; i &lt;= j ;i++ )&#123; res[i][j] = (j &lt;= i + 2) ? s1[i] == s1[j] : res[i+1][j-1] &amp;&amp; s1[i] == s1[j]; if(res[i][j] &amp;&amp; max &lt; j - i + 1)&#123; max = j - i + 1; start = i; &#125; &#125; &#125; return s.substring(start,start + max); &#125; å…³é”®å°±æ˜¯æš´åŠ›æ³•ï¼š res[i][j] = (j &lt;= i + 2) ? s1[i] == s1[j] : res[i+1][j-1] &amp;&amp; s1[i] == s1[j]; ä¸Šé¢å°±æ˜¯dpæœ€ä¸ºå…³é”®çš„çŠ¶æ€è½¬ç§»é€’æ¨å¼ï¼Œä¸ºä»€ä¹ˆåœ¨dpä¸­ä¸ç”¨è€ƒè™‘å›æ–‡ä¸²é•¿åº¦çš„å¥‡å¶å‘¢ï¼Œå› ä¸ºæˆ‘çš„æ–¹æ³•ä¸­æ˜¯ä»ä¸­é—´æ‰©æ•£ï¼Œé‚£ä¹ˆå°±å¿…ç„¶éœ€è¦åˆ†ç±»ï¼Œè€Œdpæ˜¯ä»ä¸¤è¾¹å‘ä¸­é—´é ï¼Œè¦æ˜¯å›æ–‡ä¸²é¦–å°¾å¿…é¡»ç›¸åŒï¼Œè€Œå½“å›æ–‡ä¸²å°äºç­‰äº3æ—¶ï¼Œåªè¦æ¯”è¾ƒçš„é¦–å°¾ç›¸ç­‰ï¼Œåˆ™æ— éœ€å†æ¯”è¾ƒï¼Œè¿™æ ·å›æ–‡ä¸²çš„å¥‡å¶å°±ä¸éœ€è¦å†è€ƒè™‘äº†ã€‚ ç»†ç»†æƒ³æ¥ï¼Œå…¶å®dpå°±æ˜¯ä¸­å¿ƒæ‰©å±•æ–¹æ³•çš„é€†ï¼Œä¸€ä¸ªæ˜¯ä»ä¸­é—´å‘ä¸¤è¾¹å‘æ•£ï¼Œä¸€ä¸ªæ˜¯ä¸¤è¾¹å‘ä¸­é—´é æ‹¢ï¼ï¼ Tipsï¼š æ³¨æ„è¾¹ç•Œå¤„ç†ï¼Œå› ä¸º str.substring è¿™ä¸ªæ˜¯ä¸å…è®¸å­—ç¬¦ä¸²ä¸º null çš„ æ—¶é—´å¤æ‚åº¦ä¸ºO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(nÂ²) æ³¨æ„äºŒç»´æ•°ç»„çš„ç»´åº¦åˆ†åˆ«æ˜¯ä»£è¡¨é¦–å’Œå°¾ï¼Œå­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²å–å†³äºå­å­ä¸²å’Œé¦–å°¾æ˜¯å¦ç›¸ç­‰ï¼Œè¦æ³¨æ„base caseæ˜¯å­ä¸²ä¸º1ä¸ªå­—ç¬¦æ—¶ï¼Œå®ƒå¿…ä¸ºå›æ–‡å­ä¸² æœ€æ ¸å¿ƒçš„å°±æ˜¯çŠ¶æ€è½¬ç§»çš„æ¡ä»¶ï¼Œæ˜¯åˆ†ä¸ºä¸¤ç§å°æƒ…å†µï¼Œä¸€ç§æ˜¯å½“æºå­—ç¬¦ä¸²é•¿åº¦&lt;=3æ—¶ å½“æºå­—ç¬¦ä¸²å…ƒç´ ä¸ªæ•°ä¸º3ä¸ªï¼Œè‹¥å·¦å³è¾¹ç•Œç›¸ç­‰ï¼Œåˆ™å»æ‰ä»–ä»¬ï¼Œåªå‰©ä¸€ä¸ªå­—ç¬¦ï¼Œå¿…ä¸ºå›æ–‡ä¸² å½“æºå­—ç¬¦ä¸²å…ƒç´ ä¸ªæ•°ä¸º2ä¸ªï¼Œè‹¥å·¦å³è¾¹ç•Œç›¸ç­‰ï¼Œåˆ™å¿…ä¸ºå›æ–‡ä¸² æ­¤æ—¶è¯¥ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²å°±å–å†³äºé¦–å°¾ï¼Œå¦ä¸€ç§æƒ…å†µæ˜¯å½“æºå­—ç¬¦ä¸²é•¿åº¦&gt;3æ—¶ï¼Œåˆ™éœ€è¦åˆ¤æ–­é¦–å°¾æ˜¯å¦ç›¸ç­‰å¹¶ä¸”å»é™¤é¦–å°¾åçš„å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸² å½“å‘ç°æœ‰å›æ–‡ä¸²æ—¶ï¼Œåˆ™åˆ¤æ–­ä¸€ä¸‹é•¿åº¦æ˜¯å¦æ¯”ä¹‹å‰å‘ç°çš„é•¿ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è®°å½•é•¿åº¦ï¼Œå¹¶ä¸”å°†æœ€é•¿å›æ–‡ä¸²çš„èµ·å§‹ä½ç½®æ‹¿åˆ°ï¼Œæœ€åå…¨éƒ¨å¾ªç¯å®Œä¸€éåæˆªå–æœ€é•¿å›æ–‡ä¸²å³å¯ éƒ¨åˆ†çŸ¥è¯†ç‚¹è¡¥å……æš‚æ—  ç¬¬96é¢˜ ä¸åŒçš„äºŒå‰æœç´¢æ ‘é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 ... n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ ç¤ºä¾‹: 12345678910è¾“å…¥: 3è¾“å‡º: 5è§£é‡Š:ç»™å®š n = 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘: 1 3 3 2 1 \ / / / \ \ 3 2 1 1 3 2 / / \ \ 2 1 2 3 è§£æ³•åŸé—®é¢˜å¯æ‹†è§£ä¸ºå­é—®é¢˜çš„æ±‚è§£ã€‚ äºŒå‰æœç´¢æ ‘ï¼Œå¯ä»¥åˆ†åˆ«ä»¥ 1/2/3..n åšä¸ºæ ¹èŠ‚ç‚¹ã€‚æ‰€æœ‰æƒ…å†µç´¯åŠ èµ·æ¥ï¼Œä¹Ÿå°±å¾—åˆ°äº†æœ€ç»ˆç»“æœã€‚ res[n] è¡¨ç¤ºæ•´æ•°nç»„æˆçš„äºŒå‰æœç´¢æ ‘ä¸ªæ•°ã€‚å®ƒçš„å·¦å­æ ‘å¯ä»¥æœ‰0/1/2...n-1 ä¸ªèŠ‚ç‚¹ï¼Œå³å­æ ‘å¯ä»¥æœ‰n-1/n-2...0 ä¸ªèŠ‚ç‚¹ã€‚res[n] æ˜¯æ‰€æœ‰è¿™äº›æƒ…å†µçš„åŠ å’Œã€‚ æ—¶é—´å¤æ‚åº¦åˆ†æï¼šçŠ¶æ€æ€»å…±æœ‰ n ä¸ªï¼ŒçŠ¶æ€è½¬ç§»çš„å¤æ‚åº¦æ˜¯ O(n)ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(nÂ²)ã€‚ æ™®é€šçš„dp 123456789101112class Solution &#123; public int numTrees(int n) &#123; int[] dp = new int[n+1]; dp[0] = 1; for(int i=1;i&lt;=n;i++)&#123; for(int j =1;j&lt;=i;j++)&#123; dp[i] += dp[j-1] * dp[i-j]; &#125; &#125; return dp[n]; &#125;&#125; ä¸Šé¢çš„è§£æ³•æ˜æ˜¾è¿˜å¯ä»¥å¾—åˆ°æ”¹è¿›ï¼Œå› ä¸ºå·¦-å³å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ä¸º0,n-1,å’Œå·¦å³å­æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸ºn-1,0ã€‚è¿™ä¸¤è€…çš„äºŒå‰æœç´¢æ ‘çš„ç»“æœè‚¯å®šæ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦ç®—ä¸¤éã€‚ä½†æ˜¯åŒæ—¶è¦è€ƒè™‘åˆ°å¥‡å¶çš„é—®é¢˜ã€‚ å¦‚æœn=4ï¼Œé‚£ä¹ˆG(4) = G(0) G(3) + G(1) G(2) + G(2) G(1) + G(3) G(0) = 2[G(0) G(3) + G(1) G(2)] å¦‚æœn=5ï¼Œé‚£ä¹ˆG(5) = G(0) G(4) + G(1) G(3) + G(2) G(2) + G(3) G(1) + G(4) G(0) = 2[G(0) G(4) + G(1) G(3) ] + G(2) G(2) 12345678910111213141516171819202122232425262728class Solution &#123; public int numsTrees2(int n)&#123; if (n == 0) &#123; return 0; &#125; int[] dp = new int[n + 1]; dp[0] = 1; dp[1] = 1; // é•¿åº¦ä¸º 1 åˆ° n for (int i = 2; i &lt;= n; i++) &#123; // å°†ä¸åŒçš„æ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œåªéœ€è¦è€ƒè™‘åˆ° len for (int root = 1; root &lt;= i / 2; root++) &#123; int left = root - 1; // å·¦å­æ ‘çš„é•¿åº¦ int right = i - root; // å³å­æ ‘çš„é•¿åº¦ dp[i] += dp[left] * dp[right]; &#125; dp[i] *= 2;// åˆ©ç”¨å¯¹ç§°æ€§ä¹˜ 2 // è€ƒè™‘å¥‡æ•°çš„æƒ…å†µ if ((i &amp; 1) == 1) &#123; int root = (i &gt;&gt; 1) + 1; int left = root - 1; // å·¦å­æ ‘çš„é•¿åº¦ int right = i - root; // å³å­æ ‘çš„é•¿åº¦ dp[i] += dp[left] * dp[right]; &#125; &#125; return dp[n]; &#125;&#125; çŸ¥è¯†ç‚¹è¡¥å…… LeetCodeäºŒå‰æ ‘ä¸“é¢˜â€”â€”&gt;DFSå’ŒBFS ç¬¬95é¢˜ ä¸åŒçš„äºŒå‰æœç´¢æ ‘IIé¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œç”Ÿæˆæ‰€æœ‰ç”± 1 â€¦ n ä¸ºèŠ‚ç‚¹æ‰€ç»„æˆçš„äºŒå‰æœç´¢æ ‘ã€‚ ç¤ºä¾‹123456789è¾“å…¥: 3è¾“å‡º:[ [1,null,3,2], [3,2,null,1], [3,1,null,null,2], [2,1,3], [1,null,2,null,3]] è§£é‡Š1234567ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š 1 3 3 2 1 \ / / / \ \ 3 2 1 1 3 2 / / \ \ 2 1 2 3 è§£æ³•è¿™é¢˜å°±æ˜¯å…¸å‹çš„è¿ç”¨é€’å½’å»åšï¼Œæ˜ç¡®ä¸‰ä¸ªç‚¹ï¼š é€’å½’å‡ºå£ é€’å½’è¿”å›å€¼ ä¸€çº§é€’å½’éœ€è¦åšä»€ä¹ˆ é€’å½’å‡ºå£å½“æ ‘æ²¡æœ‰èŠ‚ç‚¹äº†ï¼Œé€’å½’ç»“æŸï¼Œæ€ä¹ˆè¡¨ç¤ºæ ‘æ²¡æœ‰èŠ‚ç‚¹å‘¢ï¼Œæ‰€ä»¥å°±éœ€æ–°å»ºä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°åŒ…æ‹¬èŠ‚ç‚¹çš„èµ·å§‹å’Œç»ˆæ­¢ã€‚ é€’å½’è¿”å›å€¼è¿”å›å€¼å¾ˆæ˜æ˜¾å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„å„ç§äºŒå‰æ ‘,æ˜¯ä¸€ä¸ªå«æ ¹èŠ‚ç‚¹çš„åˆ—è¡¨(æ ¹æ®é¢˜ç›®æœ€ç»ˆéœ€è¦å¾—åˆ°çš„)ã€‚ ä¸€çº§é€’å½’éœ€è¦åšä»€ä¹ˆè¿™ä¸ªæ˜¯æ¯”è¾ƒéš¾çš„åœ°æ–¹ï¼Œæˆ‘ä»¬æ¥ç¼•ç¼•ç°åœ¨æœ‰ä»€ä¹ˆï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œè¿™ä¸‰ä¸ªèŠ‚ç‚¹æˆ‘ä»¬å¯ä»¥éšæ„å°†ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å½“åšæ ¹èŠ‚ç‚¹ï¼Œç„¶åå»ç»„åˆå¾—åˆ°æ–°çš„æœç´¢äºŒå‰æ ‘ã€‚æ³¨æ„ï¼ï¼ï¼æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸€çº§é€’å½’å°±å¯ä»¥äº†ï¼Œæ— éœ€å…³æ³¨å¤ªå¤šï¼Œæˆ‘ä»¬ç°åœ¨æ‰‹ä¸Šå‡è®¾å°±ä¸‰ä¸ªèŠ‚ç‚¹åˆ†åˆ«æ˜¯1,2,3ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯éå†1ï¼Œ2ï¼Œ3ï¼Œåˆ†åˆ«å°†å…¶ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå‡è®¾ä»¥2ä¸ºæ ¹èŠ‚ç‚¹ï¼Œ1ä»£è¡¨å°±æ˜¯å·¦å­æ ‘è¿”å›çš„æ ¹èŠ‚ç‚¹åˆ—è¡¨ï¼Œ3ä»£è¡¨çš„æ˜¯å³å­æ ‘è¿”å›çš„æ ¹èŠ‚ç‚¹åˆ—è¡¨ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯éå†å·¦å³å­æ ‘çš„æ ¹èŠ‚ç‚¹åˆ—è¡¨ï¼Œåˆ†åˆ«å°†å…¶æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼Œç„¶åå°†è¯¥æ ¹èŠ‚ç‚¹æ·»åŠ è‡³åˆ—è¡¨ï¼Œè¿”å›åˆ—è¡¨å³å¯ã€‚ ä»£ç 12 éƒ¨åˆ†çŸ¥è¯†ç‚¹è¡¥å……æ˜å¤©ç»§ç»­è¿›å†›äºŒå‰æ ‘éƒ¨åˆ† åŒæ—¶å¤ä¹ å¹¶ä¸”æ¡å›æ¥åŸå…ˆè¦å®Œæˆçš„é›†åˆé‚£éƒ¨åˆ†çš„æºç åˆ†æï¼ï¼ˆ2020.1.1ï¼‰ æ¨è¾‰ä¸‰è§’(118)Tip:ä»Šå¤©ç¬¬ä¸€æ¬¡å†™é¢˜è§£ï¼Œè¿˜æ˜¯éå¸¸å¼€å¿ƒçš„ï¼ï¼ï¼ï¼ï¼ ä»Šå¤©é‡ç‚¹å°±æ˜¯æŒæ¡äº†ä¸€ä¸‹é€’å½’çš„æ€æƒ³ï¼Œæœ€é‡è¦çš„ä¸‰ç‚¹ï¼ï¼ï¼ï¼ï¼ é€’å½’æ€æƒ³ æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ æ‰¾è¿”å›å€¼ æœ¬åœ°é€’å½’éœ€è¦å¦‚ä½•æ“ä½œ ä¸»è¦å‚è€ƒï¼šé€’å½’ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRows è¡Œã€‚ åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ ç¤ºä¾‹: 123456789è¾“å…¥: 5è¾“å‡º:[ [1], [1,1], [1,2,1], [1,3,3,1], [1,4,6,4,1]] æ€è·¯æ–¹æ³•ä¸€ï¼šé€’å½’é€’å½’æ–¹æ³•æ€»è€Œè¨€ä¹‹å°±æ˜¯æŠ“ä½ä¸‰ç‚¹ï¼š æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ æ‰¾è¿”å›å€¼ ä¸€æ¬¡é€’å½’éœ€è¦å¦‚ä½•æ“ä½œ æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶å’±æ¥åˆ†æä¸€ä¸‹é¢˜ç›®ï¼Œé€’å½’åˆ°numRows = 0 æ—¶æˆ–è€…numRows = 1æ—¶éƒ½å¯ä»¥ç»ˆæ­¢ï¼Œå› ä¸ºç¬¬ä¸€è¡Œæ¯”è¾ƒç‰¹æ®Šï¼Œåªæœ‰ä¸€ä¸ª1,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å…¶å½“æˆæ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå½“numRows = 1æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»ˆæ­¢é€’å½’å‘ä¸‹è¿”å›å€¼äº†ã€‚ æ‰¾è¿”å›å€¼æ‰¾è¿”å›å€¼ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦åˆ†æä¸‹ï¼Œé¢˜ç›®è¦æˆ‘ä»¬æ±‚çš„æ˜¯æ•´ä¸ªæ¨è¾‰ä¸‰è§’çš„æ‰€æœ‰æ•°ï¼Œé‚£æœ€åé€’å½’å¾—åˆ°çš„åº”è¯¥å°±æ˜¯ List&lt;List&lt;Integer&gt;&gt; (é¢˜ç›®ç»™å®š)ï¼Œä¹Ÿå°±æ˜¯æ¯é€’å½’å®Œä¸€å±‚ï¼Œæˆ‘ä»¬å°±æ›´æ–°å®ŒListå¹¶è¿”å›å³å¯ï¼Œæœ€åé€’å½’å®Œæˆå°±æ˜¯æˆ‘ä»¬è¦çš„ç­”æ¡ˆã€‚ ä¸€æ¬¡é€’å½’éœ€è¦å¦‚ä½•æ“ä½œé€’å½’çš„éš¾ç‚¹å°±åœ¨è¿™é‡Œï¼Œå¾ˆå¤šç«¥é´åˆšå­¦é€’å½’æ—¶ï¼Œæ€»æ˜¯åœ¨è¿™é‡Œææ™•ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸€æ¬¡é€’å½’å³å¯ï¼Œå› ä¸ºæ¯ä¸€å±‚é€’å½’çš„è¿‡ç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°æœ€ä¸Šå±‚çš„é€’å½’çš„è§„å¾‹ï¼Œå°±å¯ä»¥äº†ã€‚ å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬åªéœ€è¦åˆ†æç¬¬äºŒè¡Œåˆ°ç¬¬ä¸‰è¡Œè¿™çº§é€’å½’å³å¯ï¼å…ˆä¸Šä»£ç ï¼ é€’å½’ ä»£ç 12345678910111213141516171819202122232425262728293031class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; //å­˜å‚¨è¦è¿”å›çš„æ¨è¾‰ä¸‰è§’ List&lt;List&lt;Integer&gt;&gt; dg = new ArrayList&lt;&gt;(); //è‹¥0è¡Œï¼Œåˆ™è¿”å›ç©º if(numRows == 0)&#123; return dg; &#125; //é€’å½’å‡ºå£ï¼Œè¿™æ˜¯ç¬¬ä¸€æ­¥ï¼æ‰¾åˆ°å‡ºå£ if(numRows == 1)&#123; dg.add(new ArrayList&lt;&gt;()); dg.get(0).add(1); return dg; &#125; //é€’å½’ï¼Œæ³¨æ„è¿”å›å€¼ï¼ï¼ï¼è¿™æ˜¯ç¬¬äºŒæ­¥ dg = generate(numRows-1); //ä¸€çº§é€’å½’è¦åšå•¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ç¬¬äºŒè¡Œåˆ°ç¬¬ä¸‰è¡Œéœ€è¦åšå•¥ //é¦–å…ˆæ˜¯è¦ç”³è¯·ä¸€ä¸ªlistæ¥å­˜å‚¨ç¬¬ä¸‰è¡Œï¼Œç„¶åé€šè¿‡ç¬¬äºŒè¡Œå¾—åˆ°ç¬¬ä¸‰è¡Œ //ç¬¬ä¸‰è¡Œçš„é¦–å°¾ä¸º1æ˜¯ç¡®å®šäº†çš„ï¼Œç„¶åå°±æ˜¯ä¸­é—´çš„æ•°å¦‚ä½•å¾—åˆ° //é€šè¿‡è§‚å¯Ÿå¾ˆå®¹æ˜“æ‹¿åˆ°forå¾ªç¯é‡Œé¢çš„å¼å­ //æœ€ååˆ«å¿˜äº†è¿”å›å€¼ï¼ï¼ï¼ List&lt;Integer&gt; row = new ArrayList&lt;&gt;(); row.add(1); for(int j = 1;j &lt; numRows - 1;j++)&#123; row.add(dg.get(numRows-2).get(j-1) + dg.get(numRows-2).get(j)); &#125; row.add(1); dg.add(row); return dg; &#125;&#125; æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’æ€è·¯å…¶å®å·®ä¸å¤šï¼Œåªæ˜¯ä¸€ä¸ªé€’å½’ï¼Œä¸€ä¸ªå˜æˆäº†è¿­ä»£è€Œï¼Œä»…æ­¤è€Œå·²ï¼ 1234567891011121314151617181920212223class Solution &#123; public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) &#123; List&lt;List&lt;Integer&gt;&gt; dp = new ArrayList&lt;&gt;(); if(numRows == 0)&#123; return dp; &#125; dp.add(new ArrayList&lt;&gt;()); dp.get(0).add(1); //æ³¨æ„è¿™é‡Œçš„ i æ˜¯æŒ‡è¡Œæ•°ï¼Œä½†æ˜¯dpæ˜¯ä»0å¼€å§‹çš„ //æ‰€ä»¥preRowæ˜¯i-2 for(int i = 2;i &lt;= numRows;i++)&#123; List&lt;Integer&gt; row = new ArrayList&lt;&gt;(); List&lt;Integer&gt; preRow = dp.get(i-2); row.add(1); for(int j = 1;j &lt; i-1;j++)&#123; row.add(preRow.get(j) + preRow.get(j-1)); &#125; row.add(1); dp.add(row); &#125; return dp; &#125;&#125; å•è¯æ‹†åˆ†(139)123456789101112131415class Solution &#123; public boolean wordBreak(String s, List&lt;String&gt; wordDict) &#123; boolean[] dp = new boolean[s.length()+1]; dp[0] = true; for(int i = 1;i &lt;= s.length();i++)&#123; for(int j = 0;j &lt; i;j++)&#123; if(dp[j] == true &amp;&amp; wordDict.contains(s.substring(j,i)))&#123; dp[i] = true; break; &#125; &#125; &#125; return dp[s.length()]; &#125;&#125; è§£ç æ–¹æ³•(91)é¢˜ç›®æè¿°1234567ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œäº†ç¼–ç ï¼š'A' -&gt; 1'B' -&gt; 2...'Z' -&gt; 26ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„éç©ºå­—ç¬¦ä¸²ï¼Œè¯·è®¡ç®—è§£ç æ–¹æ³•çš„æ€»æ•°ã€‚ ç¤ºä¾‹1234567891011ç¤ºä¾‹ 1:è¾“å…¥: "12"è¾“å‡º: 2è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º "AB"ï¼ˆ1 2ï¼‰æˆ–è€… "L"ï¼ˆ12ï¼‰ã€‚ç¤ºä¾‹ 2:è¾“å…¥: "226"è¾“å‡º: 3è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º "BZ" (2 26), "VF" (22 6), æˆ–è€… "BBF" (2 2 6) ã€‚ æ€è·¯æ‰€æœ‰å¯ä»¥ç”¨dpçš„ï¼ŒåŸºæœ¬éƒ½æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š é€’å½’ â€”â€”-&gt; å¸¦å¤‡å¿˜å½•çš„è‡ªé¡¶å‘ä¸‹ â€”â€”-&gt; dp é€’å½’1234567891011121314151617181920212223242526272829class Solution &#123; public int numDecodings(String s) &#123; if(s.length() == 0 || s == null)&#123; return 0; &#125; return numDecodingsByRecrusion(s,0,s.length()-1); &#125; private int numDecodingsByRecrusion(String s,int start,int end)&#123; //1.é€’å½’å‡ºå£ï¼šæ•°å­—ä¸ºæœ€åä¸€ä¸ªæ•°å­—æ—¶å³ç»“æŸé€’å½’ //2.è¿”å›å€¼ï¼šè¿”å›è§£ç æ–¹æ³•æ•° //3.ä¸€æ¬¡é€’å½’çš„è¿‡ç¨‹ if(start &gt; end)&#123; return 1; &#125; if(s.charAt(start) == '0')&#123; return 0; &#125; if(start == end)&#123; return 1; &#125; int num1 = numDecodingsByRecrusion(s,start+1,end); int num2 = 0; if((s.charAt(start) - '0') * 10 + (s.charAt(start+1)-'0') &lt;= 26)&#123; num2 = numDecodingsByRecrusion(s,start+2,end); &#125; return num1+num2; &#125;&#125; å¸¦å¤‡å¿˜å½•çš„è‡ªé¡¶å‘ä¸‹123456789101112131415161718192021222324252627282930313233343536class Solution &#123; public int numDecodings(String s) &#123; if(s.length() == 0 || s == null)&#123; return 0; &#125; // int res = numDecodingsByRecrusion(s,0,s.length()-1); // int res = numDecodingsByDp(s); HashMap&lt;Integer,Integer&gt; memo = new HashMap&lt;&gt;(); return numDecodingsByMemo(s,0,s.length()-1,memo); &#125; private int numDecodingsByMemo(String s, int start, int end, HashMap&lt;Integer, Integer&gt; memo)&#123; //1.é€’å½’å‡ºå£ï¼šæ•°å­—ä¸ºæœ€åä¸€ä¸ªæ•°å­—æ—¶å³ç»“æŸé€’å½’ //2.è¿”å›å€¼ï¼šè¿”å›è§£ç æ–¹æ³•æ•° //3.ä¸€æ¬¡é€’å½’çš„è¿‡ç¨‹ if(start &gt; end)&#123; return 1; &#125; if(s.charAt(start) == '0')&#123; return 0; &#125; if(start == end)&#123; return 1; &#125; if(memo.containsKey(start))&#123; return memo.get(start); &#125; int num1 = numDecodingsByMemo(s,start+1,end,memo); int num2 = 0; if((s.charAt(start) - '0') * 10 + (s.charAt(start+1)-'0') &lt;= 26)&#123; num2 = numDecodingsByMemo(s,start+2,end,memo); &#125; memo.put(start,num1+num2); return num1+num2; &#125;&#125; dpæ³¨æ„ï¼šéš¾ç‚¹åœ¨å¤„ç†&#39;0&#39;,&#39;00&#39;ç­‰è¾¹ç•Œé—®é¢˜ï¼å°¤å…¶æ˜¯åœ¨dp[n]ã€dp[n-1]çš„èµ‹å€¼é—®é¢˜ä¸Šæœ‰ä¸€ç‚¹éš¾åº¦ï¼Œè€Œä¸”ï¼Œè¿™ä¸ªç”±äºæ˜¯å€’åºçš„ï¼Œè·Ÿå¹³æ—¶å¤„ç†çš„dpé—®é¢˜ç•¥å¾®æœ‰äº›è®¸ä¸åŒï¼Œä»¥å‰æ˜¯dp[1]å¯¹åº”ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œè¿™é‡Œæ˜¯dp[0]å¯¹åº”ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ 123456789101112131415161718192021222324252627class Solution &#123; public int numDecodings(String s) &#123; int len = s.length(); int[] dp = new int[len + 1]; dp[len] = 1; //å°†é€’å½’æ³•çš„ç»“æŸæ¡ä»¶åˆå§‹åŒ–ä¸º 1 //æœ€åä¸€ä¸ªæ•°å­—ä¸ç­‰äº 0 å°±åˆå§‹åŒ–ä¸º 1 if (s.charAt(len - 1) != '0') &#123; dp[len - 1] = 1; &#125; for (int i = len - 2; i &gt;= 0; i--) &#123; //å½“å‰æ•°å­—æ—¶ 0 ï¼Œç›´æ¥è·³è¿‡ï¼Œ0 ä¸ä»£è¡¨ä»»ä½•å­—æ¯ if (s.charAt(i) == '0') &#123; continue; &#125; int ans1 = dp[i + 1]; //åˆ¤æ–­ä¸¤ä¸ªå­—æ¯ç»„æˆçš„æ•°å­—æ˜¯å¦å°äºç­‰äº 26 int ans2 = 0; int ten = (s.charAt(i) - '0') * 10; int one = s.charAt(i + 1) - '0'; if (ten + one &lt;= 26) &#123; ans2 = dp[i + 2]; &#125; dp[i] = ans1 + ans2; &#125; return dp[0]; &#125;&#125; é›¶é’±å…‘æ¢(322)ä¸€ç»´dpæ•°ç»„ï¼Œç®€å•çš„ä¸€æ‰¹â€¦ 12345678910111213141516class Solution &#123; public int coinChange(int[] coins, int amount) &#123; //éå¸¸æ˜æ˜¾çš„ä½¿ç”¨dp int[] dp = new int[amount+1]; //ä»£è¡¨çš„æ˜¯å¯¹åº”é’±æ•°æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•° Arrays.fill(dp,amount+1); dp[0] = 0; for(int i = 0;i &lt;= amount;i++)&#123; for(int j = 0;j &lt; coins.length;j++)&#123; if(coins[j] &lt;= i)&#123; dp[i] = Math.min(dp[(i-coins[j])]+1,dp[i]); &#125; &#125; &#125; return dp[amount] == amount+1 ? -1:dp[amount]; &#125;&#125; å›æ–‡å­ä¸²(647)æ€è·¯åŒç¬¬5é¢˜ï¼ï¼ï¼ï¼ 12345678910111213141516class Solution &#123; public int countSubstrings(String s) &#123; int res = 0; boolean dp[][] = new boolean[s.length()][s.length()]; for (int i = 0; i &lt; s.length(); i++) &#123; for (int j = 0; j &lt;= i; j++) &#123; //dpçš„å‡ºå£å°±æ˜¯é•¿åº¦åœ¨3ä»¥å†…(åŒ…æ‹¬3),æ³¨æ„jä¸ºå¼€å§‹ï¼Œiä¸ºç»“æŸ if (s.charAt(j) == s.charAt(i) &amp;&amp; ((i - j &lt;= 2) || dp[j + 1][i - 1])) &#123; dp[j][i] = true; res++; &#125; &#125; &#125; return res; &#125;&#125; 142. ç¯å½¢é“¾è¡¨ IIè¿™ä¸ªé¢˜ç¿»è¯‘çš„ä¸€å¨å±â€¦é¢˜ç›®æ•´æ¥æ•´å»ä¸çŸ¥é“åœ¨è¯´ä»€ä¹ˆï¼ŒçœŸçš„æ˜¯æœäº†è€¶ï¼ å…¶å®é¢˜ç›®å°±ä¸€ä¸ªæ„æ€ï¼Œç»™å®šä¸€ä¸ªæœ‰ç¯é“¾è¡¨ï¼Œè¦ä½ è¿”å›ç¯çš„å…¥å£ï¼ æ€è·¯è¿™ç§æ€è·¯éƒ½è¦è®²çƒ‚äº†å§..å°±æ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œç¬¬ä¸€æ¬¡ç›¸é‡åï¼Œå¿«æŒ‡é’ˆç»§ç»­èµ°ï¼Œæ…¢æŒ‡é’ˆå›åˆ°èµ·ç‚¹ï¼Œç¬¬äºŒæ¬¡ç›¸é‡çš„åœ°æ–¹å°±æ˜¯ç¯çš„èµ·ç‚¹ã€‚ ä»£ç ]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
        <tag>Leetcode</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoæäº¤æ–‡ç« å‡ºç°é—®é¢˜]]></title>
    <url>%2F2019%2F10%2F09%2F%E8%A7%A3%E5%86%B3hexo%E6%97%A0%E6%B3%95git%E4%B8%8A%E7%9A%84%E9%97%AE%E9%A2%98.html</url>
    <content type="text"><![CDATA[é—®é¢˜è®°å½•hexoå‘å¸ƒæ–‡ç« æŠ¥é”™è®°å½•ï¼šUnhandled rejection TypeError: Cannot set property â€˜lastIndexâ€™ of undefinedå‘å¸ƒæ–‡ç« æ—¶å‡ºç°é—®é¢˜ï¼ŒåŒæ—¶æŠ¥çš„é”™è¿˜æœ‰ï¼šxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun è§£å†³æªæ–½å‘ç°æ˜¯gitå‡ºç°é—®é¢˜ï¼ï¼ï¼ æ§åˆ¶ç«¯è¾“å…¥ï¼š 1brew install git 1xcode-select --install åœ¨xcode-selectæŒ‡ä»¤å®‰è£…å¥½ä¹‹åï¼Œå†å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹gitæŒ‡ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼š 1git -h å¯ä»¥æ­£ç¡®è¾“å‡ºç›¸åº”çš„å¸®åŠ©ä¿¡æ¯ï¼Œæ„å‘³ç€gitå·²ç»è¢«ä¿®å¤å¥½äº†ã€‚ åŸå› æ›´æ–°äº†Catalinaå¯¼è‡´çš„ï¼Œæ–°ç³»ç»Ÿè¾£é¸¡å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å–œå¤§æ™®å¥”]]></title>
    <url>%2F2019%2F10%2F09%2F%E5%96%9C%E5%A4%A7%E6%99%AE%E5%A5%94.html</url>
    <content type="text"><![CDATA[å¼€å¿ƒå“‡ï¼ï¼ï¼ç»ˆäºå†™åˆ°10wå­—äº†ï¼ï¼ï¼ç»§ç»­åŠ æ²¹ï¼ï¼]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>happy </tag>
        <tag>happy day</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayListæºç åˆ†æ]]></title>
    <url>%2F2019%2F10%2F07%2FArrayList%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html</url>
    <content type="text"><![CDATA[ArrayList æºç åˆ†æï¼ˆè½¬è½½ï¼‰ä¸çŸ¥é“å„ä½æœ‹å‹ï¼Œè¿˜è®°å¾—å¼€å·¥å‰åˆ¶å®šçš„å­¦ä¹ ç›®æ ‡ä¹ˆï¼Ÿ æœ‰æ²¡æœ‰ä¸€ç›´ä¸ºäº†é‚£ä¸ªç›®æ ‡åºŸå¯å¿˜é£Ÿå‘¢ï¼Ÿç»§ ææ‡‚ Java å†…éƒ¨ç±» åå¼€å§‹æ¢ç´¢æ€»ç»“ Java é›†åˆæ¡†æ¶æºç çš„çŸ¥è¯†ï¼Œå¸Œæœ›èƒ½ç»™è‡ªå·±å¤¯å®åŸºç¡€ï¼Œä¹Ÿå¸Œæœ›èƒ½ä¸ºè‡ªå·±å®ç°ç›®æ ‡æ›´è¿‘ä¸€æ­¥ã€‚ ArrayList æºç åˆ†ææ€è·¯ArrayList æ˜¯æˆ‘ä»¬ App å¼€å‘ä¸­å¸¸ç”¨çš„ Java é›†åˆç±»ï¼Œä»å­¦ä¹  Java å¼€å§‹æˆ‘ä»¬åŸºæœ¬ä¸Šå°±å¯¹å®ƒå¤©å¤©ç›¸è§äº†ï¼Œä½†æ˜¯é€šè¿‡æ¢ç´¢ArrayList æºç ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠå®ƒä»æ™®é€šæœ‹å‹å˜æˆçŸ¥æ ¹çŸ¥åº•çš„è€æœ‹å‹,æœ¬æ–‡å°†ä»ä»¥ä¸‹å‡ éƒ¨åˆ†å¼€å§‹åˆ†æ ArrayListï¼š ArrayList æ¦‚è¿° ArrayList çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª ArrayList çš„æ–¹æ³• ArrayList çš„æ·»åŠ å…ƒç´ çš„æ–¹æ³•ï¼Œ ä»¥åŠ ArrayList çš„æ‰©å®¹æœºåˆ¶ ArrayList çš„åˆ é™¤å…ƒç´ çš„å¸¸ç”¨æ–¹æ³• ArrayList çš„ æ”¹æŸ¥å¸¸ç”¨æ–¹æ³• ArrayList çš„ toArray æ–¹æ³• ArrayList çš„éå†æ–¹æ³•ï¼Œä»¥åŠå¸¸è§çš„é”™è¯¯æ“ä½œå³äº§ç”Ÿé”™è¯¯æ“ä½œçš„åŸå›  ArrayList æ¦‚è¿°ArrayListçš„åŸºæœ¬ç‰¹ç‚¹ ArrayList åº•å±‚æ˜¯ä¸€ä¸ªåŠ¨æ€æ‰©å®¹çš„æ•°ç»„ç»“æ„ å…è®¸å­˜æ”¾ï¼ˆä¸æ­¢ä¸€ä¸ªï¼‰ null å…ƒç´  å…è®¸å­˜æ”¾é‡å¤æ•°æ®ï¼Œå­˜å‚¨é¡ºåºæŒ‰ç…§å…ƒç´ çš„æ·»åŠ é¡ºåº ArrayList å¹¶ä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚å¦‚æœé›†åˆçš„å¢åˆ æ“ä½œéœ€è¦ä¿è¯çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ CopyOnWriteArrayList æˆ–è€…ä½¿ç”¨ collections.synchronizedList(List l) å‡½æ•°è¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ArrayListç±». ArrayList çš„ç»§æ‰¿å…³ç³»12public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable ä» ArrayList çš„ç»§æ‰¿å…³ç³»æ¥çœ‹ï¼Œ ArrayList ç»§æ‰¿è‡ª AbstractList ï¼Œå®ç°äº†List\, RandomAccess, Cloneable, java.io.Serializable æ¥å£ã€‚ å…¶ä¸­ AbstractListå’Œ List æ˜¯è§„å®šäº† ArrayList ä½œä¸ºä¸€ä¸ªé›†åˆæ¡†æ¶å¿…é¡»å…·å¤‡çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼ŒArrayList æœ¬èº«è¦†å†™äº†åŸºç±»å’Œæ¥å£çš„å¤§éƒ¨åˆ†æ–¹æ³•ï¼Œè¿™å°±åŒ…å«æˆ‘ä»¬è¦åˆ†æçš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚ ArrayList å®ç° RandomAccess æ¥å£æ ‡è¯†ç€å…¶æ”¯æŒéšæœºå¿«é€Ÿè®¿é—®ï¼ŒæŸ¥çœ‹æºç å¯ä»¥çŸ¥é“ RandomAccess å…¶å®åªæ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œæ ‡è¯†æŸä¸ªç±»æ‹¥æœ‰éšæœºå¿«é€Ÿè®¿é—®çš„èƒ½åŠ›ï¼Œé’ˆå¯¹ ArrayList è€Œè¨€é€šè¿‡ get(index) å»è®¿é—®å…ƒç´ å¯ä»¥è¾¾åˆ° O(1) çš„æ—¶é—´å¤æ‚åº¦ã€‚æœ‰äº›é›†åˆç±»ä¸æ‹¥æœ‰è¿™ç§éšæœºå¿«é€Ÿè®¿é—®çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ LinkedList å°±æ²¡æœ‰å®ç°è¿™ä¸ªæ¥å£ã€‚ ArrayList å®ç° Cloneable æ¥å£æ ‡è¯†ç€ä»–å¯ä»¥è¢«å…‹éš†/å¤åˆ¶ï¼Œå…¶å†…éƒ¨å®ç°äº† clone æ–¹æ³•ä¾›ä½¿ç”¨è€…è°ƒç”¨æ¥å¯¹ ArrayList è¿›è¡Œå…‹éš†ï¼Œä½†å…¶å®ç°åªé€šè¿‡ Arrays.copyOf å®Œæˆäº†å¯¹ ArrayList è¿›è¡Œã€Œæµ…æ‹·è´ã€ï¼Œä¹Ÿå°±æ˜¯ä½ æ”¹å˜ ArrayList cloneåçš„é›†åˆä¸­çš„å…ƒç´ ï¼Œæºé›†åˆä¸­çš„å…ƒç´ ä¹Ÿä¼šæ”¹å˜ï¼Œå¯¹äºæ·±æµ…æ‹·è´æˆ‘å·²ç»å•ç‹¬æ•´ç†ä¸€ç¯‡æ–‡ç« æ¥è®²è¿°è¿™é‡Œä¸å†è¿‡å¤šçš„è¯´ã€‚ å¯¹äº java.io.Serializable æ ‡è¯†ç€é›†åˆå¯è¢«è¢«åºåˆ—åŒ–ã€‚ æˆ‘ä»¬å‘ç°äº†ä¸€äº›æœ‰è¶£çš„äº‹æƒ…ï¼Œé™¤äº† List\ ä»¥å¤–ï¼ŒArrayList å®ç°çš„æ¥å£éƒ½æ˜¯æ ‡è¯†æ¥å£ï¼Œæ ‡è¯†ç€è¿™ä¸ªç±»å…·æœ‰æ€æ ·çš„ç‰¹ç‚¹ï¼Œçœ‹èµ·æ¥æ›´åƒæ˜¯ä¸€ä¸ªå±æ€§ã€‚ ArrayList çš„æ„é€ æ–¹æ³•åœ¨è¯´æ„é€ æ–¹æ³•ä¹‹å‰æˆ‘ä»¬è¦å…ˆçœ‹ä¸‹ä¸æ„é€ å‚æ•°æœ‰å…³çš„å‡ ä¸ªå…¨å±€å˜é‡ï¼š 12345678910111213141516171819202122/*** ArrayList é»˜è®¤çš„æ•°ç»„å®¹é‡*/ private static final int DEFAULT_CAPACITY = 10;/*** è¿™æ˜¯ä¸€ä¸ªå…±äº«çš„ç©ºçš„æ•°ç»„å®ä¾‹ï¼Œå½“ä½¿ç”¨ ArrayList(0) æˆ–è€… ArrayList(Collection&lt;? extends E&gt; c) * å¹¶ä¸” c.size() = 0 çš„æ—¶å€™è®² elementData æ•°ç»„è®²æŒ‡å‘è¿™ä¸ªå®ä¾‹å¯¹è±¡ã€‚*/ private static final Object[] EMPTY_ELEMENTDATA = &#123;&#125;;/*** å¦ä¸€ä¸ªå…±äº«ç©ºæ•°ç»„å®ä¾‹ï¼Œå†ç¬¬ä¸€æ¬¡ add å…ƒç´ çš„æ—¶å€™å°†ä½¿ç”¨å®ƒæ¥åˆ¤æ–­æ•°ç»„å¤§å°æ˜¯å¦è®¾ç½®ä¸º DEFAULT_CAPACITY*/ private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;/*** çœŸæ­£è£…è½½é›†åˆå…ƒç´ çš„åº•å±‚æ•°ç»„ * è‡³äº transient å…³é”®å­—è¿™é‡Œç®€å•è¯´ä¸€å¥ï¼Œè¢«å®ƒä¿®é¥°çš„æˆå‘˜å˜é‡æ— æ³•è¢« Serializable åºåˆ—åŒ– * æœ‰å…´è¶£çš„å¯ä»¥å»ç½‘ä¸ŠæŸ¥ç›¸å…³èµ„æ–™*/ transient Object[] elementData; // non-private to simplify nested class access å¯¹äºä¸Šè¿°å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨æ³¨é‡Šä¸­ç®€å•çš„è¯´æ˜ï¼Œå¯¹äºä»–ä»¬å…·ä½“æœ‰ä»€ä¹ˆä½œç”¨ï¼Œåœ¨ä¸‹è¾¹åˆ†ææ„é€ æ–¹æ³•å’Œæ‰©å®¹æœºåˆ¶çš„æ—¶å€™å°†ä¼šæ›´è¯¦ç»†çš„è®²è§£ã€‚ ArrayList ä¸€å…±ä¸‰ç§æ„é€ æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆä»æ— å‚çš„æ„é€ æ–¹æ³•æ¥å¼€å§‹ï¼š æ— å‚æ„é€ æ–¹æ³•123456/*** æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸º10çš„ç©ºåˆ—è¡¨ã€‚*/ public ArrayList() &#123; this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA; &#125; è¿™æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œå…¶å†…éƒ¨å®ç°åªæ˜¯å°† elementData æŒ‡å‘äº†æˆ‘ä»¬åˆšæ‰è®²å¾— DEFAULTCAPACITY_EMPTY_ELEMENTDATA è¿™ä¸ªç©ºæ•°ç»„ï¼Œè¿™ä¸ªç©ºæ•°ç»„çš„å®¹é‡æ˜¯ 0ï¼Œ ä½†æ˜¯æºç æ³¨é‡Šå´è¯´è¿™æ˜¯æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸º10çš„ç©ºåˆ—è¡¨ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿå…¶å®åœ¨é›†åˆè°ƒç”¨ add æ–¹æ³•æ·»åŠ å…ƒç´ çš„æ—¶å€™å°†ä¼šè°ƒç”¨ ensureCapacityInternal æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•å†…éƒ¨åˆ¤æ–­äº†ï¼š 123if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);&#125; å¯è§ï¼Œå¦‚æœé‡‡ç”¨æ— å‚æ•°æ„é€ æ–¹æ³•çš„æ—¶å€™ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ è‚¯å®šèµ°è¿› if åˆ¤æ–­ä¸­ minCapacity å°†è¢«èµ‹å€¼ä¸º 10ï¼Œæ‰€ä»¥æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸º10çš„ç©ºåˆ—è¡¨ ä¹Ÿå°±æ˜¯è¿™ä¸ªæ„æ€ã€‚ æŒ‡å®šåˆå§‹å®¹é‡çš„æ„é€ æ–¹æ³•12345678910111213141516/*** æ„é€ ä¸€ä¸ªå…·æœ‰æŒ‡å®šåˆå§‹å®¹é‡çš„ç©ºåˆ—è¡¨ã€‚* @param åˆå§‹å®¹é‡ * @throws å¦‚æœå‚æ•°å°äº 0 å°†ä¼šæŠ›å‡º IllegalArgumentException å‚æ•°ä¸åˆæ³•å¼‚å¸¸ */ public ArrayList(int initialCapacity) &#123; if (initialCapacity &gt; 0) &#123; this.elementData = new Object[initialCapacity]; &#125; else if (initialCapacity == 0) &#123; this.elementData = EMPTY_ELEMENTDATA; &#125; else &#123; throw new IllegalArgumentException("Illegal Capacity: "+ initialCapacity); &#125;&#125; å¦‚æœæˆ‘ä»¬é¢„å…ˆçŸ¥é“ä¸€ä¸ªé›†åˆå…ƒç´ çš„å®¹çº³çš„ä¸ªæ•°çš„æ—¶å€™æ¨èä½¿ç”¨è¿™ä¸ªæ„é€ æ–¹æ³•ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸ªFragmentPagerAdapter ä¸€å…±éœ€è¦è£… 15 ä¸ª Fragment ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨æ„é€ é›†åˆçš„æ—¶å€™ç”Ÿæˆä¸€ä¸ªåˆå§‹å®¹é‡ä¸º 15 çš„ä¸€ä¸ªé›†åˆã€‚æœ‰äººä¼šè®¤ä¸º ArrayList è‡ªèº«å…·æœ‰åŠ¨æ€æ‰©å®¹çš„æœºåˆ¶ï¼Œæ— éœ€è¿™ä¹ˆéº»çƒ¦ï¼Œä¸‹é¢æˆ‘ä»¬è®²è§£æ‰©å®¹æœºåˆ¶çš„æ—¶å€™æˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œæ¯æ¬¡æ‰©å®¹æ˜¯éœ€è¦æœ‰ä¸€å®šçš„å†…å­˜å¼€é”€çš„ï¼Œè€Œè¿™ä¸ªå¼€é”€åœ¨é¢„å…ˆçŸ¥é“å®¹é‡çš„æ—¶å€™æ˜¯å¯ä»¥é¿å…çš„ã€‚ æºä»£ç ä¸­æŒ‡å®šåˆå§‹å®¹é‡çš„æ„é€ æ–¹æ³•å®ç°ï¼Œåˆ¤æ–­äº†å¦‚æœ æˆ‘ä»¬æŒ‡å®šå®¹é‡å¤§äº 0 ï¼Œå°†ä¼šç›´æ¥ new ä¸€ä¸ªæ•°ç»„ï¼Œèµ‹å€¼ç»™ elementData å¼•ç”¨ä½œä¸ºé›†åˆçœŸæ­£çš„å­˜å‚¨æ•°ç»„ï¼Œè€ŒæŒ‡å®šå®¹é‡ç­‰äº 0 çš„æ—¶å€™è®²ä½¿ç”¨æˆå‘˜å˜é‡ EMPTY_ELEMENTDATA ä½œä¸ºæš‚æ—¶çš„å­˜å‚¨æ•°ç»„ï¼Œè¿™æ˜¯ EMPTY_ELEMENTDATA è¿™ä¸ªç©ºæ•°ç»„çš„ä¸€ä¸ªç”¨å¤„ï¼ˆä¸å¿…å¤ªè¿‡äºçº EMPTY_ELEMENTDATA çš„ä½œç”¨ï¼Œå…¶å®å®ƒçš„åœ¨æºç ä¸­å‡ºç°çš„é¢‘ç‡å¹¶ä¸é«˜ï¼‰ã€‚ ä½¿ç”¨å¦ä¸ªä¸€ä¸ªé›†åˆ Collection çš„æ„é€ æ–¹æ³•12345678910111213141516/*** æ„é€ ä¸€ä¸ªåŒ…å«æŒ‡å®šé›†åˆå…ƒç´ çš„åˆ—è¡¨ï¼Œå…ƒç´ çš„é¡ºåºç”±é›†åˆçš„è¿­ä»£å™¨è¿”å›ã€‚* @param æºé›†åˆï¼Œå…¶å…ƒç´ å°†è¢«æ”¾ç½®åˆ°è¿™ä¸ªé›†åˆä¸­ã€‚ * @å¦‚æœå‚æ•°ä¸º nullï¼Œå°†ä¼šæŠ›å‡º NullPointerException ç©ºæŒ‡é’ˆå¼‚å¸¸*/public ArrayList(Collection&lt;? extends E&gt; c) &#123; elementData = c.toArray(); if ((size = elementData.length) != 0) &#123; // c.toArray å¯èƒ½(é”™è¯¯åœ°)ä¸è¿”å› Object[]ç±»å‹çš„æ•°ç»„ å‚è§ jdk çš„ bug åˆ—è¡¨(6260652) if (elementData.getClass() != Object[].class) elementData = Arrays.copyOf(elementData, size, Object[].class); &#125; else &#123; // å¦‚æœé›†åˆå¤§å°ä¸ºç©ºå°†èµ‹å€¼ä¸º EMPTY_ELEMENTDATA ç­‰åŒäº new ArrayList(0); this.elementData = EMPTY_ELEMENTDATA; &#125; &#125; çœ‹å®Œè¿™ä¸ªä»£ç æˆ‘æœ€ç–‘æƒ‘çš„åœ°æ–¹æ˜¯ Collection.toArray() å’Œ Arrays.copyOf() è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä½¿ç”¨ï¼Œçœ‹æ¥æƒ³æ˜ç™½è¿™ä¸ªæ„é€ å‚æ•°å…·ä½“åšäº†ä»€ä¹ˆå¿…é¡»ç†è§£è¿™ä¸¤ä¸ªæ–¹æ³•äº†ã€‚ Object[] Collection.toArray() æ–¹æ³•æˆ‘ä»¬éƒ½çŸ¥é“ Collection æ˜¯é›†åˆæ¡†æ¶çš„è¶…ç±»ï¼Œå…¶å® Collection.toArray æ˜¯äº¤ç»™å…·ä½“çš„é›†åˆå­ç±»å»å®ç°çš„ï¼Œè¿™å°±è¯´æ˜ä¸åŒçš„é›†åˆå¯èƒ½æœ‰ä¸åŒçš„å®ç°ã€‚ä»–ç”¨æ¥å°†ä¸€ä¸ªé›†åˆè½¬åŒ–ä¸ºä¸€ä¸ª Object[] æ•°ç»„ï¼Œäº‹å®ä¸Šçš„çœŸçš„æ˜¯è¿™æ ·çš„ä¹ˆï¼Ÿå‚è§ jdk çš„ bug åˆ—è¡¨(6260652)åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸‹è¾¹çš„è¿™ä¸ªä¾‹å­ï¼š 12345678910111213List&lt;String&gt; subClasses = Arrays.asList("abc","def");// class java.util.Arrays$ArrayList System.out.println(list.getClass()); Object[] objects = subClasses.toArray();// class java.lang.String; Object[] objArray = list.toArray(); //è¿™é‡Œè¿”å›çš„æ˜¯ String[]System.out.println(objects.getClass().getSimpleName()); objArray[0] = new Object(); // cause ArrayStoreException å’¦ï¼Ÿä¸ºå•¥è¿™é‡Œå¹¶ä¸æ˜¯ä¸€ä¸ª Object æ•°ç»„å‘¢ï¼Ÿå…¶å®æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œlist.getClass å¾—åˆ°çš„å¹¶ä¸æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„ ArrayList è€Œæ˜¯ Arrays çš„å†…éƒ¨ç±» Arrays$ArrayListã€‚ 123456789ArrayList(E[] array) &#123; //è¿™é‡Œåªæ˜¯æ£€æŸ¥äº†æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºç›´æ¥å°†åŸæ•°ç»„èµ‹å€¼ç»™è¿™ä¸ª ArrayList çš„å­˜å‚¨æ•°ç»„ã€‚ a = Objects.requireNonNull(array);&#125;@Overridepublic Object[] toArray()&#123; return a.clone();&#125; è€Œæˆ‘ä»¬è°ƒç”¨çš„ toArray æ–¹æ³•å°±æ˜¯è¿™ä¸ªå†…éƒ¨å¯¹äº Collection.toArray çš„å®ç°ï¼Œ a.clone() ,è¿™é‡Œ clone å¹¶ä¸ä¼šæ”¹å˜ä¸€ä¸ªæ•°ç»„çš„ç±»å‹ï¼Œæ‰€ä»¥å½“åŸå§‹æ•°ç»„ä¸­æ”¾çš„ String ç±»å‹çš„æ—¶å€™å°±ä¼šå‡ºç°ä¸Šè¾¹çš„è¿™ç§æƒ…å†µäº†ã€‚ å…¶å®æˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿™æ˜¯ jdk çš„ä¸€ä¸ª bugï¼Œæ—©åœ¨ 05å¹´çš„æ—¶å€™è¢«äººæå‡ºæ¥äº†ï¼Œä½†æ˜¯ä¸€ç›´æ²¡ä¿®å¤ï¼Œä½†æ˜¯åœ¨æ–°çš„ ã€Œjdk 1.9ã€ ç§è¿™ä¸ª bug è¢«ä¿®å¤äº†ã€‚ æœ‰å…´è¶£çš„å¯ä»¥è¿½è¸ª bug 6260652 çœ‹ä¸‹ã€‚ Arrays.copyOf æ–¹æ³•è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨é›†åˆæºç ä¸­å¸¸è§çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»–æœ‰å¾ˆå¤šé‡è½½æ–¹å¼,æˆ‘ä»¬æ¥çœ‹ä¸‹æœ€æ ¹æœ¬çš„æ–¹æ³•ï¼š 1234567891011public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) &#123; @SuppressWarnings("unchecked") //æ ¹æ®classçš„ç±»å‹æ˜¯å¦æ˜¯ Object[] æ¥å†³å®šæ˜¯ new è¿˜æ˜¯åå°„å»æ„é€ ä¸€ä¸ªæ³›å‹æ•°ç»„ T[] copy = ((Object)newType == (Object)Object[].class) ? (T[]) new Object[newLength] : (T[]) Array.newInstance(newType.getComponentType(), newLength); //ä½¿ç”¨ native æ–¹æ³•æ‰¹é‡èµ‹å€¼å…ƒç´ è‡³æ–°æ•°ç»„ä¸­ã€‚ System.arraycopy(original, 0, copy, 0, Math.min(original.length, newLength)); return copy;&#125; ä¸Šè¾¹çš„æ³¨é‡Šä¹Ÿçœ‹å‡ºæ¥äº†ï¼ŒArrays.copyOf æ–¹æ³•å¤åˆ¶æ•°ç»„çš„æ—¶å€™å…ˆåˆ¤æ–­äº†æŒ‡å®šçš„æ•°ç»„ç±»å‹æ˜¯å¦ä¸º Object[] ç±»å‹ï¼Œå¦åˆ™ä½¿ç”¨åå°„å»æ„é€ ä¸€ä¸ªæŒ‡å®šç±»å‹çš„æ•°ç»„ã€‚æœ€åä½¿ç”¨ System.arraycopy è¿™ä¸ª native æ–¹æ³•ï¼Œå»å®ç°æœ€ç»ˆçš„æ•°ç»„èµ‹å€¼ï¼ŒnewLength å¦‚æœæ¯” original.length å¤§çš„æ—¶å€™ä¼šå°†å¤šä½™çš„ç©ºé—´èµ‹å€¼ä¸º null ç”±ä¸‹è¾¹çš„ä¾‹å­å¯è§: 12345String[] arrString = &#123;"abc","def"&#125;;Object[] copyOf = Arrays.copyOf(arrString, 5, Object[].class);//[abc, def, null, null, null]System.out.println(Arrays.toString(copyOf)); å½“ç„¶ ArrayList(Collection&lt;? extends E&gt; c) å¤åˆ¶çš„æ—¶å€™ä¼ é€’çš„æ˜¯ c.size() æ‰€ä»¥ä¸ä¼šå‡ºç° nullã€‚ ex: å¯¹äº System.arraycopy è¯¥æ–¹æ³•ï¼Œæœ¬æ–‡ä¸å†å±•å¼€è®¨è®ºï¼Œæœ‰ä¸€ç¯‡å¯¹äºå…¶åˆ†æå¾ˆå¥½çš„æ–‡ç« å¤§å®¶å¯ä»¥å»å‚è€ƒSystemï¼šSystem.arraycopyæ–¹æ³•è¯¦è§£ okï¼Œç»•äº†è¿™ä¹ˆå¤§çš„åœˆå­ç»ˆäºæ˜ç™½äº†ï¼ŒArrayList(Collection&lt;? extends E&gt; c)å¹²äº†å•¥äº†ï¼Œå…¶å®å°±æ˜¯å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ å¡åˆ° ArrayList åº•å±‚çš„æ•°ç»„ä¸­ã€‚è‡³æ­¤æˆ‘ä»¬ä¹Ÿå°† ArrayList çš„æ„é€ ç ”ç©¶å®Œäº†ã€‚ ArrayListçš„æ·»åŠ å…ƒç´  &amp; æ‰©å®¹æœºåˆ¶æ•²é»‘æ¿äº†ï¼è¿™å—æ˜¯é¢è¯•çš„å¸¸å®¢äº†ï¼Œæ‰€ä»¥å¿…é¡»ä»”ç»†ç ”ç©¶ä¸‹äº†ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸‹å¦‚ä½•ç»™ä¸€ä¸ª ArrayList æ·»åŠ ä¸€ä¸ªå…ƒç´ : åœ¨é›†åˆæœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•123456789101112131415//æˆå‘˜å˜é‡ size æ ‡è¯†é›†åˆå½“å‰å…ƒç´ ä¸ªæ•°åˆå§‹ä¸º 0int sizeï¼›/*** å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°é›†åˆï¼ˆåº•å±‚æ•°ç»„ï¼‰æœ«å°¾* @param å°†è¦æ·»åŠ çš„å…ƒç´ * @return è¿”å› true è¡¨ç¤ºæ·»åŠ æˆåŠŸ*/public boolean add(E e) &#123; //æ£€æŸ¥å½“å‰åº•å±‚æ•°ç»„å®¹é‡ï¼Œå¦‚æœå®¹é‡ä¸å¤Ÿåˆ™è¿›è¡Œæ‰©å®¹ ensureCapacityInternal(size + 1); // Increments modCount!! //å°†æ•°ç»„æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œsize åŠ  1 elementData[size++] = e; return true;&#125; è°ƒç”¨ add æ–¹æ³•çš„æ—¶å€™æ€»ä¼šè°ƒç”¨ ensureCapacityInternal æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œ ensureCapacityInternal å‚æ•°ä¸ºå½“å‰é›†åˆé•¿åº¦ size + 1ï¼Œè¿™å¾ˆå¥½ç†è§£ï¼Œæ˜¯å¦éœ€è¦æ‰©å……é•¿åº¦ï¼Œéœ€è¦çœ‹å½“å‰åº•å±‚æ•°ç»„æ˜¯å¦å¤Ÿæ”¾ size + 1ä¸ªå…ƒç´ çš„ã€‚ æ‰©å®¹æœºåˆ¶1234567891011121314151617//æ‰©å®¹æ£€æŸ¥private void ensureCapacityInternal(int minCapacity) &#123; //å¦‚æœæ˜¯æ— å‚æ„é€ æ–¹æ³•æ„é€ çš„çš„é›†åˆï¼Œç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ çš„æ—¶å€™ä¼šæ»¡è¶³è¿™ä¸ªæ¡ä»¶ minCapacity å°†ä¼šè¢«èµ‹å€¼ä¸º 10 if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); &#125; // å°† size + 1 æˆ– 10 ä¼ å…¥ ensureExplicitCapacity è¿›è¡Œæ‰©å®¹åˆ¤æ–­ ensureExplicitCapacity(minCapacity);&#125;private void ensureExplicitCapacity(int minCapacity) &#123; //æ“ä½œæ•°åŠ  1 ç”¨äºä¿è¯å¹¶å‘è®¿é—® modCount++; // å¦‚æœ å½“å‰æ•°ç»„çš„é•¿åº¦æ¯”æ·»åŠ å…ƒç´ åçš„é•¿åº¦è¦å°åˆ™è¿›è¡Œæ‰©å®¹ if (minCapacity - elementData.length &gt; 0) grow(minCapacity);&#125; ä¸Šè¾¹çš„æºç ä¸»è¦åšäº†æ‰©å®¹å‰çš„åˆ¤æ–­æ“ä½œï¼Œæ³¨æ„å‚æ•°ä¸ºå½“å‰é›†åˆå…ƒç´ ä¸ªæ•°+1ï¼Œç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ çš„æ—¶å€™ size + 1 = 1 ,è€Œ elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA, é•¿åº¦ä¸º 0 ï¼Œ1 - 0 &gt; 0, æ‰€ä»¥éœ€è¦è¿›è¡Œ grow æ“ä½œä¹Ÿå°±æ˜¯æ‰©å®¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435/*** é›†åˆçš„æœ€å¤§é•¿åº¦ Integer.MAX_VALUE - 8 æ˜¯ä¸ºäº†å‡å°‘å‡ºé”™çš„å‡ ç‡ Integer æœ€å¤§å€¼å·²ç»å¾ˆå¤§äº†*/private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;/*** å¢åŠ å®¹é‡ï¼Œä»¥ç¡®ä¿å®ƒè‡³å°‘èƒ½å®¹çº³æœ€å°å®¹é‡å‚æ•°æŒ‡å®šçš„å…ƒç´ ä¸ªæ•°ã€‚* @param æ»¡è¶³æ¡ä»¶çš„æœ€å°å®¹é‡*/private void grow(int minCapacity) &#123; //è·å–å½“å‰ elementData çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯ List ä¸­å½“å‰çš„å®¹é‡ int oldCapacity = elementData.length; //oldCapacity &gt;&gt; 1 ç­‰ä»·äº oldCapacity / 2 æ‰€ä»¥æ–°å®¹é‡ä¸ºå½“å‰å®¹é‡çš„ 1.5 å€ int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); //å¦‚æœæ‰©å¤§1.5å€åä»æ—§æ¯” minCapacity å°é‚£ä¹ˆç›´æ¥ç­‰äº minCapacity if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; //å¦‚æœæ–°æ•°ç»„å¤§å°æ¯” MAX_ARRAY_SIZE å°±éœ€è¦è¿›ä¸€æ­¥æ¯”è¾ƒ minCapacity å’Œ MAX_ARRAY_SIZE çš„å¤§å° if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacityé€šå¸¸æ¥è¿‘ size å¤§å° //ä½¿ç”¨ Arrays.copyOf æ„å»ºä¸€ä¸ªé•¿åº¦ä¸º newCapacity æ–°æ•°ç»„ å¹¶å°† elementData æŒ‡å‘æ–°æ•°ç»„ elementData = Arrays.copyOf(elementData, newCapacity);&#125;/*** æ¯”è¾ƒ minCapacity ä¸ Integer.MAX_VALUE - 8 çš„å¤§å°å¦‚æœå¤§åˆ™æ”¾å¼ƒ-8çš„è®¾å®šï¼Œè®¾ç½®ä¸º Integer.MAX_VALUE */private static int hugeCapacity(int minCapacity) &#123; if (minCapacity &lt; 0) // overflow throw new OutOfMemoryError(); return (minCapacity &gt; MAX_ARRAY_SIZE) ? Integer.MAX_VALUE : MAX_ARRAY_SIZE;&#125; ç”±æ­¤çœ‹æ¥ ArrayList çš„æ‰©å®¹æœºåˆ¶çš„çŸ¥è¯†ç‚¹ä¸€å…±åˆä¸¤ä¸ª æ¯æ¬¡æ‰©å®¹çš„å¤§å°ä¸ºåŸæ¥å¤§å°çš„ 1.5å€ ï¼ˆå½“ç„¶è¿™é‡Œæ²¡æœ‰åŒ…å« 1.5å€åå¤§äº MAX_ARRAY_SIZE çš„æƒ…å†µï¼‰æ‰©å®¹çš„è¿‡ç¨‹å…¶å®æ˜¯ä¸€ä¸ªå°†åŸæ¥å…ƒç´ æ‹·è´åˆ°ä¸€ä¸ªæ‰©å®¹åæ•°ç»„å¤§å°çš„é•¿åº¦æ–°æ•°ç»„ä¸­ã€‚æ‰€ä»¥ ArrayList çš„æ‰©å®¹å…¶å®æ˜¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„ã€‚ åœ¨æŒ‡å®šè§’æ ‡ä½ç½®æ·»åŠ å…ƒç´ çš„æ–¹æ³•123456789101112131415161718/*** å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥è¯¥åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®ã€‚å°†å½“å‰ä½ç½®çš„å…ƒç´ (å¦‚æœæœ‰)å’Œä»»ä½•åç»­å…ƒç´ ç§»åˆ°å³è¾¹(å°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°å®ƒä»¬çš„ç´¢å¼•ä¸­)ã€‚* @param è¦æ’å…¥çš„ç´¢å¼•ä½ç½®* @param è¦æ·»åŠ çš„å…ƒç´ * @throws å¦‚æœ index å¤§äºé›†åˆé•¿åº¦ å°äº 0 åˆ™æŠ›å‡ºè§’æ ‡è¶Šç•Œ IndexOutOfBoundsException å¼‚å¸¸*/public void add(int index, E element) &#123; // æ£€æŸ¥è§’æ ‡æ˜¯å¦è¶Šç•Œ rangeCheckForAdd(index); // æ‰©å®¹æ£€æŸ¥ ensureCapacityInternal(size + 1); //è°ƒç”¨ native æ–¹æ³•æ–°å‹æ•°ç»„æ‹·è´ System.arraycopy(elementData, index, elementData, index + 1,size - index); // æ·»åŠ æ–°å…ƒç´  elementData[index] = element; size++;&#125; æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ•°ç»„æ˜¯ä¸èƒ½åœ¨è§’æ ‡ä½ç½®ç›´æ¥æ’å…¥å…ƒç´ çš„ï¼ŒArrayList é€šè¿‡æ•°ç»„æ‹·è´çš„æ–¹æ³•å°†æŒ‡å®šè§’æ ‡ä½ç½®ä»¥åŠå…¶åç»­å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç©ºå‡º index è§’æ ‡çš„ä½ç½®ï¼Œæ¥èµ‹å€¼æ–°çš„å…ƒç´ ã€‚ å°†ä¸€ä¸ªæ•°ç»„ src èµ·å§‹ srcPos è§’æ ‡ä¹‹å length é•¿åº¦é—´çš„å…ƒç´ ï¼Œèµ‹å€¼åˆ° dest æ•°ç»„ä¸­ destPos åˆ° destPos + length -1é•¿åº¦è§’æ ‡ä½ç½®ä¸Šã€‚åªæ˜¯åœ¨ add æ–¹æ³•ä¸­ src å’Œ dest ä¸ºåŒä¸€ä¸ªæ•°ç»„è€Œå·²ã€‚ 123public static native void arraycopy(Object src, int srcPos, Object dest, int destPos, int length); æ‰¹é‡æ·»åŠ å…ƒç´ ç”±äºæ‰¹é‡æ·»åŠ å’Œæ·»åŠ ä¸€ä¸ªå…ƒç´ é€»è¾‘å¤§æ¦‚ç›¸åŒåˆ™è¿™é‡Œä¸è¯¦ç»†è¯´äº†ï¼Œä»£ç æ³¨é‡Šå¯ä»¥äº†è§£æ•´ä¸ªæ·»åŠ æµç¨‹ã€‚ åœ¨æ•°ç»„æœ«å°¾æ·»åŠ  12345678910111213public boolean addAll(Collection&lt;? extends E&gt; c) &#123; // è°ƒç”¨ c.toArray å°†é›†åˆè½¬åŒ–æ•°ç»„ Object[] a = c.toArray(); // è¦æ·»åŠ çš„å…ƒç´ çš„ä¸ªæ•° int numNew = a.length; //æ‰©å®¹æ£€æŸ¥ä»¥åŠæ‰©å®¹ ensureCapacityInternal(size + numNew); // Increments modCount //å°†å‚æ•°é›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°åŸæ¥æ•°ç»„ [sizeï¼Œsize + numNew -1] çš„è§’æ ‡ä½ç½®ä¸Šã€‚ System.arraycopy(a, 0, elementData, size, numNew); size += numNew; //ä¸å•ä¸€æ·»åŠ çš„ add æ–¹æ³•ä¸åŒçš„æ˜¯æ‰¹é‡æ·»åŠ æœ‰è¿”å›å€¼ï¼Œå¦‚æœ numNew == 0 è¡¨ç¤ºæ²¡æœ‰è¦æ·»åŠ çš„å…ƒç´ åˆ™éœ€è¦è¿”å› false return numNew != 0;&#125; åœ¨æ•°ç»„æŒ‡å®šè§’æ ‡ä½ç½®æ·»åŠ 1234567891011121314151617181920public boolean addAll(int index, Collection&lt;? extends E&gt; c) &#123; //åŒæ ·æ£€æŸ¥è¦æ’å…¥çš„ä½ç½®æ˜¯å¦ä¼šå¯¼è‡´è§’æ ‡è¶Šç•Œ rangeCheckForAdd(index); Object[] a = c.toArray(); int numNew = a.length; ensureCapacityInternal(size + numNew); //è¿™é‡Œåšäº†åˆ¤æ–­ï¼Œå¦‚æœè¦numMoved &gt; 0 ä»£è¡¨æ’å…¥çš„ä½ç½®åœ¨é›†åˆä¸­é—´ä½ç½®ï¼Œå’Œåœ¨ numMoved == 0æœ€åä½ç½® åˆ™è¡¨ç¤ºè¦åœ¨æ•°ç»„æœ«å°¾æ·»åŠ  å¦‚æœ &lt; 0 rangeCheckForAdd å°±è·‘å‡ºäº†è§’æ ‡è¶Šç•Œ int numMoved = size - index; if (numMoved &gt; 0) System.arraycopy(elementData, index, elementData, index + numNew, numMoved); System.arraycopy(a, 0, elementData, index, numNew); size += numNew; return numNew != 0;&#125;private void rangeCheckForAdd(int index) &#123; if (index &gt; size || index &lt; 0) throw new IndexOutOfBoundsException(outOfBoundsMsg(index));&#125; ä¸¤ä¸ªæ–¹æ³•ä¸åŒçš„åœ°æ–¹åœ¨äºå¦‚æœç§»åŠ¨è§’æ ‡å³ä¹‹åçš„å…ƒç´ ï¼ŒaddAll(int index, Collection&lt;? extends E&gt; c)é‡Œåšäº†åˆ¤æ–­ï¼Œå¦‚æœè¦ numMoved &gt; 0 ä»£è¡¨æ’å…¥çš„ä½ç½®åœ¨é›†åˆä¸­é—´ä½ç½®ï¼Œå’Œåœ¨ numMoved == 0 æœ€åä½ç½® åˆ™è¡¨ç¤ºè¦åœ¨æ•°ç»„æœ«å°¾æ·»åŠ  å¦‚æœ numMoved &lt; 0 ï¼ŒrangeCheckForAdd å°±æŠ›å‡ºäº†è§’æ ‡è¶Šç•Œå¼‚å¸¸äº†ã€‚ ä¸å•ä¸€æ·»åŠ çš„ add æ–¹æ³•ä¸åŒçš„æ˜¯æ‰¹é‡æ·»åŠ æœ‰è¿”å›å€¼ï¼Œå¦‚æœ numNew == 0 è¡¨ç¤ºæ²¡æœ‰è¦æ·»åŠ çš„å…ƒç´ åˆ™éœ€è¦è¿”å› falseã€‚ ArrayList åˆ é™¤å…ƒç´ æ ¹æ®è§’æ ‡ç§»é™¤å…ƒç´ 1234567891011121314151617181920212223242526/*** å°†ä»»ä½•åç»­å…ƒç´ ç§»åˆ°å·¦è¾¹(ä»å®ƒä»¬çš„ç´¢å¼•ä¸­å‡å»ä¸€ä¸ª)ã€‚*/public E remove(int index) &#123; //æ£€æŸ¥ index æ˜¯å¦ &gt;= size rangeCheck(index); modCount++; //index ä½ç½®çš„å…ƒç´  E oldValue = elementData(index); // éœ€è¦ç§»åŠ¨çš„å…ƒç´ ä¸ªæ•° int numMoved = size - index - 1; if (numMoved &gt; 0) //é‡‡ç”¨æ‹·è´èµ‹å€¼çš„æ–¹æ³•å°† index ä¹‹åæ‰€æœ‰çš„å…ƒç´  å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½® System.arraycopy(elementData, index+1, elementData, index, numMoved); // å°† element æœ«å°¾çš„å…ƒç´ ä½ç½®è®¾ä¸º null elementData[--size] = null; // clear to let GC do its work // è¿”å› index ä½ç½®çš„å…ƒç´  return oldValue;&#125;// æ¯”è¾ƒè¦ç§»é™¤çš„è§’æ ‡ä½ç½®å’Œå½“å‰ elementData ä¸­å…ƒç´ çš„ä¸ªæ•°private void rangeCheck(int index) &#123; if (index &gt;= size) throw new IndexOutOfBoundsException(outOfBoundsMsg(index));&#125; æ ¹æ®è§’æ ‡ç§»é™¤å…ƒç´ çš„æ–¹æ³•æºç å¦‚ä¸Šæ‰€ç¤ºï¼Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼š rangeCheck å’Œ rangeCheckForAdd æ–¹æ³•ä¸åŒ ï¼ŒrangeCheck åªæ£€æŸ¥äº† indexæ˜¯å¦å¤§äºç­‰äº sizeï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“ size ä¸º elementData å·²å­˜å‚¨æ•°æ®çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬åªèƒ½ç§»é™¤ elementData æ•°ç»„ä¸­ [0 , size -1] çš„å…ƒç´ ï¼Œå¦åˆ™åº”è¯¥æŠ›å‡ºè§’æ ‡è¶Šç•Œã€‚ ä½†æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰å’Œ rangeCheckForAdd ä¸€æ ·æ£€æŸ¥å°äº0çš„è§’æ ‡å‘¢ï¼Œæ˜¯ä¸æ˜¯remove(-1) ä¸ä¼šæŠ›å¼‚å¸¸å‘¢ï¼Ÿ å…¶å®ä¸æ˜¯çš„ï¼Œå› ä¸º rangeCheck(index); åæˆ‘ä»¬å»è°ƒç”¨ elementData(index) çš„æ—¶å€™ä¹Ÿä¼šæŠ›å‡º IndexOutOfBoundsException çš„å¼‚å¸¸ï¼Œè¿™æ˜¯æ•°ç»„æœ¬èº«æŠ›å‡ºçš„ï¼Œä¸æ˜¯ ArrayList æŠ›å‡ºçš„ã€‚é‚£ä¸ºä»€ä¹ˆè¦æ£€æŸ¥&gt;= size å‘¢ï¼Ÿ æ•°ç»„æœ¬èº«ä¸ä¹Ÿä¼šæ£€æŸ¥ä¹ˆï¼Ÿ å“ˆå“ˆ.. ç»†å¿ƒçš„åŒå­¦è‚¯å®šçŸ¥é“ elementData.length å¹¶ä¸ä¸€å®šç­‰äº sizeï¼Œæ¯”å¦‚ï¼š 123456ArrayList&lt;String&gt; testRemove = new ArrayList&lt;&gt;(10); testRemove.add("1"); testRemove.add("2"); // java.lang.IndexOutOfBoundsException: Index: 2, Size: 2 String remove = testRemove.remove(2); System.out.println("remove = " + remove + ""); new ArrayList&lt;&gt;(10) è¡¨ç¤º elementData åˆå§‹å®¹é‡ä¸º10ï¼Œæ‰€ä»¥ elementData.length = 10 è€Œæˆ‘ä»¬åªç»™é›†åˆæ·»åŠ äº†ä¸¤ä¸ªå…ƒç´ æ‰€ä»¥ size = 2 è¿™ä¹Ÿå°±æ˜¯ä¸ºå•¥è¦ rangeCheck çš„åŸå› äº†ã€‚ ç§»é™¤æŒ‡å®šå…ƒç´ 1234567891011121314151617181920212223242526272829303132333435/*** åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œå¦‚æœå®ƒå­˜åœ¨åˆ™åä¼š trueï¼Œå¦‚æœä¸å­˜åœ¨è¿”å› falseã€‚* æ›´å‡†ç¡®åœ°è¯´æ˜¯åˆ é™¤é›†åˆä¸­ç¬¬ä¸€å‡ºç° o å…ƒç´ ä½ç½®çš„å…ƒç´  ï¼Œ* ä¹Ÿå°±æ˜¯è¯´åªä¼šåˆ é™¤ä¸€ä¸ªï¼Œå¹¶ä¸”å¦‚æœæœ‰é‡å¤çš„è¯ï¼Œåªä¼šåˆ é™¤ç¬¬ä¸€ä¸ªæ¬¡å‡ºç°çš„ä½ç½®ã€‚*/public boolean remove(Object o) &#123; // å¦‚æœå…ƒç´ ä¸ºç©ºåˆ™åªéœ€åˆ¤æ–­ == ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€ if (o == null) &#123; for (int index = 0; index &lt; size; index++) if (elementData[index] == null) &#123; //å¾—åˆ°ç¬¬ä¸€ä¸ªç­‰äº null çš„å…ƒç´ è§’æ ‡å¹¶ç§»é™¤è¯¥å…ƒç´  è¿”å› ture fastRemove(index); return true; &#125; &#125; else &#123; // å¦‚æœå…ƒç´ ä¸ä¸ºç©ºåˆ™éœ€è¦ç”¨ equals åˆ¤æ–­ã€‚ for (int index = 0; index &lt; size; index++) if (o.equals(elementData[index])) &#123; //å¾—åˆ°ç¬¬ä¸€ä¸ªç­‰äº o çš„å…ƒç´ è§’æ ‡å¹¶ç§»é™¤è¯¥å…ƒç´  è¿”å› ture fastRemove(index); return true; &#125; &#125; return false;&#125;//ç§»é™¤å…ƒç´ çš„é€»è¾‘å’Œ remve(Index)ä¸€æ · private void fastRemove(int index) &#123; modCount++; int numMoved = size - index - 1; if (numMoved &gt; 0) System.arraycopy(elementData, index+1, elementData, index, numMoved); elementData[--size] = null; // clear to let GC do its work&#125; ç”±ä¸Šè¾¹ä»£ç å¯ä»¥çœ‹å‡ºæ¥ï¼Œç§»é™¤å…ƒç´ å’Œç§»é™¤æŒ‡å®šè§’æ ‡å…ƒç´ ä¸€æ ·æœ€ç»ˆéƒ½æ˜¯é€šè¿‡ System.arraycopy å°† index ä¹‹åçš„å…ƒç´ å‰ç§»ä¸€ä½ï¼Œå¹¶é‡Šæ”¾åŸæ¥ä½äº size ä½ç½®çš„å…ƒç´ ã€‚ è¿˜å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰æŒ‡å®šå¤šä¸ªä¸ o ç›¸åŒçš„å…ƒç´ åªä¼šç§»é™¤è§’æ ‡æœ€å°çš„é‚£ä¸ªï¼Œå¹¶ä¸” null å’Œ énull çš„æ—¶å€™åˆ¤æ–­æ–¹æ³•ä¸ä¸€æ ·ã€‚è‡³äº equals å’Œ == çš„åŒºåˆ«ï¼Œè¿˜æœ‰ hashCode æ–¹æ³•ï¼Œæˆ‘ä¼šä¹‹ååœ¨æ€»ç»“ä¸€ç¯‡å•ç‹¬çš„æ–‡ç« ã€‚ç­‰ä¸æ€¥çš„å¯ä»¥å…ˆå»ç½‘ä¸Šæ‰¾æ‰¾å–½ã€‚ æ‰¹é‡ç§»é™¤/ä¿ç•™ removeAll/retainAllArrayList æä¾›äº† removeAll/retainAll æ“ä½œï¼Œè¿™ä¸¤ä¸ªæ“ä½œåˆ†åˆ«æ˜¯ æ‰¹é‡åˆ é™¤ä¸å‚æ•°é›†åˆä¸­å…±åŒäº«æœ‰çš„å…ƒç´  å’Œ æ‰¹é‡åˆ é™¤ä¸å‚æ•°é›†åˆä¸­ä¸å…±åŒäº«æœ‰çš„å…ƒç´ ï¼Œä¿ç•™å…±åŒäº«æœ‰çš„å…ƒç´ ï¼Œä¸¤ä¸ªæ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ä¸åŒ!!! 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** æ‰¹é‡åˆ é™¤ä¸å‚æ•°é›†åˆä¸­å…±åŒäº«æœ‰çš„å…ƒç´ */public boolean removeAll(Collection&lt;?&gt; c) &#123; //åˆ¤ç©º å¦‚æœä¸ºç©ºåˆ™æŠ›å‡º NullPointerException å¼‚å¸¸ Objects çš„æ–¹æ³• Objects.requireNonNull(c); return batchRemove(c, false);&#125; /** åªä¿ç•™ä¸ c ä¸­å…ƒç´ ç›¸åŒçš„å…ƒç´ ç›¸åŒçš„å…ƒç´ */public boolean retainAll(Collection&lt;?&gt; c) &#123; Objects.requireNonNull(c); return batchRemove(c, true);&#125; /** æ‰¹é‡åˆ é™¤çš„æŒ‡å®šæ–¹æ³• */private boolean batchRemove(Collection&lt;?&gt; c, boolean complement) &#123; final Object[] elementData = this.elementData; // r w ä¸¤ä¸ªè§’æ ‡ r ä¸º elementData ä¸­å…ƒç´ çš„ç´¢å¼• // w ä¸ºåˆ é™¤å…ƒç´ åé›†åˆçš„é•¿åº¦ int r = 0, w = 0; boolean modified = false; try &#123; for (; r &lt; size; r++) // å¦‚æœ c å½“å‰é›†åˆä¸­ä¸åŒ…å«å½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆåˆ™ä¿ç•™ if (c.contains(elementData[r]) == complement) elementData[w++] = elementData[r]; &#125; finally &#123; // å¦‚æœc.containsï¼ˆoï¼‰å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸å r!=size åˆ™å°† r ä¹‹åçš„å…ƒç´ ä¸åœ¨æ¯”è¾ƒç›´æ¥æ”¾å…¥æ•°ç»„ if (r != size) &#123; System.arraycopy(elementData, r, elementData, w, size - r); // w åŠ ä¸Šå‰©ä½™å…ƒç´ çš„é•¿åº¦ w += size - r; &#125; // å¦‚æœé›†åˆç§»é™¤è¿‡å…ƒç´ ï¼Œåˆ™éœ€è¦å°† w ä¹‹åçš„å…ƒç´ è®¾ç½®ä¸º null é‡Šæ”¾å†…å­˜ if (w != size) &#123; // clear to let GC do its work for (int i = w; i &lt; size; i++) elementData[i] = null; modCount += size - w; size = w; modified = true; &#125; &#125; //è¿”å›æ˜¯å¦æˆåŠŸç§»é™¤è¿‡å…ƒç´ ï¼Œå“ªæ€•ä¸€ä¸ª return modified;&#125; å¯ä»¥çœ‹åˆ°ç§»é™¤æŒ‡å®šé›†åˆä¸­åŒ…å«çš„å…ƒç´ çš„æ–¹æ³•ä»£ç é‡æ˜¯ç›®å‰åˆ†æä»£ç ä¸­æœ€é•¿çš„äº†ï¼Œä½†æ˜¯é€»è¾‘ä¹Ÿå¾ˆæ¸…æ™°ï¼š ä» 0 å¼€å§‹éå† elementData å¦‚æœ r ä½ç½®çš„å…ƒç´ ä¸å­˜åœ¨äºæŒ‡å®šé›†åˆ c ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†ä»–å¤åˆ¶ç»™æ•°ç»„ w ä½ç½®ï¼Œ æ•´ä¸ªéå†è¿‡ç¨‹ä¸­ w &lt;= rã€‚ ç”±äº c.contains(o)å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ClassCastException/NullPointerExceptionï¼Œå¦‚æœå› ä¸ºå¼‚å¸¸è€Œç»ˆæ­¢ï¼ˆè¿™ä¸¤ä¸ªå¼‚å¸¸æ˜¯å¯é€‰æ“ä½œï¼Œé›†åˆæºç ä¸­å¹¶æ²¡æœ‰æ˜¾ç¤ºç”Ÿå‘½è¯¥æ–¹æ³•ä¸€å®šä¼šæŠ›å¼‚å¸¸ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¼šäº§ç”Ÿä¸€æ¬¡é”™è¯¯æ“ä½œï¼Œæ‰€ä»¥ finally ä¸­æ‰§è¡Œäº†åˆ¤æ–­æ“ä½œï¼Œå¦‚æœ r!= size é‚£ä¹ˆè‚¯å®šæ˜¯å‘ç”Ÿäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆåˆ™å°† r ä¹‹åçš„å…ƒç´ ä¸åœ¨æ¯”è¾ƒç›´æ¥æ”¾å…¥æ•°ç»„ã€‚æœ€ç»ˆå¾—åˆ°çš„ç»“æœå¹¶ä¸ä¸€å®šæ­£ç¡®æ˜¯åˆ é™¤äº†æ‰€æœ‰ä¸ c ä¸­çš„å…ƒç´ ã€‚ æ‰¹é‡åˆ é™¤å’Œä¿å­˜ä¸­ï¼Œæ¶‰åŠé«˜æ•ˆçš„ä¿å­˜/åˆ é™¤ä¸¤ä¸ªé›†åˆå…¬æœ‰å…ƒç´ çš„ç®—æ³•ï¼Œæ˜¯å€¼å¾—æˆ‘ä»¬å­¦ä¹ çš„åœ°æ–¹,å†™çš„çœŸå¥½å“ˆå“ˆå“ˆå“ˆå“ˆï¼ï¼ï¼ ArrayList çš„æ”¹æŸ¥å¯¹äºä¸€ä¸ªArrayList çš„æ”¹æŸ¥æ–¹æ³•å°±å¾ˆç®€å•äº†ï¼Œset å’Œ get æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹æºç å§ï¼š ä¿®æ”¹æŒ‡å®šè§’æ ‡ä½ç½®çš„å…ƒç´ 1234567891011121314public E set(int index, E element) &#123; //è§’æ ‡è¶Šç•Œæ£€æŸ¥ rangeCheck(index); //ä¸‹æ ‡å–æ•°æ®æ³¨æ„è¿™é‡Œä¸æ˜¯elementData[index] è€Œæ˜¯ elementData(index) æ–¹æ³• E oldValue = elementData(index); //å°† index ä½ç½®è®¾ç½®ä¸ºæ–°çš„å…ƒç´  elementData[index] = element; // è¿”å›ä¹‹å‰åœ¨ index ä½ç½®çš„å…ƒç´  return oldValue;&#125;E elementData(int index) &#123; return (E) elementData[index];&#125; æŸ¥è¯¢æŒ‡å®šè§’æ ‡çš„å…ƒç´ 123456public E get(int index) &#123; //è¶Šç•Œæ£€æŸ¥ rangeCheck(index); //ä¸‹æ ‡å–æ•°æ®æ³¨æ„è¿™é‡Œä¸æ˜¯elementData[index] è€Œæ˜¯ elementData(index) æ–¹æ³• return elementData(index); &#125; æŸ¥è¯¢æŒ‡å®šå…ƒç´ çš„è§’æ ‡æˆ–è€…é›†åˆæ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ 12345678910111213141516171819202122232425262728293031323334353637//é›†åˆä¸­æ˜¯å¦åŒ…å«å…ƒç´  indexOf è¿”å› -1 è¡¨ç¤ºä¸åŒ…å« return false å¦åˆ™è¿”å› truepublic boolean contains(Object o) &#123; return indexOf(o) &gt;= 0;&#125;/*** è¿”å›é›†åˆä¸­ç¬¬ä¸€ä¸ªä¸ o å…ƒç´ ç›¸ç­‰çš„å…ƒç´ è§’æ ‡ï¼Œè¿”å› -1 è¡¨ç¤ºé›†åˆä¸­ä¸å­˜åœ¨è¿™ä¸ªå…ƒç´ * è¿™é‡Œè¿˜åšäº†ç©ºå…ƒç´ ç›´æ¥åˆ¤æ–­ == çš„æ“ä½œ*/public int indexOf(Object o) &#123; if (o == null) &#123; for (int i = 0; i &lt; size; i++) if (elementData[i]==null) return i; &#125; else &#123; for (int i = 0; i &lt; size; i++) if (o.equals(elementData[i])) return i; &#125; return -1;&#125;/** * ä» elementData æœ«å°¾å¼€å§‹éå†éå†æ•°ç»„ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯é›†åˆä¸­æœ€åä¸€ä¸ªä¸ o ç›¸ç­‰çš„å…ƒç´ çš„è§’æ ‡*/public int lastIndexOf(Object o) &#123; if (o == null) &#123; for (int i = size-1; i &gt;= 0; i--) if (elementData[i]==null) return i; &#125; else &#123; for (int i = size-1; i &gt;= 0; i--) if (o.equals(elementData[i])) return i; &#125; return -1;&#125; ArrayList é›†åˆçš„ toArry æ–¹æ³•å…¶å® Object[] toArray(); æ–¹æ³•ï¼Œä»¥åŠå…¶é‡è½½å‡½æ•° \ T[] toArray(T[] a); æ˜¯æ¥å£ Collection çš„æ–¹æ³•ï¼ŒArrayList å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå¾ˆå°‘è§ArrayList æºç åˆ†æçš„æ–‡ç« åˆ†æè¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œé¡¾åæ€ä¹‰è¿™ä¸¤ä¸ªæ–¹æ³•çš„æ˜¯ç”¨æ¥ï¼Œå°†ä¸€ä¸ªé›†åˆè½¬ä¸ºæ•°ç»„çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¸¤è€…çš„ä¸åŒä¹‹å¤„æ˜¯ï¼Œåè€…å¯ä»¥æŒ‡å®šæ•°ç»„çš„ç±»å‹ï¼Œå‰è€…è¿”å›ä¸ºä¸€ä¸ª Object[] è¶…ç±»æ•°ç»„ã€‚é‚£ä¹ˆæˆ‘ä»¬å…·ä½“ä¸‹æºç å®ç°ï¼š 1234567891011121314public Object[] toArray() &#123; return Arrays.copyOf(elementData, size);&#125;@SuppressWarnings("unchecked")public &lt;T&gt; T[] toArray(T[] a) &#123; if (a.length &lt; size) // Make a new array of a's runtime type, but my contents: return (T[]) Arrays.copyOf(elementData, size, a.getClass()); System.arraycopy(elementData, 0, a, 0, size); if (a.length &gt; size) a[size] = null; return a;&#125; å¯ä»¥çœ‹åˆ° Object[] toArray() åªæ˜¯è°ƒç”¨äº†ä¸€æ¬¡ Arrays.copyOf() å°†é›†åˆä¸­å…ƒç´ æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„ Object[] æ•°ç»„å¹¶è¿”å›ã€‚è¿™ä¸ª Arrays.copyOf() æ–¹æ³•å‰è¾¹å·²ç»è®²äº†ã€‚æ‰€ä»¥ toArray() æ–¹æ³•å¹¶æ²¡æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæœ‰ç–‘é—®çš„åœ°æ–¹åœ¨äºtoArray(T[] a) ã€‚ æˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªæŒ‡å®šç±»å‹çš„æ ‡å¿—æ•°ç»„ä½œä¸ºå‚æ•°ï¼ŒtoArray(T[] a) æ–¹æ³•æœ€ç»ˆä¼šè¿”å›è¿™ä¸ªç±»å‹çš„åŒ…å«é›†åˆå…ƒç´ çš„æ–°æ•°ç»„ã€‚ä½†æ˜¯æºç åˆ¤æ–­äº† ï¼š å¦‚æœ a.length &lt; size å³å½“å‰é›†åˆå…ƒç´ çš„ä¸ªæ•°ä¸å‚æ•° a æ•°ç»„å…ƒç´ çš„å¤§å°çš„æ—¶å€™å°†å’Œ toArray() ä¸€æ ·è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ å¦‚æœ a.length == size å°†ä¸ä¼šäº§ç”Ÿæ–°çš„æ•°ç»„ç›´æ¥å°†é›†åˆä¸­çš„å…ƒç´ è°ƒç”¨ System.arraycopy() æ–¹æ³•å°†å…ƒç´ å¤åˆ¶åˆ°å‚æ•°æ•°ç»„ä¸­ï¼Œè¿”å› aã€‚ a.length &gt; size ä¹Ÿä¸ä¼šäº§ç”Ÿæ–°çš„æ•°ç»„,ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ a[size] = null; è¿™ä¸€å¥æ”¹å˜äº†åŸæ•°ç»„ä¸­ index = size ä½ç½®çš„å…ƒç´ ï¼Œè¢«é‡æ–°è®¾ç½®ä¸º null äº†ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ç¬¬ä¸‰ç§æƒ…å†µçš„ä¾‹å­ï¼š 12345678910111213141516171819202122232425SubClass[] sourceMore = new SubClass[4]; for (int i = 0; i &lt; sourceMore.length; i++) &#123; sourceMore[i] = new SubClass(i);&#125; //å½“ List.toArray(T[] a) ä¸­ a.length == list.size çš„æ—¶å€™ä½¿ç”¨ Array.copyOf ä¼šå°† list ä¸­çš„å†…å®¹èµ‹å€¼ç»™ sourceMore å¹¶å°†å…¶è¿”å›//sourceMore[0,size-1] = list&#123;0, size-1&#125; è€Œ sourceMore[size] = nullSubClass[] sourceMore = new SubClass[4];for (int i = 0; i &lt; sourceMore.length; i++) &#123; sourceMore[i] = new SubClass(i);&#125;//list to Array ä¹‹å‰ sourceMore [SubClass&#123;test=0&#125;, SubClass&#123;test=1&#125;, SubClass&#123;test=2&#125;, SubClass&#123;test=3&#125;] sourceEqual.length:: 4System.out.println("list to Array ä¹‹å‰ sourceMore " + Arrays.toString(sourceMore) + " sourceEqual.length:: " + sourceMore.length);SubClass[] desSourceMore = tLists.toArray(sourceMore);//list to Array ä¹‹å desSourceMore [SubClass&#123;test=1&#125;, SubClass&#123;test=2&#125;, null, SubClass&#123;test=3&#125;]desSourceMore.length:: 4System.out.println("list to Array ä¹‹å desSourceMore " + Arrays.toString(desSourceMore) + "desSourceMore.length:: " + desSourceMore.length);//list to Array ä¹‹å source [SubClass&#123;test=1&#125;, SubClass&#123;test=2&#125;, null, SubClass&#123;test=3&#125;]sourceEqual.length:: 4System.out.println("list to Array ä¹‹å source " + Arrays.toString(sourceMore) + "sourceEqual.length:: " + sourceMore.length);//source == desSource trueSystem.out.println("source == desSource " + (sourceMore == desSourceMore)); ArrayList çš„éå†ArrayList çš„éå†æ–¹å¼ jdk 1.8 ä¹‹å‰æœ‰ä¸‰ç§ ï¼šfor å¾ªç¯éå†ï¼Œ foreach éå†ï¼Œè¿­ä»£å™¨éå†,jdk 1.8 ä¹‹ååˆå¼•å…¥äº†forEach æ“ä½œï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿­ä»£å™¨çš„æºç å®ç°ï¼š è¿­ä»£å™¨è¿­ä»£å™¨ Iterator æ¨¡å¼æ˜¯ç”¨äºéå†å„ç§é›†åˆç±»çš„æ ‡å‡†è®¿é—®æ–¹æ³•ã€‚å®ƒå¯ä»¥æŠŠè®¿é—®é€»è¾‘ä»ä¸åŒç±»å‹çš„é›†åˆç±»ä¸­æŠ½è±¡å‡ºæ¥ï¼Œä»è€Œé¿å…å‘å®¢æˆ·ç«¯æš´éœ²é›†åˆçš„å†…éƒ¨ç»“æ„ã€‚ ArrayList ä½œä¸ºé›†åˆç±»ä¹Ÿä¸ä¾‹å¤–ï¼Œè¿­ä»£å™¨æœ¬èº«åªæä¾›ä¸‰ä¸ªæ¥å£æ–¹æ³•ï¼š 12345public interface Iterator &#123; boolean hasNext();//æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´  Object next();// è¿”å›å½“å‰å…ƒç´  å¯ä»¥ç†è§£ä¸ºä»–ç›¸å½“äº fori ä¸­ i ç´¢å¼• void remove();// ç§»é™¤ä¸€ä¸ªå½“å‰çš„å…ƒç´  ä¹Ÿå°±æ˜¯ next å…ƒç´ ã€‚ &#125; ArrayList ä¸­è°ƒç”¨ iterator() å°†ä¼šè¿”å›ä¸€ä¸ªå†…éƒ¨ç±»å¯¹è±¡ Itr å…¶å®ç°äº† Iterator æ¥å£ã€‚ 123public Iterator&lt;E&gt; iterator() &#123; return new Itr();&#125; ä¸‹é¢è®©æˆ‘ä»¬çœ‹ä¸‹å…¶å®ç°çš„æºç ï¼š æ­£å¦‚æˆ‘ä»¬çš„ for å¾ªç¯éå†ä¸€æ ·ï¼Œæ•°ç»„è§’æ ‡æ€»æ˜¯ä» 0 å¼€å§‹çš„ï¼Œæ‰€ä»¥ cursor åˆå§‹å€¼ä¸º 0 ï¼Œ hasNext è¡¨ç¤ºæ˜¯å¦éå†åˆ°æ•°ç»„æœ«å°¾ï¼Œå³ i &lt; size ã€‚å¯¹äº modCount å˜é‡ä¹‹æ‰€ä»¥ä¸€ç›´æ²¡æœ‰ä»‹ç»æ˜¯å› ä¸ºä»–é›†åˆå¹¶å‘è®¿é—®æœ‰å…³ç³»ï¼Œç”¨äºæ ‡è®°å½“å‰é›†åˆè¢«ä¿®æ”¹ï¼ˆå¢åˆ ï¼‰çš„æ¬¡æ•°ï¼Œå¦‚æœå¹¶å‘è®¿é—®äº†é›†åˆé‚£ä¹ˆå°†ä¼šå¯¼è‡´è¿™ä¸ª modCount çš„å˜åŒ–ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ä¸æ­£ç¡®çš„æ“ä½œé›†åˆå°†ä¼šæŠ›å‡º ConcurrentModificationException ï¼Œè¿™æ˜¯ Java ã€Œfast-fail çš„æœºåˆ¶ã€ï¼Œå¯¹äºå¦‚æœæ­£ç¡®çš„åœ¨éå†è¿‡ç¨‹ä¸­æ“ä½œé›†åˆç¨åä¼šæœ‰è¯´æ˜ã€‚ 12345678private class Itr implements Iterator&lt;E&gt; &#123; int cursor; // å¯¹ç…§ hasNext æ–¹æ³• cursor åº”ç†è§£ä¸ºä¸‹ä¸ªè°ƒç”¨ next è¿”å›çš„å…ƒç´  åˆå§‹ä¸º 0 int lastRet = -1; // ä¸Šä¸€ä¸ªè¿”å›çš„è§’æ ‡ int expectedModCount = modCount;//åˆå§‹åŒ–çš„æ—¶å€™å°†å…¶èµ‹å€¼ä¸ºå½“å‰é›†åˆä¸­çš„æ“ä½œæ•°ï¼Œ // æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´  cursor == size è¡¨ç¤ºå½“å‰é›†åˆå·²ç»éå†å®Œäº† æ‰€ä»¥åªæœ‰å½“ cursor ä¸ç­‰äº size çš„æ—¶å€™ æ‰ä¼šæœ‰ä¸‹ä¸€ä¸ªå…ƒç´  public boolean hasNext() &#123; return cursor != size; &#125; next æ–¹æ³•æ˜¯æˆ‘ä»¬è·å–é›†åˆä¸­å…ƒç´ çš„æ–¹æ³•ï¼Œnext è¿”å›å½“å‰éå†ä½ç½®çš„å…ƒç´ ï¼Œå¦‚æœåœ¨è°ƒç”¨ next ä¹‹å‰é›†åˆè¢«ä¿®æ”¹ï¼Œå¹¶ä¸”è¿­ä»£å™¨ä¸­çš„æœŸæœ›æ“ä½œæ•°å¹¶æ²¡æœ‰æ”¹å˜ï¼Œå°†ä¼šå¼•å‘ConcurrentModificationExceptionã€‚next æ–¹æ³•å¤šæ¬¡è°ƒç”¨ checkForComodification æ¥æ£€éªŒè¿™ä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ã€‚ 1234567891011121314151617@SuppressWarnings("unchecked") public E next() &#123; // éªŒè¯æœŸæœ›çš„æ“ä½œæ•°ä¸å½“å‰é›†åˆä¸­çš„æ“ä½œæ•°æ˜¯å¦ç›¸åŒ å¦‚æœä¸åŒå°†ä¼šæŠ›å‡ºå¼‚å¸¸ checkForComodification(); // å¦‚æœè¿­ä»£å™¨çš„ç´¢å¼•å·²ç»å¤§äºé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™é‡Œä¸æŠ›å‡ºè§’æ ‡è¶Šç•Œ int i = cursor; if (i &gt;= size) throw new NoSuchElementException(); Object[] elementData = ArrayList.this.elementData; // ç”±äºå¤šçº¿ç¨‹çš„é—®é¢˜è¿™é‡Œå†æ¬¡åˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼Œå¦‚æœæœ‰å¼‚æ­¥çº¿ç¨‹ä¿®æ”¹äº†Listï¼ˆå¢åˆ ï¼‰è¿™é‡Œå°±å¯èƒ½äº§ç”Ÿå¼‚å¸¸ if (i &gt;= elementData.length) throw new ConcurrentModificationException(); // cursor ç§»åŠ¨ cursor = i + 1; //æœ€ç»ˆè¿”å› é›†åˆä¸­å¯¹åº”ä½ç½®çš„å…ƒç´ ï¼Œå¹¶å°† lastRet èµ‹å€¼ä¸ºå·²ç»è®¿é—®çš„å…ƒç´ çš„ä¸‹æ ‡ return (E) elementData[lastRet = i]; &#125; åªæœ‰ Iterator çš„ remove æ–¹æ³•ä¼šåœ¨è°ƒç”¨é›†åˆçš„ remove ä¹‹åè®© æœŸæœ› æ“ä½œæ•°æ”¹å˜ä½¿expectedModCountä¸ modCount å†ç›¸ç­‰ï¼Œæ‰€ä»¥æ˜¯å®‰å…¨çš„ã€‚ 12345678910111213141516171819202122// å®è´¨è°ƒç”¨äº†é›†åˆçš„ remove æ–¹æ³•ç§»é™¤å…ƒç´ public void remove() &#123; // æ¯”å¦‚æ“ä½œè€…æ²¡æœ‰è°ƒç”¨ next æ–¹æ³•å°±è°ƒç”¨äº† remove æ“ä½œï¼ŒlastRet ç­‰äº -1çš„æ—¶å€™æŠ›å¼‚å¸¸ if (lastRet &lt; 0) throw new IllegalStateException(); //æ£€æŸ¥æ“ä½œæ•° checkForComodification(); try &#123; //ç§»é™¤ä¸Šæ¬¡è°ƒç”¨ next è®¿é—®çš„å…ƒç´  ArrayList.this.remove(lastRet); // é›†åˆä¸­å°‘äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ cursor å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼ˆè°ƒç”¨ next æ—¶å€™ cursor = lastRet + 1ï¼‰ cursor = lastRet; //åˆ é™¤å…ƒç´ åèµ‹å€¼-1ï¼Œç¡®ä¿å…ˆå‰ remove æ—¶å€™çš„åˆ¤æ–­ lastRet = -1; //ä¿®æ”¹æ“ä½œæ•°æœŸæœ›å€¼ï¼Œ modCount åœ¨è°ƒç”¨é›†åˆçš„ remove çš„æ—¶å€™è¢«ä¿®æ”¹è¿‡äº†ã€‚ expectedModCount = modCount; &#125; catch (IndexOutOfBoundsException ex) &#123; // é›†åˆçš„ remove ä¼šæœ‰å¯èƒ½æŠ›å‡º rangeCheck å¼‚å¸¸ï¼Œcatch æ‰ç»Ÿä¸€æŠ›å‡º ConcurrentModificationException throw new ConcurrentModificationException(); &#125; &#125; æ£€æŸ¥æœŸæœ›çš„æ“ä½œæ•°ä¸å½“å‰é›†åˆçš„æ“ä½œæ•°æ˜¯å¦ç›¸åŒã€‚Java8 å‘å¸ƒäº†å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§åŒ…æ‹¬ lamada å’ŒStream æ“ä½œã€‚è¿­ä»£å™¨ä¹Ÿå› æ­¤æ·»åŠ äº† forEachRemaining æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥å°†å½“å‰è¿­ä»£å™¨è®¿é—®çš„å…ƒç´ ï¼ˆnext æ–¹æ³•ï¼‰åçš„å…ƒç´ ä¼ é€’å‡ºå»è¿˜æ²¡ç”¨åˆ°è¿‡ï¼Œæºç å°±ä¸æ”¾å‡ºæ¥äº†,å¤§å®¶æœ‰å…´è¶£è‡ªå·±äº†è§£ä¸‹ã€‚ 1234567891011 @Override @SuppressWarnings("unchecked")public void forEachRemaining(Consumer&lt;? super E&gt; consumer) &#123; //... Java8 çš„æ–°ç‰¹æ€§ï¼Œå¯ä»¥å°†å½“å‰è¿­ä»£å™¨è®¿é—®çš„å…ƒç´ ï¼ˆnext æ–¹æ³•ï¼‰åçš„å…ƒç´ ä¼ é€’å‡ºå»è¿˜æ²¡ç”¨åˆ°è¿‡ï¼Œæºç å°±ä¸æ”¾å‡ºæ¥äº†,å¤§å®¶æœ‰å…´è¶£è‡ªå·±äº†è§£ä¸‹ã€‚ &#125; // æ£€æŸ¥æœŸæœ›çš„æ“ä½œæ•°ä¸å½“å‰é›†åˆçš„æ“ä½œæ•°æ˜¯å¦ç›¸åŒ final void checkForComodification() &#123; if (modCount != expectedModCount) throw new ConcurrentModificationException(); &#125;&#125; ListIterator è¿­ä»£å™¨ArrayList å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è·å– ListIterator è¿­ä»£å™¨ï¼ŒåŒºåˆ«åœ¨äºåˆå§‹è§’æ ‡çš„ä½ç½®ã€‚ä¸å¸¦å‚æ•°çš„è¿­ä»£å™¨é»˜è®¤çš„cursor = 0 123456789public ListIterator&lt;E&gt; listIterator(int index) &#123; if (index &lt; 0 || index &gt; size) throw new IndexOutOfBoundsException("Index: "+index); return new ListItr(index);&#125; public ListIterator&lt;E&gt; listIterator() &#123; return new ListItr(0);&#125; ListItrå¯¹è±¡ç»§æ‰¿è‡ªå‰è¾¹åˆ†æçš„ Itrï¼Œä¹Ÿå°±æ˜¯è¯´ä»–æ‹¥æœ‰ Itr çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ï¼Œå…¶æ‰©å±•äº†è®¿é—®å½“å‰è§’æ ‡å‰ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•ã€‚ä»¥åŠåœ¨éå†è¿‡ç¨‹ä¸­æ·»åŠ å…ƒç´ å’Œä¿®æ”¹å…ƒç´ çš„æ–¹æ³•ã€‚ ListItr çš„æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼š 12345private class ListItr extends Itr implements ListIterator&lt;E&gt; &#123; ListItr(int index) &#123; super(); cursor = index;&#125; ListItr çš„ previous æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930public boolean hasPrevious() &#123; // cursor = 0 è¡¨ç¤ºæ¸¸æ ‡åœ¨æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å·¦è¾¹ï¼Œæ­¤æ—¶ `hasPrevious` è¿”å›false return cursor != 0;&#125;public int nextIndex() &#123; return cursor;//è°ƒç”¨è¿”å›å½“å‰è§’æ ‡ä½ç½®&#125;public int previousIndex() &#123; return cursor - 1;//è°ƒç”¨è¿”å›ä¸Šä¸€ä¸ªè§’æ ‡&#125;//è¿”å›å½“å‰è§’æ ‡çš„ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å‰ç§»ç§»åŠ¨è§’æ ‡@SuppressWarnings("unchecked")public E previous() &#123; // fast-fail æ£€æŸ¥ checkForComodification(); int i = cursor - 1; // å¦‚æœå‰ç§»è§’æ ‡ &lt;0 ä»£è¡¨éå†åˆ°æ•°ç»„éå†å®Œæˆï¼Œä¸€èˆ¬åœ¨è°ƒç”¨ previous è¦è°ƒç”¨ hasPrevious åˆ¤æ–­ if (i &lt; 0) throw new NoSuchElementException(); //è·å–å…ƒç´  Object[] elementData = ArrayList.this.elementData; if (i &gt;= elementData.length) throw new ConcurrentModificationException(); //è·å–æˆåŠŸåä¿®æ”¹è§’æ ‡ä½ç½®å’Œ lastRet ä½ç½® cursor = i; return (E) elementData[lastRet = i];&#125; ListItr çš„ add æ–¹æ³• 1234567891011121314151617public void add(E e) &#123; // fast-fail æ£€æŸ¥ checkForComodification(); try &#123; // è·å–å½“å‰è§’æ ‡ä½ç½®ï¼Œä¸€èˆ¬çš„æ˜¯è°ƒç”¨ previous åï¼Œè§’æ ‡æ”¹å˜ååå» cursor int i = cursor; //æ·»åŠ å…ƒç´ åœ¨è§’æ ‡ä½ç½® ArrayList.this.add(i, e); //é›†åˆä¿®æ”¹å®Œæˆåè¦æ”¹å˜å½“å‰è§’æ ‡ä½ç½® cursor = i + 1; //é‡æ–°ç½®ä½ -1 å¦‚æœä½¿ç”¨è¿­ä»£å™¨ä¿®æ”¹äº†è§’æ ‡ä½ç½®å…ƒç´ åä¸å…è®¸ç«‹åˆ»ä½¿ç”¨ set æ–¹æ³•ä¿®æ”¹ä¿®æ”¹åè§’æ ‡æœªçŸ¥çš„é¢å…ƒç´  å‚è€ƒ set çš„æºä»£ç  lastRet = -1; expectedModCount = modCount; &#125; catch (IndexOutOfBoundsException ex) &#123; throw new ConcurrentModificationException(); &#125;&#125; å¯èƒ½å¯¹æ¯”ä¸¤ä¸ªè¿­ä»£å™¨åï¼Œä¼šå¯¹ curor æŒ‡å‘çš„ä½ç½®æœ‰æ‰€ç–‘æƒ‘ï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€æ®µç¤ºä¾‹ä»£ç å¯¹åº”çš„å›¾ï¼š 1234567891011121314151617181920private void testListItr()&#123; ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(); list.add(1); list.add(2); list.add(3); list.add(4); ListIterator&lt;Integer&gt; listIterator = list.listIterator(list.size()); while (listIterator.hasPrevious())&#123; if (listIterator.previous() == 2)&#123; listIterator.add(0); // listIterator.set(10); //Exception in thread "main" java.lang.IllegalStateException &#125; &#125; System.out.println("list " + list.toString());&#125; ç”±æ­¤å¯ä»¥çœ‹ cursor äº æ•°ç»„è§’æ ‡ä¸åŒï¼Œå®ƒå¯ä»¥å¤„çš„ä½ç½®æ€»æ¯”è§’æ ‡å¤šä¸€ä¸ªï¼Œå› ä¸ºåœ¨æˆ‘ä»¬ä½¿ç”¨ Iterator æ“ä½œé›†åˆçš„æ—¶å€™ï¼Œæ€»æ˜¯è¦å…ˆæ“ä½œ cursor ç§»åŠ¨ï¼Œ listIterator.previous ä¹Ÿå¥½ iterator.next() ä¹Ÿå¥½ï¼Œéƒ½æ˜¯ä¸€æ ·çš„é“ç†ï¼Œå¦‚æœä¸æŒ‰ç…§è§„å®šå»è¿›è¡Œæ“ä½œï¼Œå¸¦ç»™ä½¿ç”¨è€…çš„åªæœ‰å¼‚å¸¸ã€‚ java8 æ–°å¢åŠ çš„éå†æ–¹æ³• forEachjava8å¢åŠ å¾ˆå¤šå¥½ç”¨çš„ APIï¼Œå·¥ä½œå’Œå­¦ä¹ ä¸­ä¹Ÿåœ¨æ…¢æ…¢æ¥è§¦è¿™äº› APIï¼ŒforEach æ“ä½œå¯èƒ½æ˜¯æˆ‘ç»§ lambda åï¼Œç¬¬ä¸€ä¸ªä½¿ç”¨çš„ API äº†ï¼ˆå›§ï¼‰ï¼Œjdk doc å¯¹è¿™ä¸ªæ–¹æ³•çš„è§£é‡Šæ˜¯ï¼š å¯¹æ­¤é›†åˆçš„æ¯ä¸ªæ¡ç›®æ‰§è¡Œç»™å®šæ“ä½œï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰æ¡ç›®æˆ–æ“ä½œæŠ›å‡ºå¼‚å¸¸ä¸ºæ­¢ã€‚ é™¤éå®ç°ç±»å¦æœ‰è§„å®šï¼Œå¦åˆ™æŒ‰ç…§æ¡ç›®é›†è¿­ä»£çš„é¡ºåºæ‰§è¡Œæ“ä½œï¼ˆå¦‚æœæŒ‡å®šäº†è¿­ä»£é¡ºåºï¼‰ã€‚æ“ä½œæŠ›å‡ºçš„å¼‚å¸¸éœ€è¦è°ƒç”¨è€…è‡ªå·±å¤„ç†ã€‚ å…¶å®å…¶å†…éƒ¨å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œåªæ˜¯ä¸€ä¸ªåˆ¤æ–­äº†æ“ä½œæ•°çš„ for å¾ªç¯ï¼Œæ‰€ä»¥åœ¨æ•ˆç‡ä¸Šä¸ä¼šæœ‰æå‡ï¼Œä½†æ˜¯åœ¨å®‰å…¨æ€§ä¸Šçš„ç¡®æœ‰æå‡ï¼Œä¹Ÿå°‘äº›å¾ˆå¤šä»£ç ä¸æ˜¯ä¹ˆï¼Ÿ 1234567891011121314151617@Overridepublic void forEach(Consumer&lt;? super E&gt; action) &#123; //æ£€æŸ¥è°ƒç”¨è€…ä¼ è¿›æ¥çš„æ“ä½œå‡½æ•°æ˜¯å¦ä¸ºç©º Objects.requireNonNull(action); //ä¸è¿­ä»£ä¸åŒæœŸæœ›æ“ä½œè¢«èµ‹å€¼ä¸º final ä¹Ÿå°±æ˜¯ forEach è¿‡ç¨‹ä¸­ä¸å…è®¸å¹¶å‘ä¿®æ”¹é›†åˆå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ final int expectedModCount = modCount; @SuppressWarnings("unchecked") final E[] elementData = (E[]) this.elementData; final int size = this.size; //æ¯æ¬¡å–å…ƒç´ ä¹‹å‰åˆ¤æ–­æ“ä½œæ•°ï¼Œç¡®ä¿æ“ä½œæ­£å¸¸ for (int i=0; modCount == expectedModCount &amp;&amp; i &lt; size; i++) &#123; action.accept(elementData[i]); &#125; if (modCount != expectedModCount) &#123; throw new ConcurrentModificationException(); &#125;&#125; å¯¹äºé«˜çº§ for å¾ªç¯ä»¥åŠæœ€æ™®é€šçš„ fori æ–¹æ³•è¿™é‡Œä¸å†èµ˜è¿°ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹é¢è¯•ä¼šé—®åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åœ¨å•çº¿ç¨‹æ“ä½œé›†åˆçš„æ—¶å€™éœ€è¦æ³¨æ„çš„ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ­£ç¡®çš„åœ¨éå†è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆã€‚ é”™è¯¯æ“ä½œ 1 åœ¨ forå¾ªç¯ä¿®æ”¹é›†åˆåç»§ç»­éå†ç¬¬ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314List&lt;SubClass&gt; list2 = new ArrayList&lt;&gt;();list2.add(new SubClass(1));list2.add(new SubClass(2));list2.add(new SubClass(3));list2.add(new SubClass(3));for (int i = 0; i &lt; list2.size(); i++) &#123; if (list2.get(i).test == 3) &#123; list2.remove(i); &#125;&#125;System.out.println(list2);//[SubClass&#123;test=1&#125;, SubClass&#123;test=2&#125;, SubClass&#123;test=3&#125;] è¿™ä¸ªä¾‹å­æˆ‘ä»¬ä¼šå‘ç°ï¼Œç¨‹åºå¹¶æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯ä»è¿è¡Œç»è¿‡ä¸Šæ¥çœ‹å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› ä¸ºè¿˜æœ‰ SubClass.test = 3çš„æ•°æ®åœ¨ï¼Œè¿™æ˜¯å› ä¸º remove æ“ä½œæ”¹å˜äº†list.size(),è€Œ fori ä¸­æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šé‡æ–°è°ƒç”¨ä¸€æ¬¡lists2.size()ï¼Œå½“æˆ‘ä»¬åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åï¼Œlist2.size() = 3,i = 3 &lt; 3 ä¸æˆç«‹åˆ™æ²¡æœ‰åœ¨è¿›è¡Œ remove æ“ä½œï¼ŒçŸ¥é“äº†ä¸ºä»€ä¹ˆä»¥åæˆ‘ä»¬è¯•ç€è¿™æ ·æ”¹å˜äº†å¾ªç¯æ–¹å¼ï¼š 123456789int size = list2.size();for (int i = 0; i &lt; size; i++) &#123; if (list2.get(i).test == 3) &#123; list2.remove(i);//remove ä»¥å list å†…éƒ¨å°† size é‡æ–°æ”¹å˜äº† for å¾ªç¯ä¸‹æ¬¡è°ƒç”¨çš„æ—¶å€™å¯èƒ½å°±ä¸è¿›å»äº† &#125;&#125;System.out.println(list2);//Exception in thread "main" java.lang.IndexOutOfBoundsException: Index: 3, Size: 3 æœçœŸç¨‹åºæŠ›å‡ºäº†è§’æ ‡è¶Šç•Œçš„å¼‚å¸¸ï¼Œå› ä¸ºè¿™æ ·æ¯æ¬¡ fori çš„æ—¶å€™æˆ‘ä»¬ä¸å»æ‹¿æ›´æ–°åçš„ list å…ƒç´ çš„ size å¤§å°ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åˆ é™¤ä¸€ä¸ªå…ƒç´ åï¼Œsize = 3 å½“æˆ‘ä»¬ for å¾ªç¯å»list2.get(3)çš„æ—¶å€™å°±ä¼šè¢« rangeCheckæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ã€‚ é”™è¯¯æ“ä½œå¯¼è‡´ ConcurrentModificationException å¼‚å¸¸æˆ‘ä»¬åˆ†æè¿­ä»£å™¨çš„æ—¶å€™ï¼ŒçŸ¥é“ ConcurrentModificationExceptionæ˜¯æŒ‡å› ä¸ºè¿­ä»£å™¨è°ƒç”¨ checkForComodification æ–¹æ³•æ¯”è¾ƒ modCount å’Œ expectedModCount æ–¹æ³•å¤§å°çš„æ—¶å€™æŠ›å‡ºå¼‚å¸¸ã€‚æˆ‘ä»¬åœ¨åˆ†æ ArrayList çš„æ—¶å€™åœ¨æ¯æ¬¡å¯¹é›†åˆè¿›è¡Œä¿®æ”¹ï¼Œ å³æœ‰ add å’Œ remove æ“ä½œçš„æ—¶å€™æ¯æ¬¡éƒ½ä¼šå¯¹ modCount ++ã€‚ modCount è¿™ä¸ªå˜é‡ä¸»è¦ç”¨æ¥è®°å½• ArrayList è¢«ä¿®æ”¹çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦è®°å½•è¿™ä¸ªæ¬¡æ•°å‘¢ï¼Ÿæ˜¯ä¸ºäº†é˜²æ­¢å¤šçº¿ç¨‹å¯¹åŒä¸€é›†åˆè¿›è¡Œä¿®æ”¹äº§ç”Ÿé”™è¯¯ï¼Œè®°å½•äº†è¿™ä¸ªå˜é‡ï¼Œåœ¨å¯¹ ArrayList è¿›è¡Œè¿­ä»£çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬èƒ½å¾ˆå¿«çš„å‘ç°è¿™ä¸ªå˜é‡æ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼Œå¦‚æœè¢«ä¿®æ”¹äº† ConcurrentModificationException å°†ä¼šäº§ç”Ÿã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­å¹¶ä¸æ˜¯åœ¨å¤šçº¿ç¨‹ä¸‹çš„ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åŒä¸€çº¿ç¨‹ä¸­å¯¹ list è¿›è¡Œäº†é”™è¯¯æ“ä½œå¯¼è‡´çš„ï¼š 12345678910111213Iterator&lt;SubClass&gt; iterator = lists.iterator();while (iterator.hasNext()) &#123; SubClass next = iterator.next(); int index = next.test; if (index == 3) &#123; list2.remove(index);//æ“ä½œ1ï¼š æ³¨æ„æ˜¯ list2.remove æ“ä½œ //iterator.remove()ï¼›/æ“ä½œ2 æ³¨æ„æ˜¯ iterator.remove æ“ä½œ &#125;&#125;//æ“ä½œ1ï¼š Exception in thread "main" java.util.ConcurrentModificationException//æ“ä½œ2ï¼š [SubClass&#123;test=1&#125;, SubClass&#123;test=2&#125;]System.out.println(list2); æˆ‘ä»¬å¯¹æ“ä½œ1ï¼Œ2åˆ†åˆ«è¿è¡Œç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ“ä½œ1å¾ˆå¿«å°±æŠ›å‡ºäº† java.util.ConcurrentModificationException å¼‚å¸¸ï¼Œæ“ä½œ2 åˆ™é¡ºåˆ©è¿è¡Œå‡ºæ­£å¸¸ç»“æœï¼Œå¦‚æœå¯¹ modCount æ³¨æ„äº†çš„è¯ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ï¼Œlist.remove(index) æ“ä½œä¼šä¿®æ”¹List çš„ modCountï¼Œè€Œ iterator.next() å†…éƒ¨æ¯æ¬¡ä¼šæ£€éªŒ expectedModCount != modCountï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨ list.remove ä¸‹ä¸€æ¬¡å†è°ƒç”¨ iterator.next() å°±ä¼šæŠ¥é”™äº†ï¼Œè€Œiterator.removeä¸ºä»€ä¹ˆæ˜¯å®‰å…¨çš„å‘¢ï¼Ÿå› ä¸ºå…¶æ“ä½œå†…éƒ¨ä¼šåœ¨è°ƒç”¨ list.remove åé‡æ–°å°†æ–°çš„ modCount èµ‹å€¼ç»™ expectedModCountã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æ¥è°ƒç”¨ list.remove æ“ä½œæ˜¯é”™è¯¯çš„ã€‚å¯¹äºå¤šçº¿ç¨‹çš„å½±å“è¿™é‡Œä¸åœ¨å±•å¼€è¿™é‡Œæ¨èæœ‰å…´è¶£çš„æœ‹å‹çœ‹ä¸‹è¿™ä¸ªæ–‡ç«  Java ConcurrentModificationExceptionå¼‚å¸¸åŸå› å’Œè§£å†³æ–¹æ³•; ç»è¿‡äº†ä¸€è½®åˆ†ææˆ‘ä»¬æˆ‘ä»¬çŸ¥é“äº†é”™è¯¯äº§ç”ŸåŸå› äº†ï¼Œä½†æ˜¯å¤§å®¶æ˜¯å¦èƒ½çœŸçš„åˆ†è¾¨å‡ºä»€ä¹ˆæ“ä½œæ˜¯é”™è¯¯çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹è¾¹è¿™ä¸ªé¢è¯•é¢˜ï¼Œè¿™æ˜¯æˆ‘åœ¨ç½‘ä¸Šæ— æ„ä¸­çœ‹åˆ°çš„ä¸€é“å¤§ä¼—ç‚¹è¯„çš„é¢è¯•é¢˜ï¼š 123456789ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();for (int i = 0; i &lt; 10; i++) &#123; list.add("sh" + i);&#125;for (int i = 0; list.iterator().hasNext(); i++) &#123; list.remove(i); System.out.println("ç§˜å¯†" + list.get(i));&#125; ä¸€é“é¢è¯•é¢˜ç›¸ä¿¡å¤§å®¶è‚¯å®šçŸ¥é“è¿™æ ·æ“ä½œæ˜¯ä¼šäº§ç”Ÿé”™è¯¯çš„ï¼Œä½†æ˜¯æœ€ç»ˆä¼šæŠ›å‡ºè§’æ ‡è¶Šç•Œè¿˜æ˜¯ConcurrentModificationExceptionå‘¢ï¼Ÿ å…¶å®è¿™é‡Œä¼šæŠ›å‡ºè§’æ ‡è¶Šç•Œå¼‚å¸¸ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸º for å¾ªç¯çš„æ¡ä»¶ list.iterator().hasNext()ï¼Œæˆ‘ä»¬çŸ¥é“ list.iterator() å°†ä¼šnew ä¸€ä¸ªæ–°çš„ iterator å¯¹è±¡ï¼Œè€Œåœ¨ new çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å°† æ¯æ¬¡ list.remove åçš„ modCount èµ‹å€¼ç»™äº†æ–°çš„ iterator çš„ expectedModCountï¼Œæ‰€ä»¥ä¸ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ï¼Œè€Œ hasNext å†…éƒ¨åªåˆ¤æ–­äº† size æ˜¯å¦ç­‰äº cursor != size å½“æˆ‘ä»¬åˆ é™¤äº†ä¸€åŠå…ƒç´ ä»¥åï¼Œsize å˜æˆäº† 5 è€Œæ–°çš„ list.iterator() çš„ cursor ç­‰äº 0 ï¼Œ0!=5 for å¾ªç¯ç»§ç»­ï¼Œé‚£ä¹ˆå½“æ‰§è¡Œåˆ° list.removeï¼ˆ5ï¼‰çš„æ—¶å€™å°±ä¼šæŠ›å‡ºè§’æ ‡è¶Šç•Œäº†ã€‚ æ€»ç»“ ArrayList åº•å±‚æ˜¯ä¸€ä¸ªåŠ¨æ€æ‰©å®¹çš„æ•°ç»„ç»“æ„,æ¯æ¬¡æ‰©å®¹éœ€è¦å¢åŠ 1.5å€çš„å®¹é‡ ArrayList æ‰©å®¹åº•å±‚æ˜¯é€šè¿‡ Arrays.CopyOf å’Œ System.arraycopy æ¥å®ç°çš„ã€‚æ¯æ¬¡éƒ½ä¼šäº§ç”Ÿæ–°çš„æ•°ç»„ï¼Œå’Œæ•°ç»„ä¸­å†…å®¹çš„æ‹·è´ï¼Œæ‰€ä»¥ä¼šè€—è´¹æ€§èƒ½ï¼Œæ‰€ä»¥åœ¨å¤šå¢åˆ çš„æ“ä½œçš„æƒ…å†µå¯ä¼˜å…ˆè€ƒè™‘ LinkList è€Œä¸æ˜¯ ArrayListã€‚ ArrayList çš„ toArray æ–¹æ³•é‡è½½æ–¹æ³•çš„ä½¿ç”¨ã€‚ å…è®¸å­˜æ”¾ï¼ˆä¸æ­¢ä¸€ä¸ªï¼‰ null å…ƒç´ ï¼Œ å…è®¸å­˜æ”¾é‡å¤æ•°æ®ï¼Œå­˜å‚¨é¡ºåºæŒ‰ç…§å…ƒç´ çš„æ·»åŠ é¡ºåº ArrayList å¹¶ä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é›†åˆã€‚å¦‚æœé›†åˆçš„å¢åˆ æ“ä½œéœ€è¦ä¿è¯çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ CopyOnWriteArrayList æˆ–è€…ä½¿collections.synchronizedList(List l)å‡½æ•°è¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ArrayListç±». ä¸æ­£ç¡®è®¿é—®é›†åˆå…ƒç´ çš„æ—¶å€™ ConcurrentModificationExceptionå’Œ java.lang.IndexOutOfBoundsException å¼‚å¸¸äº§ç”Ÿçš„æ—¶æœºå’ŒåŸç†ã€‚æœ¬æ–‡åˆé•¿ç¯‡å¤§è®ºçš„åˆ†æäº†ä¸€æ³¢ ArrayList çš„æºç ï¼Œå¯¹æˆ‘ä¸ªäººè€Œè¨€è¿™å¾ˆæœ‰æ„ä¹‰ï¼Œåœ¨æŸ¥çœ‹æºç çš„è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„åˆ°äº†å¹³æ—¶å¾ˆå°‘æœ‰æœºä¼šæ¥è§¦çš„çŸ¥è¯†ç‚¹ã€‚å½“ç„¶è¿™åªæ˜¯é›†åˆæºç åˆ†æçš„å¼€ç«¯ï¼Œä»¥åè¿˜ä¼šæ›´ç»†ï¼Œå…¶ä»–å¸¸ç”¨é›†åˆæºç çš„åˆ†æã€‚å¦‚æœå¤§å®¶æ„Ÿè§‰æˆ‘å†™çš„è¿˜å¯ä»¥ï¼Œ è¯·ç•™è¨€ + ç‚¹èµ + å…³æ³¨ã€‚ ** è½¬è½½ï¼šææ‡‚ Java ArrayList æºç ]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>ArrayList</tag>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JAVAå¯¹æ•°ç»„çš„å››ç§æ‹·è´æ–¹å¼]]></title>
    <url>%2F2019%2F10%2F07%2FJAVA%E5%AF%B9%E6%95%B0%E7%BB%84%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%8B%B7%E8%B4%9D%E6%96%B9%E5%BC%8F.html</url>
    <content type="text"><![CDATA[æ•°ç»„æ‹·è´çš„å››ç§æ–¹å¼ for clone System.arraycopy arrays.copyof èµ‹å€¼ã€æµ…æ‹·è´ã€æ·±æ‹·è´åœ¨è°ˆåŠå››ç§æ•°ç»„æ‹·è´æ–¹å¼ä¹‹å‰ï¼Œå…ˆæ¥ç¼•ç¼•èµ‹å€¼ã€æµ…æ‹·è´ã€æ·±æ‹·è´ä¸‰è€…çš„å…³ç³»å’ŒåŒºåˆ«ã€‚ æ•°æ®ç±»å‹è°ˆåŠæ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Œé¦–å…ˆè¦å¼„æ¸…æ•°æ®ç±»å‹æœ‰å“ªäº›,æ•°æ®åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹(å…ƒæ•°æ®)å’Œå¼•ç”¨æ•°æ®ç±»å‹(å¯¹è±¡å¼•ç”¨)ã€‚ åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ï¼šç›´æ¥å­˜å‚¨åœ¨æ ˆ(stack)ä¸­çš„æ•°æ® å¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ï¼šå­˜å‚¨çš„æ˜¯è¯¥å¯¹è±¡åœ¨æ ˆä¸­å¼•ç”¨ï¼ŒçœŸå®çš„æ•°æ®å­˜æ”¾åœ¨å †å†…å­˜é‡Œï¼Œå¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚ æ·±æ‹·è´å’Œæµ…æ‹·è´ æ·±æ‹·è´å’Œæµ…æ‹·è´æ˜¯åªé’ˆå¯¹å¼•ç”¨ç±»å‹çš„æ•°æ®è€Œè¨€çš„ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œæ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯ç›´æ¥è¿›è¡Œå€¼ä¼ é€’çš„ï¼Œä¸èµ‹å€¼çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œä¸‰è€…æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼ŒåŒºåˆ«å°±åœ¨äºå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹æ¥è¯´ï¼Œæµ…æ‹·è´åªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«åŒä¸€å—å†…å­˜,æ‰€ä»¥å¦‚æœä¿®æ”¹å¯¹è±¡çš„è¯ä¼šäº’ç›¸å½±å“ã€‚ä½†æ·±æ‹·è´ä¼šå¦å¤–åˆ›é€ ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡è·ŸåŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹åˆ°åŸå¯¹è±¡ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œåœ¨æ•°ç»„å†…éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œæ˜¯ä¸ä¼šæœ‰æ·±æ‹·è´å’Œæµ…æ‹·è´è¿™æ ·çš„æ¦‚å¿µå‡ºç°çš„ï¼Œåªæœ‰å‡ºç°äº†å¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œæ‰èƒ½è°ˆæ·±æ‹·è´å’Œæµ…æ‹·è´ã€‚Tips: Stringä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†æ˜¯åœ¨æ·±å¤åˆ¶çš„æ—¶å€™å¹¶æ²¡æœ‰è¿›è¡Œå•ç‹¬çš„å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´è¿åäº†æ·±å¤åˆ¶ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ï¼Œè€ŒStringæ²¡æœ‰å®ç°cloneableæ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½å¤åˆ¶å¼•ç”¨ã€‚ é‚£ä¹ˆåœ¨ä¿®æ”¹å…‹éš†ä¹‹åçš„å¯¹è±¡ä¹‹åï¼Œä¼šä¸ä¼šå°†åŸæ¥çš„å€¼ä¹Ÿæ”¹å˜äº†? ç­”æ¡ˆè‚¯å®šæ˜¯ä¸ä¼šæ”¹å˜ï¼Œå› ä¸ºStringæ˜¯åœ¨å†…å­˜ä¸­ä¸å¯ä»¥è¢«æ”¹å˜çš„å¯¹è±¡ï¼Œå°±æ¯”å¦‚è¯´åœ¨forå¤§é‡å¾ªç¯ä¸­ä¸æ¨èä½¿ç”¨+çš„æ–¹å¼æ¥æ‹¼å‡‘å­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½ä¼šæ–°åˆ†é…ä¸€å—å†…å­˜ï¼Œä¸åœ¨åŸæ¥ä¸Šä¿®æ”¹ï¼ŒåŸæ¥çš„æ²¡æœ‰æŒ‡å‘å®ƒçš„å¼•ç”¨ï¼Œä¼šè¢«å›æ”¶ã€‚æ‰€ä»¥å…‹éš†ç›¸å½“äº1ä¸ªStringå†…å­˜ç©ºé—´æœ‰ä¸¤ä¸ªå¼•ç”¨ï¼Œå½“ä¿®æ”¹å…¶ä¸­çš„ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œä¼šæ–°åˆ†é…ä¸€å—å†…å­˜ç”¨æ¥ä¿å­˜æ–°çš„å€¼ï¼Œè¿™ä¸ªå¼•ç”¨æŒ‡å‘æ–°çš„å†…å­˜ç©ºé—´ï¼ŒåŸæ¥çš„Stringå› ä¸ºè¿˜å­˜åœ¨æŒ‡å‘ä»–çš„å¼•ç”¨ï¼Œæ‰€ä»¥ä¸ä¼šè¢«å›æ”¶ï¼Œè¿™æ ·ï¼Œè™½ç„¶æ˜¯å¤åˆ¶çš„å¼•ç”¨ï¼Œä½†æ˜¯ä¿®æ”¹å€¼çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰æ”¹å˜è¢«å¤åˆ¶å¯¹è±¡çš„å€¼ã€‚ æ•°ç»„æ‹·è´æ–¹å¼ä¹‹ä¸€â€”â€”for()å°±æ˜¯forå¾ªç¯å’¯ï¼ï¼ï¼ 12345/** 1 for å¾ªç¯æ‹·è´*/int[] arr1 = new int[len];for (int i = 0; i &lt; len; i++) &#123; arr1[i] = arr0[i];&#125; ä¹Ÿæ˜¯æµ…æ‹·è´å’¯ï¼ æ•°ç»„æ‹·è´æ–¹å¼ä¹‹äºŒâ€”â€”clone()ï¼ˆä¸»è¦å‚è€ƒï¼‰ç»†è¯´ Java çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ åœ¨ Java ä¸­ï¼Œæ‰€æœ‰çš„ Class éƒ½ç»§æ‰¿è‡ª Object ï¼Œè€Œåœ¨ Object ä¸Šï¼Œå­˜åœ¨ä¸€ä¸ª clone() æ–¹æ³•ï¼Œå®ƒè¢«å£°æ˜ä¸ºäº† protected ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å…¶å­ç±»ä¸­ï¼Œä½¿ç”¨å®ƒã€‚è€Œæ— è®ºæ˜¯æµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´ï¼Œéƒ½éœ€è¦å®ç° clone() æ–¹æ³•ï¼Œæ¥å®Œæˆæ“ä½œã€‚ é¦–å…ˆéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œclone()æ˜¯æµ…æ‹·è´çš„æ–¹å¼ï¼ï¼ï¼å…¶æ¬¡ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å®ç°æ·±æ‹·è´å‘¢ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š ç”¨å¤šå±‚æµ…æ‹·è´è¾¾åˆ°æ·±æ‹·è´çš„ç›®çš„ï¼Œè¦çŸ¥é“ï¼Œæµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«å°±æ˜¯åœ¨å¤„ç†å¯¹è±¡å¼•ç”¨æ—¶ï¼Œæµ…æ‹·è´ä¸ä¼šåˆ›é€ æ–°çš„å¯¹è±¡ï¼Œè€Œæ·±æ‹·è´ä¼šï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å±æ€§å˜æˆäº†åŸºæœ¬ç±»å‹æ•°æ®ï¼Œé‚£ä¹ˆæµ…æ‹·è´åŒæ ·ä¼šåˆ›é€ æ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥è¯´ï¼Œå¤šå±‚æµ…æ‹·è´å°±èƒ½è¾¾åˆ°æ·±æ‹·è´çš„ç›®çš„ï¼Œä¾‹å¦‚ï¼šåœ¨å¯¹fatherClasså’ŒchildClassè¿›è¡Œä¸¤çº§æµ…æ‹·è´ä¹‹åï¼ŒfatherBå°±æœ‰æµ…æ‹·è´å˜æˆäº†æ·±æ‹·è´ï¼Œå› ä¸ºæ­¤æ—¶åŸºæœ¬æ•°æ®ç±»å‹å’ŒChildå¯¹è±¡éƒ½æ˜¯æŒ‡å‘ä¸åŒçš„åœ°å€çš„ï¼Œä¹Ÿå°±æ˜¯äºŒè€…éƒ½æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥å°±æ˜¯è¾¾åˆ°äº†æ·±æ‹·è´çš„ç›®çš„äº†ã€‚ åºåˆ—åŒ–ï¼ˆserializationï¼‰è¿™ä¸ªå¯¹è±¡ï¼Œå†ååºåˆ—åŒ–å›æ¥ï¼Œå°±å¯ä»¥å¾—åˆ°è¿™ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ— éå°±æ˜¯åºåˆ—åŒ–çš„è§„åˆ™éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥å†™ã€‚æ€»ç»“ä¸‹æ¥å°±æ˜¯åšäº†5ä»¶äº‹ï¼š ç¡®ä¿å¯¹è±¡å›¾ä¸­çš„æ‰€æœ‰ç±»éƒ½æ˜¯å¯åºåˆ—åŒ–çš„ åˆ›å»ºè¾“å…¥è¾“å‡ºæµ ä½¿ç”¨è¿™ä¸ªè¾“å…¥è¾“å‡ºæµæ¥åˆ›å»ºå¯¹è±¡è¾“å…¥å’Œå¯¹è±¡è¾“å‡ºæµ å°†ä½ æƒ³è¦æ‹·è´çš„å¯¹è±¡ä¼ é€’ç»™å¯¹è±¡è¾“å‡ºæµ ä»å¯¹è±¡è¾“å…¥æµä¸­è¯»å–æ–°çš„å¯¹è±¡å¹¶ä¸”è½¬æ¢å›ä½ æ‰€å‘é€çš„å¯¹è±¡çš„ç±» æœ€åï¼Œæ¨ä¸€ä¸ªåºåˆ—åŒ–å®ç°æ·±æ‹·è´çš„ä¾‹å­ï¼šåºåˆ—åŒ–çš„æ–¹å¼ä½¿å¾—å…¶å˜ä¸ºæ·±æ‹·è´ æ•°ç»„æ‹·è´æ–¹å¼ä¹‹ä¸‰â€”â€”System.arraycopy()nativeæ–¹æ³•ï¼Œä¾æ—§æ˜¯ä¸€ä¸ªæµ…æ‹·è´â€”â€”â€“&gt; è¯¦ç»†ä¼ é€é—¨ æ•°ç»„æ‹·è´æ–¹å¼ä¹‹å››â€”â€”arrays.copyof()1234567891011public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) &#123; @SuppressWarnings("unchecked") //æ ¹æ®classçš„ç±»å‹æ˜¯å¦æ˜¯ Object[] æ¥å†³å®šæ˜¯ new è¿˜æ˜¯åå°„å»æ„é€ ä¸€ä¸ªæ³›å‹æ•°ç»„ T[] copy = ((Object)newType == (Object)Object[].class) ? (T[]) new Object[newLength] : (T[]) Array.newInstance(newType.getComponentType(), newLength); //ä½¿ç”¨ native æ–¹æ³•æ‰¹é‡èµ‹å€¼å…ƒç´ è‡³æ–°æ•°ç»„ä¸­ã€‚ System.arraycopy(original, 0, copy, 0, Math.min(original.length, newLength)); return copy;&#125; ä½ çœ‹çœ‹ï¼Œåº•å±‚ä¹Ÿåœ¨ç”¨System.arraycopy()è¿™ä¸ªnativeæ–¹æ³•ï¼Œæ‰€ä»¥å°±ä¸å†èµ˜è¿°äº†ï¼Œè¿™ä¸ªåœ¨ArrayListæºç åˆ†æä¸­ä¹Ÿæœ‰æ¶‰åŠå“¦ï¼ï¼ï¼ï¼]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
        <tag>Array</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[10.2----10.7æ”¶è·]]></title>
    <url>%2F2019%2F10%2F02%2F10-2-10-7.html</url>
    <content type="text"><![CDATA[10.2 å­¦ä¹ å®Œajaxå¼‚æ­¥è°ƒç”¨ï¼› å®Œæˆæ·»åŠ ç„¶åæ•°æ®åº“é‡Œæœ‰æ•°æ®å¹¶ä¸”èƒ½æ­£å¸¸è·³è½¬ï¼› bç«™ä¸Šå†çœ‹çœ‹springboot+mybatisçš„ç»“åˆï¼› æ€»ç»“åšå®¢ï¼Œåˆ†åˆ«æ€»ç»“åˆ†é¡µæ’åºè¿˜è¦mongodbåœ¨springbootä¸­çš„ç›¸å…³æ“ä½œï¼› æ”¶è· springbootå¯åŠ¨å¾ˆæ…¢çš„åŸå› ï¼šæœªä¿®æ”¹hostç›®å½•çš„æ–‡ä»¶ï¼Œå¯¼è‡´æ¯æ¬¡å¯åŠ¨éƒ½å¾ˆæ…¢ã€‚æ­¥éª¤ åœ¨terminalç»ˆç«¯è¾“å…¥: 1$ hostname å¤åˆ¶ä¸‹æ¥ï¼Œç„¶åä¿®æ”¹hostæ–‡ä»¶ä¸­çš„localhostï¼š 1$ sudo vim /etc/hosts ç„¶åå°†è‡ªå·±hostnameæ›¿æ¢æ‰localhost 123127.0.0.1&lt;ä¸¤ä¸ªtab&gt;localhost æ›¿æ¢ä¸º$hostname255.255.255.255&lt;ä¸¤ä¸ªtab&gt;broadcasthost::1&lt;ä¸¤ä¸ªtab&gt;localhost æ›¿æ¢ä¸º$hostname åœ¨jsä¼ å€¼ç»™controlleræ—¶ï¼Œä¸€ç›´ä¸èƒ½å°†jsonæ•°æ®ä¼ è¿‡å»ï¼ŒåŸå› æ˜¯æ²¡æœ‰ç»™dataçš„å€¼åŠ ä¸ŠJSON.stringify()å¤„ç†ï¼Œå…·ä½“é”™è¯¯ï¼šspringboot æ¥æ”¶å‚æ•°ï¼Œè§£æjsonå‡ºç°é”™è¯¯ï¼šwas expecting â€˜nullâ€™, â€˜trueâ€™, â€˜falseâ€™ or NaNè§£å†³æ–¹æ¡ˆï¼šè§â€”-&gt;jsä¸controllerä¹‹é—´ä¼ å€¼å¸¸è§é—®é¢˜ JQuery.ajaxajaxå’Œspringbootä¼ å€¼ jqueryä¸­å­—ç¬¦ä¸²è½¬æ—¥æœŸï¼Œæ—¥æœŸè½¬å­—ç¬¦ä¸² MyBatisä¸»é”®å›å¡«ç­–ç•¥ è¡¨ä¸­éƒ¨åˆ†å±æ€§è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦é¢å¤–ä¼ å…¥å‚æ•° å…ˆæ˜¯å°è¯•äº†åœ¨beanä¸­åŠ @valueï¼ŒåŠ è½½é…ç½®æ–‡ä»¶ä¸­çš„éšæœºæ•°ï¼Œä½†æ˜¯å‘ç°æ‰§è¡Œä¸€æ¬¡ï¼Œéšæœºæ•°æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ ·å°±ä¸èƒ½åšåˆ°æ’å…¥ä¸€æ¡æ•°æ®ï¼Œéšæœºæ•°å°±å˜åŒ–ï¼› åé¢å‘ç°å¯ä»¥åœ¨mybatisç›´æ¥é…ç½®ç»“æœé›†ï¼Œå¥½åƒä¹Ÿä¸è¡Œâ€¦å› ä¸ºå¦‚æœä½ ç”¨ç»“æœé›†å°†idè½¬æ¢ä¸ºtaskId,é‚£åŸæœ¬beanä¸­çš„idå±æ€§å°±ä¼šå–ä¸åˆ°å€¼â€¦ jQueryè·å–htmlä¸­çš„å€¼è·å–htmlä¸­çš„å€¼ 10.3æ”¶è·ä½¿ç”¨æœ€å¤§çš„idï¼ï¼ï¼mysqlæ’å…¥æ•°æ®åè¿”å›è‡ªå¢IDçš„æ–¹æ³•ï¼ˆAUTO_INCREMENTï¼‰ 10.4æ”¶è· å¤æ‚jsonè½¬æˆå¤šå±‚map 12345678910111213141516171819public Map&lt;String, Object&gt; parseJSON2Map(@RequestBody String jsonStr)&#123; Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(); JSONObject json = JSONObject.parseObject(jsonStr); for(Object k : json.keySet())&#123; Object v = json.get(k); if(v instanceof JSONArray)&#123; List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;Map&lt;String,Object&gt;&gt;(); Iterator it = ((JSONArray)v).iterator(); while(it.hasNext())&#123; Object json2 = it.next(); list.add(parseJSON2Map(json2.toString())); &#125; map.put(k.toString(), list); &#125; else &#123; map.put(k.toString(), v); &#125; &#125; return map; &#125; macå¼ºåˆ¶åˆ·æ–°ç¼“å­˜ï¼šcommand + shift + Ræ™®é€šåˆ·æ–°ï¼šcommand + R Springbootä½¿ç”¨å¤šçº¿ç¨‹ æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œå°±æ˜¯å½“æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚å¹¶ä¸éœ€è¦ä»»åŠ¡æ‰§è¡Œå®Œæˆæ‰è¿”å›ç»“æœï¼Œå¯ä»¥ç«‹å³è¿”å›ç»“æœï¼Œè®©ä»»åŠ¡å¼‚æ­¥çš„å»æ‰§è¡Œã€‚å¼€å§‹è€ƒè™‘æ˜¯ç›´æ¥å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡æˆ–è€…æŠŠä»»åŠ¡æäº¤åˆ°ä¸€ä¸ªçº¿ç¨‹æ± å»æ‰§è¡Œï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯ Spring è¿™ä¹ˆå¼ºå¤§ï¼Œè‚¯å®šæœ‰ä»€ä¹ˆæ›´ç®€å•çš„æ–¹æ³•ï¼Œå°± google äº†ä¸€ä¸‹ï¼Œè¿˜çœŸæœ‰å‘¢ã€‚å°±æ˜¯ä½¿ç”¨ @EnableAsync å’Œ @Async è¿™ä¸¤ä¸ªæ³¨è§£å°± ok äº†ã€‚ä¼ é€é—¨ï¼šSpringBootéå®˜æ–¹æ•™ç¨‹ | ç¬¬äºŒåä¸‰ç¯‡ï¼š å¼‚æ­¥æ–¹æ³• é¦–å…ˆå£°æ˜ä¸€ä¸‹è‡ªå·±ç”¨äº†æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰å¼„å‡ºæ¥çš„åŸå› æ˜¯ï¼Œè‡ªå·±æŠŠå¼‚æ­¥æ–¹æ³•å†™åˆ°äº†Controllerå±‚ï¼Œå¯¼è‡´åœ¨controllerçš„å¦ä¸€ä¸ªæ–¹æ³•è°ƒç”¨æ—¶æ— æ³•å¼€å¯å¼‚æ­¥åŠŸèƒ½ï¼Œæ‰€ä»¥å¯¹æ­¤æˆ‘æœ‰ä¸‰ç‚¹è§è§£ï¼š åœ¨@SpringBootApplicationå¯åŠ¨ç±» æ·»åŠ æ³¨è§£@EnableAsync å¼‚æ­¥æ–¹æ³•ä½¿ç”¨æ³¨è§£@Async ,è¿”å›å€¼ä¸ºvoidæˆ–è€…Future åˆ‡è®°ä¸€ç‚¹ï¼Œå¼‚æ­¥æ–¹æ³•å’Œè°ƒç”¨æ–¹æ³•ä¸€å®šè¦ å†™åœ¨ä¸åŒçš„ç±»ä¸­,å¦‚æœå†™åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œè‡³äºä¸ºä»€ä¹ˆâ€”-&gt;å› ä¸ºSpringåƒ@Transaction @Asyncç­‰è¿™äº›éƒ½æ˜¯ä½¿ç”¨äº†åŠ¨æ€ä»£ç†ï¼ŒSpringå®¹å™¨åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šå°†å«æœ‰AOPæ³¨è§£çš„ç±»å¯¹è±¡æ›¿æ¢ä¸ºä»£ç†å¯¹è±¡ï¼Œå†ç”±Proxyå¯¹è±¡å»è°ƒç”¨è¢«å¢å¼ºæ–¹æ³•ï¼Œé‡ç‚¹æ¥äº†ï¼šæ–¹æ³•é‡Œæƒ³ç”¨å¢å¼ºæ–¹æ³•(ç¬¬ä¸‰ç‚¹)åˆ™éœ€è¦å¾—åˆ°å½“å‰çš„Proxyå¯¹è±¡ï¼Œä½†å¦‚æœæ˜¯åŒä¸€ä¸ªç±»çš„è¯ï¼Œæ˜¯ä¸ä¼šç»è¿‡springå®¹å™¨çš„ï¼Œæ­¤æ—¶æ˜¯çœŸæ­£çš„å¯¹è±¡æœ¬èº«å»è°ƒç”¨æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯ä»£ç†å¯¹è±¡ï¼Œè¿™æ ·çš„è¯è¢«å¢å¼ºæ–¹æ³•å°±å¤±æ•ˆäº†ï¼Œè¯¦æƒ…è¯·çœ‹ -&gt;Springçš„ AopContext.currentProxy()æ–¹æ³• è§£å†³æ–¹æ¡ˆ æˆ‘é‡‡ç”¨çš„æ–¹æ¡ˆæ˜¯ï¼Œå°†å¼‚æ­¥æ–¹æ³•å†™å…¥serviceå±‚ï¼Œç„¶åå†controllerå±‚ä¸­è°ƒç”¨ï¼Œè¿™æ ·å°±ç»è¿‡äº†springå®¹å™¨ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å°±æ˜¯é‡‡ç”¨çš„ä»£ç†å¯¹è±¡ã€‚ ç¬¬äºŒç§æ–¹æ³•ï¼Œæˆ‘æ²¡æœ‰æˆåŠŸï¼ï¼ï¼ï¼çœŸçš„æ˜¯æ°”çš„ä¸è¡Œï¼Œå› ä¸ºæˆ‘çœ‹ç½‘ä¸Šåšå®¢åˆ«äººéƒ½æˆåŠŸäº†â€¦â€¦å°±æ˜¯ç”¨AopContext.currentProxy()è¿™ä¸ªæ–¹æ³•,æ­¥éª¤ä¸ºï¼š æ·»åŠ ä¾èµ–ï¼š 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt; åœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ æ³¨é‡Š 1@EnableAspectJAutoProxy(exposeProxy=true,proxyTargetClass=true) ç„¶ååœ¨è°ƒç”¨æ–¹æ³•å¤„å†™ï¼š 1((TaskController)AopContext.currentProxy()).testAsy("www.baidu.com"); æŒ‰ç†è¯´åº”è¯¥å¯ä»¥äº†çš„ï¼Œç»“æœå§ï¼Œæˆ‘ä¸€è·‘ç¨‹åºå°±æŠ¥é”™ï¼Œè¯´æˆ‘çš„å“¦ä»£ç†æ€ä¹ˆæ²¡æš´éœ²å•Šï¼Œæˆ‘çœŸæ˜¯å§æ§½äº†ï¼Œé‚£ä»–å¦ˆä¸æ˜¯å·²ç»é…ç½®äº†æš´éœ²äº†å˜›ï¼ï¼ï¼æˆ‘æœäº†ï¼ï¼ï¼ç®—äº†ï¼Œæ‡’å¾—æ­ç†äº†â€¦ç”©ä¸ªè·Ÿè¿™ä¸ªåŸç†ä¸€æ ·çš„é“¾æ¥ï¼Œå­¦ä¹ ä¸€ä¸‹ï¼šJDKåŠ¨æ€ä»£ç†ç»™Springäº‹åŠ¡åŸ‹ä¸‹çš„å‘ï¼å†ç”©ä¸€ä¸ªé“¾æ¥ï¼Œä¸‰ç§æ–¹æ³•é…ç½®è¿™ä¸ªexposeProxy(ç„¶è€Œæˆ‘ä¸€ä¸ªéƒ½æ²¡æˆåŠŸâ€¦)â€”-&gt;springbootä¸­å¦‚ä½•é…ç½®aopåŠ¨æ€ä»£ç†æ¨¡å¼ (åŸåˆ›)]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>springboot</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019-9-26]]></title>
    <url>%2F2019%2F09%2F26%2F2019-9-26.html</url>
    <content type="text"><![CDATA[ä»Šæ—¥ä»»åŠ¡ springboot + mongodb,å®Œæˆmongoåœ¨springbootä¸­çš„æ­å»ºï¼Œå†™ä¸€ä¸ªå°demo æœ€ä¸»è¦çš„æ˜¯æŠŠrepositoryè¿™ä¸€å±‚å†™å®Œï¼Œä¸šåŠ¡é€»è¾‘å¯ä»¥æ”¾åˆ°æ˜å¤©æ¥å†™ å®Œæˆè¿‡ç¨‹mongodbçš„å®‰è£…macOSä¸‹mongodbçš„å®‰è£…ä¸å¯åŠ¨ Springbootä¸‹çš„ç›¸å…³æ³¨è§£ @DataDataæ³¨è§£ä½¿ç”¨ @Documentæ ‡æ³¨åœ¨å®ä½“ç±»ä¸Šï¼Œç±»ä¼¼äºhibernateçš„entityæ³¨è§£ï¼Œæ ‡æ˜ç”±mongoæ¥ç»´æŠ¤è¯¥è¡¨ï¼Œcollectionä»£è¡¨è¡¨çš„åç§°ã€‚SpringBootä¸­MongoDBä¸­çš„ç›¸å…³æ³¨è§£ @Entityç­‰ä¸€ç³»åˆ—Spring Data JPAæ³¨è§£ @DynamicUpdateã€@DynamicInsert æ˜¯hibernateé‡Œé¢çš„æ³¨è§£ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£åŠ ä¸Šä¹‹åå°±ä¸ä¼šä¸ºå­—æ®µå€¼ä¸å˜çš„å­—æ®µç”Ÿæˆsqlè¯­å¥ï¼Œè¿™æ ·sqlçš„é•¿åº¦å°±å‡å°‘äº†æé«˜äº†ä¼ è¾“æ•ˆç‡å’Œæ‰§è¡Œæ•ˆç‡ï¼Œåœ¨æ’å…¥å’Œä¿®æ”¹æ•°æ®çš„æ—¶å€™,è¯­å¥ä¸­åªåŒ…æ‹¬è¦æ’å…¥æˆ–è€…ä¿®æ”¹çš„å­—æ®µã€‚ @Entity æ ‡è¯†è¿™ä¸ªå®ä½“ç±»æ˜¯ä¸€ä¸ªJPAå®ä½“ï¼Œå‘Šè¯‰JPAåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™è®°å¾—ç”Ÿæˆè¿™ä¸ªå®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨~ï¼ GeneratedValueã€GenericGeneratoræ˜¯ç”¨äºä¸»é”®ç”Ÿæˆç­–ç•¥çš„ï¼Œå…·ä½“è§JPAæ³¨è§£ä¸»é”®ç”Ÿæˆç­–ç•¥-UUID @Columnï¼ˆname = â€œè‡ªå®šä¹‰å­—æ®µåâ€ï¼Œlength = â€œè‡ªå®šä¹‰é•¿åº¦â€ï¼Œnullable = â€œæ˜¯å¦å¯ä»¥ç©ºâ€ï¼Œunique = â€œæ˜¯å¦å”¯ä¸€â€ï¼ŒcolumnDefinition = â€œè‡ªå®šä¹‰è¯¥å­—æ®µçš„ç±»å‹å’Œé•¿åº¦â€ï¼‰ã€‚è¡¨ç¤ºå¯¹è¿™ä¸ªå˜é‡æ‰€å¯¹åº”çš„å­—æ®µåè¿›è¡Œä¸€äº›ä¸ªæ€§åŒ–çš„è®¾ç½®ï¼Œä¾‹å¦‚å­—æ®µçš„åå­—ï¼Œå­—æ®µçš„é•¿åº¦ï¼Œæ˜¯å¦ä¸ºç©ºå’Œæ˜¯å¦å”¯ä¸€ç­‰ç­‰è®¾ç½®ã€‚ å‰©ä½™æ³¨é‡Šï¼šSpring Data JPAä¸­å¸¸ç”¨çš„æ³¨è§£è¯¦è§£ @Controllerï¼ˆSpring Bootä¹‹ Controller æ¥æ”¶å‚æ•°å’Œè¿”å›æ•°æ®æ€»ç»“(åŒ…æ‹¬ä¸Šä¼ ã€ä¸‹è½½æ–‡ä»¶)ï¼‰Controllerå±‚çš„æ³¨è§£å¤§æ¦‚æœ‰ä»¥ä¸‹ä¸€äº›ï¼šï¼ˆä¸»è¦å‚è€ƒï¼šControllerå±‚ä¸»è¦æ³¨è§£ï¼‰ @Controller:æ ‡æ³¨ Controller ç±»ï¼Œå¤„ç† http è¯·æ±‚ @RestController:æ ‡æ³¨ Controller ç±»ï¼Œspring 4 æ–°åŠ æ³¨è§£ï¼Œç›¸å½“äº@Controller + @ResponseBody ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä½¿ http è¯·æ±‚è¿”å›æ•°æ®æ ¼å¼ä¸º json æ ¼å¼ï¼Œæ­£å¸¸æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªæ³¨è§£ @RequestMapping:é…ç½® url æ˜ å°„ï¼Œå¯ä»¥ä½œç”¨äºç±»ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨æ–¹æ³•ä¸Š 123456789@RestController//å¤„ç†httpè¯·æ±‚ï¼Œè¿”å›jsonæ ¼å¼@RequestMapping(value = "/users")//é…ç½®urlï¼Œè®©è¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£urléƒ½æ˜ å°„åœ¨/usersä¸‹public class UserController &#123; @RequestMapping(value = "/myInfo", method = RequestMethod.GET) public String say() &#123; return "æˆ‘æ˜¯å¼ å°‘æ—"; &#125;&#125; @RequestMapping å®šä¹‰åœ¨ç±»ä¸Šï¼ŒæŒ‡å®šè¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£ url æ˜ å°„åœ¨ /users ä¸‹ï¼Œå®šä¹‰åœ¨æ–¹æ³•ä¸Šï¼ŒæŒ‡å®š è¯·æ±‚æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šGETï¼ŒPOSTï¼ŒDELETEï¼ŒPUTå››ç§æ ‡å‡†çš„ Restfulapiè¯·æ±‚æ–¹æ³•ã€‚é‚£ä¹ˆæ­¤æ—¶çš„æ¥å£ url ä¸ºï¼šhttp://127.0.0.1:8080/users/myInfo è¯·æ±‚æ–¹æ³•ï¼šGETï¼Œç±»ä¸Šä¹Ÿå¯ä»¥ä¸ç”¨é…ç½® url æ˜ å°„çš„ã€‚ @PathVariableè·å– url ä¸­çš„æ•°æ®ï¼Œæˆ‘ä»¬åœ¨ url ä¸­æ‹¼æ¥ä¸€ä¸ªå­—ç¬¦ä¸² {username}ï¼Œç±»ä¼¼äºåœ°å€å ä½ç¬¦ï¼Œç”±ç”¨æˆ·è¯·æ±‚æ—¶æ·»åŠ ï¼Œè¯·æ±‚è·å–ã€‚æ³¨æ„æ³¨è§£ä¸­çš„å‚æ•°å¿…é¡»ä¸å ä½ç¬¦å‚æ•°ä¸€è‡´ 12345678@RestController//å¤„ç†httpè¯·æ±‚ï¼Œè¿”å›jsonæ ¼å¼@RequestMapping(value = "/users")//é…ç½®urlï¼Œè®©è¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£urléƒ½æ˜ å°„åœ¨/usersä¸‹public class UserController &#123; @RequestMapping(value = "/myInfo/&#123;username&#125;", method = RequestMethod.GET) public String say(@PathVariable("username") String username) &#123; return username; &#125;&#125; @RequestParamè·å–è¯·æ±‚å‚æ•°å€¼ï¼Œæ–¹æ³•éšæ„å¯ä»¥è®¾ç½®ï¼Œä½†æ˜¯é€šå¸¸éœ€æ±‚éƒ½æ˜¯ä½¿ç”¨ POST è¯·æ±‚å¤„ç†è¡¨å•æäº¤ã€‚ 12345678@RestController//å¤„ç†httpè¯·æ±‚ï¼Œè¿”å›jsonæ ¼å¼@RequestMapping(value = "/users")//é…ç½®urlï¼Œè®©è¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£urléƒ½æ˜ å°„åœ¨/usersä¸‹public class UserController &#123; @RequestMapping(value = "/myInfo", method = RequestMethod.POST) public String say(@RequestParam(value = "username") String username, @RequestParam(value = "password") String password) &#123; return username + password; &#125;&#125; å‡å¦‚ç”¨æˆ·è¾“å…¥çš„çš„uriæ˜¯:http://127.0.0.1:8080/users/myInfo?username=yangweijie&amp;password=123456ï¼Œé‚£ä¹ˆæœ€åè¿”å›çš„æ˜¯yangweijie123456ï¼Œå¦‚æœå‚æ•°ä¸å¸¦å€¼ä¸”æ·»åŠ å±æ€§required=trueï¼Œåˆ™ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶å°±å»ºè®®æ·»åŠ ä¸€ä¸ªdefaultValueå±æ€§ï¼š 12345678910@RestController//å¤„ç†httpè¯·æ±‚ï¼Œè¿”å›jsonæ ¼å¼@RequestMapping(value = "/users")//é…ç½®urlï¼Œè®©è¯¥ç±»ä¸‹çš„æ‰€æœ‰æ¥å£urléƒ½æ˜ å°„åœ¨/usersä¸‹public class UserController &#123; @RequestMapping(value = "/myInfo", method = RequestMethod.POST) public String say(@RequestParam(value = "username",required = false,defaultValue = "å¼ å°‘æ—") String username, @RequestParam(value = "password",required = false,defaultValue = "123456") String password) &#123; return username + password; &#125;&#125; @GetMappingã€@PostMappingã€@DeleteMappingã€@PutMappingç­‰æ˜¯RequestMappingçš„ç»„åˆæ³¨è§£ï¼Œæ ¹æ®methodçš„ä¸åŒã€‚ @RequestHeaderå¯ä»¥æŠŠRequestè¯·æ±‚headeréƒ¨åˆ†çš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Šã€‚ @CookieValueå¯ä»¥æŠŠRequest headerä¸­å…³äºcookieçš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Šã€‚ RequestBodyè¯¥æ³¨è§£å¸¸ç”¨æ¥å¤„ç†Content-Type: ä¸æ˜¯application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œä¾‹å¦‚application/json, application/xmlç­‰ï¼›å®ƒæ˜¯é€šè¿‡ä½¿ç”¨HandlerAdapter é…ç½®çš„HttpMessageConvertersæ¥è§£æpost data bodyï¼Œç„¶åç»‘å®šåˆ°ç›¸åº”çš„beanä¸Šçš„ã€‚å› ä¸ºé…ç½®æœ‰FormHttpMessageConverterï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨æ¥å¤„ç† application/x-www-form-urlencodedçš„å†…å®¹ï¼Œå¤„ç†å®Œçš„ç»“æœæ”¾åœ¨ä¸€ä¸ªMultiValueMap&lt;String, String&gt;é‡Œï¼Œè¿™ç§æƒ…å†µåœ¨æŸäº›ç‰¹æ®Šéœ€æ±‚ä¸‹ä½¿ç”¨ï¼Œè¯¦æƒ…æŸ¥çœ‹FormHttpMessageConverter api; ModelAttribute(å‚è€ƒï¼šSpring MVC @ModelAttributeè¯¦è§£)@ModelAttributeæœ‰ä¸‰ç§ç”¨æ³•ï¼š å¯ä»¥æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šï¼› å¯ä»¥æ ‡æ³¨åœ¨æ–¹æ³•ä¸­çš„å‚æ•°ä¸Šï¼› è¿˜å¯ä»¥å’Œ@RequestMappingä¸€èµ·æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šï¼›ç›®çš„éƒ½æ˜¯åœ¨RequestMappingä¹‹å‰è¿›è¡Œmodelå±æ€§çš„æ³¨å…¥ï¼Œå¯¹RestControllerå¥½åƒæ²¡ç”¨ï¼Œå› ä¸ºæ˜¯è¿”å›jsonæ•°æ®ï¼Œå¹¶ä¸èƒ½å°†modelé‡Œé¢çš„æ•°æ®ç›´æ¥è¿”å›ç»™é¡µé¢ã€‚å¦‚æœæ²¡ç”¨@RestControllerï¼Œåˆ™@ModelAttributeæ–¹æ³•é€šå¸¸è¢«ç”¨æ¥å¡«å……ä¸€äº›å…¬å…±éœ€è¦çš„å±æ€§æˆ–æ•°æ®ï¼Œæ¯”å¦‚ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨æ‰€é¢„è®¾çš„å‡ ç§çŠ¶æ€ï¼Œæˆ–è€…å® ç‰©çš„å‡ ç§ç±»å‹ï¼Œæˆ–è€…å»å–å¾—ä¸€ä¸ªHTMLè¡¨å•æ¸²æŸ“æ‰€éœ€è¦çš„å‘½ä»¤å¯¹è±¡ï¼Œæ¯”å¦‚Accountç­‰ã€‚@ModelAttributeæ ‡æ³¨æ–¹æ³•æœ‰ä¸¤ç§é£æ ¼ï¼š 12345678910111213141516// Add one attribute// The return value of the method is added to the model under the name "account"// You can customize the name via @ModelAttribute("myAccount")@ModelAttributepublic Account addAccount(@RequestParam String number) &#123; return accountManager.findAccount(number);&#125;// Add multiple attributes@ModelAttributepublic void populateModel(@RequestParam String number, Model model) &#123; model.addAttribute(accountManager.findAccount(number)); // add more ... &#125; åœ¨ç¬¬ä¸€ç§å†™æ³•ä¸­ï¼Œæ–¹æ³•é€šè¿‡è¿”å›å€¼çš„æ–¹å¼é»˜è®¤åœ°å°†æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œåœ¨ç¬¬äºŒç§å†™æ³•ä¸­ï¼Œæ–¹æ³•æ¥æ”¶ä¸€ä¸ªModelå¯¹è±¡ï¼Œç„¶åå¯ä»¥å‘å…¶ä¸­æ·»åŠ ä»»æ„æ•°é‡çš„å±æ€§ï¼Œå¯ä»¥åœ¨æ ¹æ®éœ€è¦ï¼Œåœ¨ä¸¤ç§é£æ ¼ä¸­é€‰æ‹©åˆé€‚çš„ä¸€ç§ã€‚modelé‡Œçš„æ•°æ®ä¼šè¢«æ”¾å…¥åˆ°requestä¸­,é¡µé¢é€šè¿‡requeståŸŸå¯ä»¥è·å–åˆ°ã€‚ @SessionAttributeså’Œ@SessionAttribute@SessionAttributesæ³¨è§£çš„ä½¿ç”¨å°±æ˜¯å°†å±æ€§æ”¾å…¥sessionåŸŸå†…ï¼Œç„¶åå¯ä»¥åœ¨sessionåŸŸå†…è¿›è¡Œç›¸å…³çš„æ“ä½œã€‚ SpringMVCä¸­@ModelAttributeå’Œ@SessionAttributesæ³¨è§£çš„ä½¿ç”¨ @idï¼ˆå¥½åƒå¦‚æœè¡¨ä¸­æ•°æ®å­—æ®µæ˜¯idï¼Œä¼šæ¯”è¾ƒç‰¹æ®Šä¸€ç‚¹ï¼Œspringbootä¼šè‡ªåŠ¨æ£€ç´¢ä¼ è¿‡æ¥çš„å‚æ•°æ˜¯å¦æœ‰idï¼Œå¦‚æœæ²¡æœ‰ä¼šè‡ªåŠ¨æ·»åŠ idï¼‰ Repositoryç›¸å…³æ³¨è§£ Springbootçš„åˆ†é¡µå’Œæ’åºæ“ä½œç”±äºé‡‡ç”¨çš„æ˜¯Mongoæ•°æ®åº“ï¼Œæ‰€ä»¥å…ˆåä½¿ç”¨äº†MongoTemplate()å’ŒMongoRepository(),MongoTemplateåœ¨å†™æ³•ä¸Šæ¯”MongoRepository æ›´å¤æ‚ä¸€äº›ï¼Œä½†æ˜¯å¸¦æ¥æ›´å¤šçš„çµæ´»æ€§ã€‚å¯¹äºå¤æ‚çš„æŸ¥è¯¢æ“ä½œï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨MongoTemplateï¼Œå¯¹äºä¸€äº›ç®€å•çš„æŸ¥è¯¢æˆ‘ä»¬ä¼šä½¿ç”¨MongoRepository ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒMongoRepository åªæ˜¯ä½œä¸ºä¸€ç§å¯¹äºç®€å•æŸ¥è¯¢çš„ç®€ä¾¿æ“ä½œï¼Œè€ŒMongoTemplateæ‰æ˜¯æˆ‘ä»¬åœ¨åšä¸€äº›å¤æ‚æŸ¥è¯¢æ—¶çš„é¦–é€‰ã€‚ MongoRepositoryè‡ªå·±è¿˜å€Ÿç”¨äº†ä¸‹@Queryå’Œ@Modifyingæ³¨è§£ï¼Œæ–¹ä¾¿è‡ªå·±æ‘†è„±å…³é”®å­—çš„æŸ¥è¯¢ï¼Œå¦‚æœéœ€è¦è¿›è¡Œæ›´æ–°æˆ–è€…åˆ é™¤æ•°æ®ï¼Œåˆ™éœ€è¦åœ¨@Queryä¹‹ä¸ŠåŠ ä¸Š@Modifingã€‚]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>springboot</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢66å¤©å­¦ä¹ (äº‰å–ä¸€ä¸ªæœˆå†…å®Œæˆï¼)]]></title>
    <url>%2F2019%2F09%2F23%2F%E7%99%BE%E5%BA%A6%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E5%AD%A6%E9%99%A266%E5%A4%A9%E5%AD%A6%E4%B9%A0-%E4%BA%89%E5%8F%96%E4%B8%80%E4%B8%AA%E6%9C%88%E5%86%85%E5%AE%8C%E6%88%90%EF%BC%81.html</url>
    <content type="text"><![CDATA[day 1:æ—¥æœŸï¼Œä»Šå¤©çš„å­¦ä¹ æ€»ç”¨æ—¶ï¼Œä»Šå¤©å­¦ä¹ çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œæ˜¯å¦è¾¾æˆ ä»Šå¤©æ˜¯2019.9.20ï¼Œè·ç¦»æ˜¥æ‹›è¿˜æœ‰å°†è¿‘6ä¸ªæœˆçš„æ—¶é—´ï¼Œé¢„è®¡1ä¸ªåŠæœˆå°†ifeå­¦å®Œå¹¶ä¸”å°†jsçœ‹å®Œï¼ŒåæœŸå¼€å§‹åˆ·leetcodeå’Œvueæ¡†æ¶çš„å­¦ä¹  ä»Šå¤©çš„å­¦ä¹ æ—¶é•¿æ€»ç”¨æ—¶ä¸º30min ä»Šå¤©çš„å­¦ä¹ ç›®æ ‡æ˜¯æ­å»ºå¥½å‰ç«¯ç¯å¢ƒï¼Œåšå¥½é•¿æœŸå‡†å¤‡å­¦ä¹ çš„è¿‡ç¨‹ ç›®æ ‡å·²è¾¾æˆï¼Œå°†ä»¥åšå®¢çš„å½¢å¼æ¯å¤©æ›´æ–°è‡ªå·±æ‰€å­¦å†…å®¹ å“ªäº›ä¸œè¥¿ä»Šå¤©äº†è§£å¾—æ¯”è¾ƒé€å½»ï¼Œè¯´è¯´è‡ªå·±çš„ç†è§£ä»Šå¤©æœ€å¤§çš„æ”¶è·æ˜¯çœ‹åˆ°äº†è®¸å¤šéå¸¸æå…·åˆ›æ„çš„webï¼Œä¹Ÿæ¿€åŠ±è‡ªå·±èƒ½å¤Ÿæ›´å¥½çš„å­¦ä¹ å‰ç«¯çŸ¥è¯†ï¼Œå¸Œæœ›åŠå¹´åçš„è‡ªå·±èƒ½æœ‰ä¸€ä¸ªå¤§å¤§çš„æˆé•¿å§ï¼ï¼ï¼ å“ªäº›ä¸œè¥¿ä»Šå¤©äº†è§£åˆ°äº†ä¸€äº›ï¼Œè¿˜æœ‰å“ªäº›ç‚¹éœ€è¦åç»­ç»§ç»­æ·±å…¥é˜…è¯»ä»Šå¤©çš„å†…å®¹å¥½åƒæ²¡æœ‰ä»€ä¹ˆéš¾çš„ï¼Œé¡¹ç›®ä¹Ÿæ¯”è¾ƒå¿™ï¼Œæœ€è¿‘åœ¨çœ‹jsï¼Œå¤§æ¦‚çœ‹å®Œäº†å‰é¢4ç« äº†ï¼Œåç»­å°½é‡åŠ å¿«ä¸€äº›è¿›åº¦ å“ªäº›ä¸œè¥¿ä»Šå¤©å­¦äº†ä¹‹åè¿˜æœ‰å¾ˆå¤šç–‘é—®æ²¡æœ‰è¢«è§£ç­”ï¼ŒæŠŠé—®é¢˜è®°å½•ä¸‹æ¥ï¼Œä»¥å¾…åç»­è§£å†³ä»Šå¤©æš‚æ—  ç«‹Flagï¼Œå†™ä¸‹å¤§å®¶å‚åŠ ä»Šå¹´å‰ç«¯å­¦é™¢çš„ç›®æ ‡æ‰¾åˆ°ä¸€ä»½å¥½å®ä¹ ï¼Œæ‰¾åˆ°ä¸€ä»½å¥½å·¥ä½œï¼Œæˆä¸ºæ›´å¥½çš„è‡ªå·± day 2ï¼šé—®é¢˜ï¼š è¿™é‡Œé¢çš„å¯æšä¸¾å±æ€§åä¸çŸ¥é“å•¥æ„æ€ï¼› ä¸ªäººæš‚æ—¶ç†è§£ï¼šå°±æ˜¯æ˜¯å¦å¯éå†çš„æ„æ€ å¯¹è¿™ä¸ªObject.prototypeä¸ç†Ÿæ‚‰ï¼ï¼ï¼ day 3ï¼šé—®é¢˜ï¼š å›¾ä¸­ä¸ºä»€ä¹ˆç”¨Object.defineProperty()å°±å¯ä»¥å®Œæˆå¯¹writable:falseçš„å±æ€§çš„ä¿®æ”¹ï¼Œä½†æ˜¯ç›´æ¥ç”¨obj.å±æ€§çš„å½¢å¼å°±ä¸è¡Œï¼Ÿå›¾ä¸­æ‰€è°“çš„åŸå‹é“¾åˆæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ å›¾ä¸­çš„JSON.stringifyæ–¹æ³•æ²¡æœ‰æ¥è§¦]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>ife</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSå­¦ä¹ ]]></title>
    <url>%2F2019%2F09%2F21%2FJS%E5%AD%A6%E4%B9%A0.html</url>
    <content type="text"><![CDATA[å­¦ä¹ è¿‡ç¨‹ï¼špromiseâ€”&gt;ç®­å¤´å‡½æ•°â€”&gt;ä½œç”¨åŸŸâ€”&gt;é—­åŒ… jsåŸºç¡€å…¥é—¨ç¯‡åŸºæœ¬è¯­æ³•å˜é‡æå‡JavaScript å¼•æ“çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå…ˆè§£æä»£ç ï¼Œè·å–æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œç„¶åå†ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œã€‚è¿™é€ æˆçš„ç»“æœï¼Œå°±æ˜¯æ‰€æœ‰çš„å˜é‡çš„å£°æ˜è¯­å¥ï¼Œéƒ½ä¼šè¢«æå‡åˆ°ä»£ç çš„å¤´éƒ¨ï¼Œè¿™å°±å«åšå˜é‡æå‡ï¼ˆhoistingï¼‰ã€‚å…¶ä¸­ï¼Œå‡½æ•°ååŒæ ·è¢«è§†ä¸ºå˜é‡åï¼Œæ‰€ä»¥ä¸€æ ·ä¼šè¢«æå‡åˆ°ä»£ç å¤´éƒ¨ã€‚ æ ‡è¯†ç¬¦ ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œå¯ä»¥ä»¥ _ å’Œ $ å¼€å¤´ JavaScript æœ‰ä¸€äº›ä¿ç•™å­—ï¼Œä¸èƒ½ç”¨ä½œæ ‡è¯†ç¬¦ï¼šargumentsã€breakã€caseã€catchã€classã€constã€continueã€debuggerã€defaultã€deleteã€doã€elseã€enumã€evalã€exportã€extendsã€falseã€finallyã€forã€functionã€ifã€implementsã€importã€inã€instanceofã€interfaceã€letã€newã€nullã€packageã€privateã€protectedã€publicã€returnã€staticã€superã€switchã€thisã€throwã€trueã€tryã€typeofã€varã€voidã€whileã€withã€yieldã€‚ æ ‡ç­¾jså…è®¸è¯­å¥å‰é¢å¯ä»¥å¸¦æœ‰æ ‡ç­¾ï¼Œæ–¹ä¾¿è·³å‡ºå—åŒºåŸŸå’Œå¤šé‡å¾ªç¯ï¼Œå¸¸ä¸forå¾ªç¯ã€continueã€breakè¿ç”¨ã€‚ æ•°æ®ç±»å‹##nullï¼Œå¸ƒå°”å€¼ booleanå¦‚æœ JavaScript é¢„æœŸæŸä¸ªä½ç½®åº”è¯¥æ˜¯å¸ƒå°”å€¼ï¼Œä¼šå°†è¯¥ä½ç½®ä¸Šç°æœ‰çš„å€¼è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ã€‚è½¬æ¢è§„åˆ™æ˜¯é™¤äº†ä¸‹é¢å…­ä¸ªå€¼è¢«è½¬ä¸ºfalseï¼Œå…¶ä»–å€¼éƒ½è§†ä¸ºtrueã€‚ undefined null false 0 NaN â€œâ€æˆ–â€™â€™ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ æ³¨æ„ï¼Œ{}å’Œ[]éƒ½æ˜¯trueã€‚ æ•°å€¼ jsä¸­æ‰€æœ‰æ•°éƒ½æ˜¯å°æ•°ï¼Œ64ä½ï¼Œå…¶ä¸­ç¬¦å·ä½1ä½ï¼Œè¡¨ç¤ºæŒ‡æ•°çš„11ä½ï¼Œå‰©ä½™çš„52ä½è¡¨ç¤ºç²¾åº¦ï¼Œä½†æ˜¯ç”±äºè¡¨ç¤ºç²¾åº¦çš„æœ€é«˜ä½1.xxxxä¸­çš„1è¢«çœç•¥ï¼Œæ‰€ä»¥å¯ä»¥è¡¨ç¤º53ä½ç²¾åº¦ï¼› parseIntå³å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å‹ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œéƒ½ä¼šå…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²,å†è½¬ä¸ºæ•´æ•°å‹ï¼Œå…¶ä¸­ï¼ŒparseIntå¯ä»¥ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯è½¬æ¢è¿›åˆ¶å€¼ï¼› å­—ç¬¦ä¸² æƒ³è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œæœ‰ä¸€ç§åˆ©ç”¨å¤šè¡Œæ³¨é‡Šçš„å˜é€šæ–¹æ³• 12345678(function () &#123; /*line 1line 2line 3*/&#125;).toString().split('\n').slice(1, -1).join('\n')// "line 1// line 2// line 3" Base64è½¬ç  Base64 å°±æ˜¯ä¸€ç§ç¼–ç æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æˆ 0ï½9ã€Aï½Zã€a-zã€+å’Œ/è¿™64ä¸ªå­—ç¬¦ç»„æˆçš„å¯æ‰“å°å­—ç¬¦ã€‚ä½¿ç”¨å®ƒçš„ä¸»è¦ç›®çš„ï¼Œä¸æ˜¯ä¸ºäº†åŠ å¯†ï¼Œè€Œæ˜¯ä¸ºäº†ä¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œç®€åŒ–ç¨‹åºçš„å¤„ç†ã€‚ JavaScript åŸç”Ÿæä¾›ä¸¤ä¸ª Base64 ç›¸å…³çš„æ–¹æ³•ã€‚ btoa()ï¼šä»»æ„å€¼è½¬ä¸º Base64 ç¼–ç  atob()ï¼šBase64 ç¼–ç è½¬ä¸ºåŸæ¥çš„å€¼ 123var string = 'Hello World!';btoa(string) // "SGVsbG8gV29ybGQh"atob('SGVsbG8gV29ybGQh') // "Hello World!" * è¦å°†é ASCII ç å­—ç¬¦è½¬ä¸º Base64 ç¼–ç ï¼Œå¿…é¡»ä¸­é—´æ’å…¥ä¸€ä¸ªè½¬ç ç¯èŠ‚ï¼Œå†ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ 12345678910function b64Encode(str) &#123; return btoa(encodeURIComponent(str));&#125;function b64Decode(str) &#123; return decodeURIComponent(atob(str));&#125;b64Encode('ä½ å¥½') // "JUU0JUJEJUEwJUU1JUE1JUJE"b64Decode('JUU0JUJEJUEwJUU1JUE1JUJE') // "ä½ å¥½" å¯¹è±¡ å¯¹è±¡çš„å¼•ç”¨ä¸¤ä¸ªå˜é‡åŒæ—¶æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ä»»ä½•ä¸€ä¸ªå˜é‡æ·»åŠ å±æ€§ï¼Œå¦ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥è¯»å†™è¯¥å±æ€§ï¼Œä½†æ˜¯å¦‚æœå–æ¶ˆæŸä¸ªå˜é‡å¯¹äºåŸå¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå˜é‡ï¼›æ³¨æ„:ä»…é™äºå¯¹è±¡ï¼Œå¦‚æœä¸¤ä¸ªå˜é‡åŒæ—¶æŒ‡å‘åŒä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆå˜é‡æ­¤æ—¶éƒ½æ˜¯å€¼çš„æ‹·è´è€Œå·²ï¼› å¦‚æœè¡Œé¦–æ˜¯ä¸€ä¸ªå¤§æ‹¬å·ï¼Œjså¼•æ“ä¸€å¾‹å°†å…¶è§£é‡Šä¸ºä»£ç å—ï¼Œå¦‚æœæƒ³è¦è¡¨ç¤ºä¸ºå¯¹è±¡ï¼Œåˆ™å¿…é¡»åœ¨å¤§æ‹¬å·å‰åŠ ä¸Šä¸€ä¸ªåœ†æ‹¬å·ï¼Œè¿™ç§å·®å¼‚åœ¨evalè¯­å¥ï¼ˆä½œç”¨æ˜¯å¯¹å­—ç¬¦ä¸²æ±‚å€¼ï¼‰ä¸­ä½“ç°çš„å°¤ä¸ºæ˜æ˜¾ï¼› 12eval('&#123;foo: 123&#125;') // 123eval('(&#123;foo: 123&#125;)') // &#123;foo: 123&#125; å±æ€§è¯»å–ï¼šä¸€ç§ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œå¦å¤–ä¸€ç§é‡‡ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œæ³¨æ„è‹¥ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼Œé”®åå¿…é¡»æ”¾åœ¨å¼•å·é‡Œé¢ï¼Œå¦åˆ™ä¼šè¢«å½“åšå˜é‡å¤„ç†ï¼š 123456789var foo = 'bar';var obj = &#123; foo: 1, bar: 2&#125;;obj.foo // 1obj[foo] // 2 æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡æœ¬èº«æ‰€æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨Object.keysæ–¹æ³• 1234567var obj = &#123; key1: 1, key2: 2&#125;;Object.keys(obj);// ['key1', 'key2'] å±æ€§çš„éå†ï¼šforâ€¦in å¾ªç¯: å®ƒéå†çš„æ˜¯å¯¹è±¡æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰çš„å±æ€§ï¼Œä¼šè·³è¿‡ä¸å¯éå†çš„å±æ€§ã€‚ å®ƒä¸ä»…éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè¿˜éå†ç»§æ‰¿çš„å±æ€§ã€‚ 123456789101112var obj = &#123;a: 1, b: 2, c: 3&#125;;for (var i in obj) &#123; console.log('é”®åï¼š', i); console.log('é”®å€¼ï¼š', obj[i]);&#125;// é”®åï¼š a// é”®å€¼ï¼š 1// é”®åï¼š b// é”®å€¼ï¼š 2// é”®åï¼š c// é”®å€¼ï¼š 3 withè¯­å¥ï¼šä½œç”¨æ˜¯æ“ä½œåŒä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå±æ€§æ—¶ï¼Œæä¾›æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºåœ¨withè¯­å¥é‡Œé¢æ²¡æœ‰æ”¹å˜ä½œç”¨åŸŸï¼Œå¯¼è‡´ç»‘å®šå¯¹è±¡ä¸æ˜ç¡®ï¼Œå¦‚æœwithåŒºå—å†…éƒ¨æœ‰å˜é‡çš„èµ‹å€¼æ“ä½œï¼Œå¿…é¡»æ˜¯å½“å‰å¯¹è±¡å·²ç»å­˜åœ¨çš„å±æ€§ï¼Œå¦åˆ™ä¼šåˆ›é€ ä¸€ä¸ªå½“å‰ä½œç”¨åŸŸçš„å…¨å±€å˜é‡ã€‚ 12345678var obj = &#123;&#125;;with (obj) &#123; p1 = 4; p2 = 5;&#125;obj.p1 // undefinedp1 // 4 å‡½æ•°å‡½æ•°å£°æ˜ functionå‘½ä»¤ 123function print(s)&#123; console.log(s);&#125; å‡½æ•°è¡¨è¾¾å¼(å¦‚æœfunctionåå¸¦å‡½æ•°åï¼Œå‡½æ•°åä¹Ÿåªåœ¨å‡½æ•°ä½“å†…éƒ¨æœ‰æ•ˆ) 1var print = function()&#123;console.log(s)&#125;; Functionæ„é€ å‡½æ•° 12345678910var add = new Function( 'x', 'y', 'return x + y');// ç­‰åŒäºfunction add(x, y) &#123; return x + y;&#125; å‡½æ•°ToStringå¯ä»¥è§£ææ³¨é‡Šå®ç°å¤šè¡Œå­—ç¬¦ä¸²ï¼š 12345678910111213var multiline = function (fn) &#123; var arr = fn.toString().split('\n'); return arr.slice(1, arr.length - 1).join('\n');&#125;;function f() &#123;/* è¿™æ˜¯ä¸€ä¸ª å¤šè¡Œæ³¨é‡Š*/&#125;multiline(f);// " è¿™æ˜¯ä¸€ä¸ª// å¤šè¡Œæ³¨é‡Š" å‡½æ•°ä½œç”¨åŸŸåœ¨ES6ä¸­ï¼Œæœ‰ä¸‰ç§ä½œç”¨åŸŸï¼šå…¨å±€ä½œç”¨åŸŸã€å—ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€‚å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚å®ƒçš„ä½œç”¨åŸŸä¸å˜é‡ä¸€æ ·ï¼Œå°±æ˜¯å…¶å£°æ˜æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œä¸å…¶è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæ— å…³ã€‚ 1234567891011var a = 1;var x = function () &#123; console.log(a);&#125;;function f() &#123; var a = 2; x();&#125;f() // 1 ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°xæ˜¯åœ¨å‡½æ•°fçš„å¤–éƒ¨å£°æ˜çš„ï¼Œæ‰€ä»¥å®ƒçš„ä½œç”¨åŸŸç»‘å®šå¤–å±‚ï¼Œå†…éƒ¨å˜é‡aä¸ä¼šåˆ°å‡½æ•°fä½“å†…å–å€¼ï¼Œæ‰€ä»¥è¾“å‡º1ï¼Œè€Œä¸æ˜¯2ã€‚ æ€»ä¹‹ï¼Œå‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œæ˜¯å®šä¹‰æ—¶çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯è°ƒç”¨æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚æ‰€ä»¥è¯´ï¼Œå¦‚æœå‡½æ•°Aè°ƒç”¨å‡½æ•°B,å‡½æ•°Bä¸ä¼šå¼•ç”¨å‡½æ•°Açš„å†…å®¹ã€‚ å‚æ•°ä¼ å€¼ å‡½æ•°å‚æ•°å¦‚æœæ˜¯åŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œä¼ é€’æ–¹å¼æ˜¯ä¼ å€¼ä¼ é€’ï¼› å‡½æ•°å‚æ•°å¦‚æœæ˜¯å¤åˆç±»å‹çš„å€¼ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å…¶ä»–å‡½æ•°ï¼‰ï¼Œä¼ é€’æ–¹å¼æ˜¯ä¼ å€ä¼ é€’ï¼› å‡½æ•°å†…éƒ¨ä¿®æ”¹çš„å¦‚æœæ˜¯å‚æ•°å¯¹è±¡çš„æŸä¸ªå±æ€§ï¼Œé‚£ä¹ˆä¼šå½±å“åˆ°åŸå§‹å€¼ï¼Œå¦‚æœæ˜¯æ›¿æ¢æ‰æ•´ä¸ªå‚æ•°ï¼Œåˆ™ä¸ä¼šå½±å“åˆ°åŸå§‹å€¼ï¼š 12345678var obj = [1, 2, 3];function f(o) &#123; o = [2, 3, 4];&#125;f(obj);obj // [1, 2, 3] arguments argumentså¯¹è±¡åŒ…å«äº†å‡½æ•°è¿è¡Œæ—¶çš„æ‰€æœ‰å‚æ•°ï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä¸èƒ½ç”¨æ•°ç»„ä¸­çš„sliceå’ŒforEachæ–¹æ³•ï¼› åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œargumentså¯¹è±¡å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ï¼Œä½†æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¿®æ”¹argumentså¯¹è±¡çš„å€¼å¹¶ä¸ä¼šæ”¹å˜çœŸå®å‚æ•°çš„å€¼ï¼› å¦‚æœè¦è®©argumentså¯¹è±¡ä½¿ç”¨æ•°ç»„æ–¹æ³•ï¼ŒçœŸæ­£çš„è§£å†³åŠæ³•å°±æ˜¯è®©argumentså¯¹è±¡å˜ä¸ºæ•°ç»„ï¼Œå¸¸ç”¨çš„è½¬æ¢æ–¹æ³•æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯sliceæ–¹æ³•å’Œé€ä¸€å¡«å…¥æ–°æ•°ç»„ï¼š 1234567var args = Array.prototype.slice.call(arguments);// æˆ–è€…var args = [];for (var i = 0; i &lt; arguments.length; i++) &#123; args.push(arguments[i]);&#125; é—­åŒ…é—­åŒ…ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯å‡½æ•°ä¸­çš„å‡½æ•°ï¼Œé—­åŒ…æœ€å¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒå¯ä»¥â€œè®°ä½â€è¯ç”Ÿçš„ç¯å¢ƒï¼Œç”¨å¤„æœ‰ä¸‰ä¸ªï¼š 1. å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼› 2. è®©è¿™äº›å˜é‡å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ï¼Œå³é—­åŒ…å¯ä»¥ä½¿å¾—å®ƒè¯ç”Ÿç¯å¢ƒä¸€ç›´å­˜åœ¨; 3. å°è£…å¯¹è±¡çš„ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ã€‚ 123456789101112131415161718192021222324252627282930313233function createIncrementor(start) &#123; return function () &#123; return start++; &#125;;&#125;var inc = createIncrementor(5);inc() // 5inc() // 6inc() // 7``` ```jsfunction Person(name) &#123; var _age; function setAge(n) &#123; _age = n; &#125; function getAge() &#123; return _age; &#125; return &#123; name: name, getAge: getAge, setAge: setAge &#125;;&#125;var p1 = Person('å¼ ä¸‰');p1.setAge(25);p1.getAge() // 25 â€œç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼â€ï¼ˆImmediately-Invoked Function Expressionï¼‰123(function()&#123; /* code */ &#125;());// æˆ–è€…(function()&#123; /* code */ &#125;)(); é€šå¸¸æƒ…å†µä¸‹ï¼Œåªå¯¹åŒ¿åå‡½æ•°ä½¿ç”¨è¿™ç§â€œç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼â€ã€‚å®ƒçš„ç›®çš„æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯ä¸å¿…ä¸ºå‡½æ•°å‘½åï¼Œé¿å…äº†æ±¡æŸ“å…¨å±€å˜é‡ï¼›äºŒæ˜¯ IIFE å†…éƒ¨å½¢æˆäº†ä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼Œå¯ä»¥å°è£…ä¸€äº›å¤–éƒ¨æ— æ³•è¯»å–çš„ç§æœ‰å˜é‡ã€‚ eval æœ¬è´¨æ˜¯åœ¨å½“å‰åŸŸä¸­æ³¨å…¥ä»£ç ï¼Œå¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”å°†è¯¥å­—ç¬¦ä¸²å½“åšè¯­å¥æ‰§è¡Œï¼Œå¦‚æœè¯†åˆ«ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šåŸæ ·è¿”å›ã€‚ åŒæ—¶ï¼Œevalæ²¡æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¼šæ”¹å˜å½“å‰åŸŸåŸæœ‰å˜é‡çš„å€¼ï¼Œå½“ç„¶åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œevalå†…éƒ¨è‡ªå·±å£°æ˜çš„å˜é‡æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨ä½œç”¨åŸŸçš„å€¼ã€‚ ç”±äºå¼•æ“æ— æ³•åˆ†è¾¨evalçš„åˆ«åè°ƒç”¨ï¼Œæ‰€ä»¥åœ¨evalä½¿ç”¨åˆ«åæ—¶ï¼Œä¸€å¾‹éƒ½æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚ æ•°ç»„æ•°ç»„éå† æ•°ç»„éå†å¯ä»¥è€ƒè™‘ä½¿ç”¨forå¾ªç¯ã€whileå¾ªç¯ã€forEachå¾ªç¯ï¼Œä¼šè¿”å›é”®å€¼ï¼ˆé”®åä¸ºæ•´æ•°ï¼‰ï¼Œforâ€¦inâ€¦å¾ªç¯ä¼šåŒæ—¶éå†éæ•´æ•°é”®ï¼ˆè¿”å›çš„æ˜¯é”®åï¼‰ï¼› æ•°ç»„éå†ç©ºä½æ—¶ï¼Œéœ€è¦æ ¼å¤–æ³¨æ„ï¼Œç©ºä½å’Œundefinedæ˜¯ä¸ä¸€æ ·çš„ï¼Œç©ºä½è¡¨ç¤ºæ•°ç»„ä¸­æ²¡æœ‰è¿™ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥åœ¨forâ€¦inâ€¦å’ŒforEachå¾ªç¯ä¸­ä¸ä¼šè¢«éå†åˆ°ï¼Œä½†æ˜¯undefinedä»£è¡¨æ•°ç»„æœ‰è¿™ä¸ªå…ƒç´ ï¼Œæ˜¯ä¼šéå†åˆ°çš„ï¼› è¿ç®—ç¬¦ç®—æœ¯è¿ç®—ç¬¦åŠ æ³•è¿ç®—ç¬¦ å¯¹è±¡çš„ç›¸åŠ å¦‚æœè¿ç®—å­æ˜¯å¯¹è±¡ï¼Œå¿…é¡»å…ˆè½¬æˆåŸå§‹ç±»å‹çš„å€¼ï¼Œå¼•æ“ä¼šè‡ªåŠ¨è°ƒç”¨obj.valueof().toString(),æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡æ–°valueOf()å’ŒtoString()æ–¹æ³•å³å¯ï¼Œå…¶ä¸­æœ‰ä¸ªç‰¹ä¾‹ï¼Œå½“è¿ç®—å­æ˜¯ä¸€ä¸ªDateå¯¹è±¡çš„å®ä¾‹ï¼Œé‚£ä¹ˆä¼šä¼˜å…ˆæ‰§è¡ŒtoStringæ–¹æ³•ã€‚ æŒ‡æ•°è¿ç®—ç¬¦** ä¸ºæŒ‡æ•°è¿ç®—ç¬¦ï¼Œæ˜¯å³ç»“åˆçš„ï¼Œå½“ç„¶ï¼Œä¸‰å…ƒæ¡ä»¶è¿ç®—ç¬¦ä¹Ÿæ˜¯å³ç»“åˆçš„ï¼Œå½“ç„¶è¿˜æœ‰èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰ä¹Ÿæ˜¯å³ç»“åˆçš„ã€‚ æ¯”è¾ƒè¿ç®—ç¬¦ ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦JavaScript æä¾›ä¸¤ç§ç›¸ç­‰è¿ç®—ç¬¦ï¼š== å’Œ === ã€‚ç®€å•è¯´ï¼Œå®ƒä»¬çš„åŒºåˆ«æ˜¯ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰æ¯”è¾ƒå®ƒä»¬æ˜¯å¦ä¸ºâ€œåŒä¸€ä¸ªå€¼â€ã€‚å¦‚æœä¸¤ä¸ªå€¼ä¸æ˜¯åŒä¸€ç±»å‹ï¼Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ç›´æ¥è¿”å›falseï¼Œè€Œç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰ä¼šå°†å®ƒä»¬è½¬æ¢æˆåŒä¸€ä¸ªç±»å‹ï¼Œå†ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚tip: undefinedå’Œnullä¸è‡ªèº«ä¸¥æ ¼ç›¸ç­‰å¸ƒå°”è¿ç®—ç¬¦ç•¥äºŒè¿›åˆ¶ä½è¿ç®—ç¬¦ç•¥ å…¶ä»–è¿ç®—ç¬¦ï¼Œè¿ç®—é¡ºåºvoid è¿ç®—ç¬¦voidè¿ç®—ç¬¦çš„ä½œç”¨æ˜¯æ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç„¶åä¸è¿”å›ä»»ä½•å€¼ï¼Œæˆ–è€…è¯´è¿”å›undefinedï¼Œä¸»è¦ç”¨é€”æ˜¯æµè§ˆå™¨çš„ä¹¦ç­¾å·¥å…·ï¼Œä»¥åŠåœ¨è¶…é“¾æ¥ä¸­æ’å…¥ä»£ç é˜²æ­¢ç½‘é¡µè·³è½¬ã€‚ è¯­æ³•ä¸“é¢˜é”™è¯¯å¤„ç†æœºåˆ¶åŸç”Ÿé”™è¯¯ç±»å‹ SyntaxError ReferenceError RangeError TypeError URIError EvalError è‡ªå®šä¹‰é”™è¯¯é™¤äº† JavaScript åŸç”Ÿæä¾›çš„ä¸ƒç§é”™è¯¯å¯¹è±¡ï¼Œè¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„é”™è¯¯å¯¹è±¡ 1234567function UserError(message) &#123; this.message = message || 'é»˜è®¤ä¿¡æ¯'; this.name = 'UserError';&#125;UserError.prototype = new Error();UserError.prototype.constructor = UserError; ä¸Šé¢ä»£ç è‡ªå®šä¹‰ä¸€ä¸ªé”™è¯¯å¯¹è±¡UserErrorï¼Œè®©å®ƒç»§æ‰¿Errorå¯¹è±¡ã€‚ç„¶åï¼Œå°±å¯ä»¥ç”Ÿæˆè¿™ç§è‡ªå®šä¹‰ç±»å‹çš„é”™è¯¯äº† 1new UserError('è¿™æ˜¯è‡ªå®šä¹‰çš„é”™è¯¯ï¼'); æ ‡å‡†åº“Objectå››ä¸ªç”¨æ³•ï¼š Objectæœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å°†ä»»æ„å€¼è½¬æ¢ä¸ºå¯¹è±¡ï¼› ä¸ä»…å¯ä»¥å½“åšå·¥å…·å‡½æ•°ä½¿ç”¨ï¼Œè¿˜å¯ä»¥å½“åšæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œå³å‰é¢å¯ä»¥åŠ newå‘½ä»¤ï¼› 1æ³¨æ„ï¼Œé€šè¿‡var obj = new Object()çš„å†™æ³•ç”Ÿæˆæ–°å¯¹è±¡ï¼Œä¸å­—é¢é‡çš„å†™æ³•var obj = &#123;&#125;æ˜¯ç­‰ä»·çš„ã€‚æˆ–è€…è¯´ï¼Œåè€…åªæ˜¯å‰è€…çš„ä¸€ç§ç®€ä¾¿å†™æ³•ã€‚ Objectçš„é™æ€æ–¹æ³•ï¼Œä¾‹å¦‚Object.print,æŒ‡éƒ¨ç½²åœ¨Objectå¯¹è±¡è‡ªèº«çš„æ–¹æ³•ï¼› Objectçš„å®ä¾‹æ–¹æ³•ï¼Œå³å®šä¹‰åœ¨Object.prototypeå¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚ Object.prototype.valueof() Object.prototype.toString() Object.prototype.toLocaleString() Object.prototype.hasOwnProperty() Object.prototype.isPrototypeof() Object.prototype.propertyIsEnumerable() å±æ€§æè¿°å¯¹è±¡jsæä¾›äº†ä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æ„ï¼Œç”¨æ¥æè¿°å¯¹è±¡çš„å±æ€§ï¼Œæ¯”å¦‚æ˜¯å¦å¯å†™å¯è¯»å¯éå†ï¼Œè¿™ä¸ªå†…éƒ¨æ•°æ®ç»“æ„å°±ç§°ä¹‹ä¸ºâ€œå±æ€§æè¿°å¯¹è±¡â€ã€‚ tip:Object.getOwnPropertyNamesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„å…¨éƒ¨å±æ€§çš„å±æ€§åï¼Œä¸ç®¡è¯¥å±æ€§æ˜¯å¦å¯éå†ã€‚è€Œè¿™è·ŸObject.keysçš„è¡Œä¸ºä¸åŒï¼ŒObject.keysåªè¿”å›å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§çš„å…¨éƒ¨å±æ€§åã€‚ 123456789101112Object.keys([]) // []Object.getOwnPropertyNames([]) // [ 'length' ]Object.keys(Object.prototype) // []Object.getOwnPropertyNames(Object.prototype)// ['hasOwnProperty',// 'valueOf',// 'constructor',// 'toLocaleString',// 'isPrototypeOf',// 'propertyIsEnumerable',// 'toString'] ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„è‡ªèº«çš„lengthå±æ€§æ˜¯ä¸å¯éå†çš„ï¼ŒObject.keysä¸ä¼šè¿”å›è¯¥å±æ€§ã€‚ç¬¬äºŒä¸ªä¾‹å­çš„Object.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½ä¼šç»§æ‰¿å®ƒï¼Œå®ƒè‡ªèº«çš„å±æ€§éƒ½æ˜¯ä¸å¯éå†çš„ã€‚ Object.defineProperty(),Object.defineProperties()Object.defineProperty()æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡å¦‚ä¸‹ï¼š Objectï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡ propertyName:å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±æ€§å attributesObject:å±æ€§æè¿°å¯¹è±¡ 1234567891011var obj = Object.defineProperty(&#123;&#125;, 'p', &#123; value: 123, writable: false, enumerable: true, configurable: false&#125;);obj.p // 123obj.p = 246;obj.p // 123 Object.defineProperties()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚ä¸‹ï¼š 123456789101112var obj = Object.defineProperties(&#123;&#125;, &#123; p1: &#123; value: 123, enumerable: true &#125;, p2: &#123; value: 'abc', enumerable: true &#125;, p3: &#123; get: function () &#123; return this.p1 + this.p2 &#125;, enumerable:true, configurable:true &#125;&#125;);obj.p1 // 123obj.p2 // "abc"obj.p3 // "123abc" Object.prototype.propertyIsEnumerable()è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨æ¥åˆ¤æ–­è‡ªèº«å±æ€§æ˜¯å¦å¯ä»¥éå†ã€‚Object.keysæ˜¯è¿”å›æ‰€æœ‰å¯ä»¥éå†çš„å±æ€§ï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ï¼Œè€ŒObject.getOwnPropertyNamesåˆ™æ˜¯è¿”å›åŒ…æ‹¬ç»§æ‰¿çš„å±æ€§åœ¨å†…çš„æ‰€æœ‰å¯ä»¥éå†çš„å±æ€§ã€‚ es6å…¥é—¨lenå’Œconstå‘½ä»¤lenlenæ²¡æœ‰å˜é‡æå‡å¿…é¡»å…ˆå£°æ˜åæ‰èƒ½ä½¿ç”¨ï¼Œæ³¨æ„lenå˜é‡åªåœ¨å—åŒºåŸŸå†…æœ‰ç”¨ï¼Œæ˜¯å—çº§ä½œç”¨åŸŸï¼Œè€Œvarä¸åŒï¼Œvarå…·æœ‰å…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸï¼› æš‚æ—¶æ€§æ­»åŒº123456var tmp = 123;if (true) &#123; tmp = 'abc'; // ReferenceError let tmp;&#125; åœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸ºâ€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆtemporal dead zoneï¼Œç®€ç§° TDZï¼‰ã€‚éå¸¸éšè”½çš„â€œæ­»åŒºâ€ï¼š 12345function bar(x = y, y = 2) &#123; return [x, y];&#125;bar(); // æŠ¥é”™ é¡¶å±‚å¯¹è±¡çš„å±æ€§é¡¶å±‚å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯windowå¯¹è±¡ï¼Œåœ¨ Node æŒ‡çš„æ˜¯globalå¯¹è±¡ã€‚ES5 ä¹‹ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ã€‚ä½†åœ¨ES6ä¸­ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä» ES6 å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ã€‚ 1234567var a = 1;// å¦‚æœåœ¨ Node çš„ REPL ç¯å¢ƒï¼Œå¯ä»¥å†™æˆ global.a// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆ this.awindow.a // 1let b = 1;window.b // undefined node jså…¥é—¨]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Microsoft Remote Desktop for mac å’Œ Sparké‚®ç®±]]></title>
    <url>%2F2019%2F09%2F21%2F%E4%BD%BF%E7%94%A8Microsoft-Remote-Desktop-for-mac-%E5%92%8C-Spark%E9%82%AE%E7%AE%B1.html</url>
    <content type="text"><![CDATA[å‰è¨€ç”±äºè¿‘æœŸéœ€è¦è¿œç¨‹æ§åˆ¶windowsæœåŠ¡å™¨ï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©ä¸€ä¸ªè¿œç¨‹æ“æ§çš„è½¯ä»¶ï¼Œç”±äºmacç«¯å¹¶æ²¡æœ‰åµŒå…¥ç›¸å…³çš„åŠŸèƒ½ï¼Œåªèƒ½é€‰æ‹©Microsoft Remote Desktopï¼Œå¹¶ä¸”é—æ†¾çš„æ˜¯ï¼Œåœ¨ä¸­å›½åŒºçš„app storeå¹¶æ²¡æœ‰å…è®¸å…¶ä¸Šçº¿ï¼Œæ‰€ä»¥è¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯ç”³è¯·ä¸€ä¸ªç¾åŒºè´¦å·ã€‚ æ­¥éª¤ chromeæ‰“å¼€apple idæ³¨å†Œ æŒ‰æ­¥éª¤æ³¨å†Œï¼Œå›½å®¶å¡«å†™ç¾å›½ï¼Œæ³¨å†Œå®Œæˆä¹‹åéœ€è¦ç™»å½•ä¸€ä¸‹ ç™»å½•çš„æ—¶å€™ä¼šè¦æ±‚å¡«å†™åœ°å€ï¼Œä»¥ä¸‹æ˜¯å¯ç”¨çš„ä¿¡æ¯è¡—é“: 4114 Sepulveda Blvdï¼ŒåŸå¸‚: Culver Cityï¼Œå·: CAé‚®ç¼–: 90230ç”µè¯: (626) 339-6***å•†å®¶åç§°: Clippinger Chevrolet Oldsmobileæ³¨æ„ç”µè¯å·ç åä¸‰ä½éšä¾¿å¡«å†™å‡ ä¸ªæ•°å­— ç™»å½•App Storeï¼Œç„¶åä¸‹è½½å³å¯ä½¿ç”¨ Sparkå†™è¿™ä¸ªä¸»è¦æ˜¯æƒ³åæ§½ä¸€ä¸‹ï¼Œçœ‹åˆ°ç½‘ä¸Šbä¹å„ç§è¯´sparkå¯ä»¥æ¥æ”¶æ¨é€ï¼Œå³ä½¿æ²¡æœ‰æ‰“å¼€è½¯ä»¶ï¼Œæˆ‘æƒ³è¯´ç®€ç›´æ˜¯æ”¾å±å•Šï¼Œå¯¼è‡´æˆ‘æŸ¥äº†å‡ ä¸ªå°æ—¶éƒ½æ²¡èƒ½æˆåŠŸï¼Œæ ¹æœ¬åšä¸åˆ°å¥½å—ï¼ï¼ï¼ä¸ä¿¡ï¼Ÿçœ‹å®˜ç½‘æ€ä¹ˆè¯´çš„ â€”â€”â€“&gt;Sparkå¸®åŠ©ä¸­å¿ƒæ‰€ä»¥åªèƒ½ä¸€ç›´å¼€ç€äº†â€¦åƒåœ¾çš„ä¸€æ‰¹ï¼ï¼ï¼ï¼ï¼ï¼]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æœ€è¿‘äº‹å®œ]]></title>
    <url>%2F2019%2F09%2F01%2F%E6%9C%80%E8%BF%91%E4%BA%8B%E5%AE%9C.html</url>
    <content type="text"><![CDATA[æœ€è¿‘ç”Ÿç—…äº†â€¦åŠ ä¸Šå¼€å­¦äº‹æƒ…å¾ˆå¤šâ€¦åœæ›´äº†ä¸€ä¸ªæ˜ŸæœŸ æ¥ä¸‹æ¥ä¼šæ…¢æ…¢è·Ÿä¸Šçš„åŠ æ²¹ğŸ†™]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Flask + PyJWT å®ç°åŸºäºJson Web Tokençš„ç”¨æˆ·è®¤è¯æˆæƒ]]></title>
    <url>%2F2019%2F08%2F23%2FFlask-PyJWT-%E5%AE%9E%E7%8E%B0%E5%9F%BA%E4%BA%8EJson-Web-Token%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™æ³¨å®šåˆå°†æ˜¯ä¸€ç¯‡é•¿æ–‡ï¼Œæ¥è§¦åˆ°çš„ç¬¬ä¸€ä¸ªå…³äºpythonçš„æ¡†æ¶flaskï¼Œæœ¬æ–‡å°†ä»æœ€å¼€å§‹çš„å®‰è£…flaskï¼Œåˆ°ä¸mysqlç»“åˆï¼Œæœ€ååˆ°ç”¨pyjwtå’Œflask-jwtå’Œrestfulå†™ä¸€ä¸ªå¸¦æœ‰tokençš„æ¥å£ã€‚ æŠ€æœ¯æ ˆç®€ä»‹Flaskæ˜¯ä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚åŸºäºWerkzeug WSGI(PythonWebæœåŠ¡å™¨ç½‘å…³æ¥å£ï¼ˆPython Web Server Gateway Interfaceï¼Œç¼©å†™ä¸ºWSGI)æ˜¯Pythonåº”ç”¨ç¨‹åºæˆ–æ¡†æ¶å’ŒWebæœåŠ¡å™¨ä¹‹é—´çš„ä¸€ç§æ¥å£ï¼Œå·²ç»è¢«å¹¿æ³›æ¥å—, å®ƒå·²åŸºæœ¬è¾¾æˆå®ƒçš„å¯ç§»æ¤æ€§æ–¹é¢çš„ç›®æ ‡)å·¥å…·ç®±å’ŒJinja2 æ¨¡æ¿å¼•æ“ã€‚ Flaskä½¿ç”¨BSDæˆæƒã€‚ Flaskä¹Ÿè¢«ç§°ä¸ºâ€œmicroframeworkâ€ï¼Œå› ä¸ºå®ƒä½¿ç”¨ç®€å•çš„æ ¸å¿ƒï¼Œç”¨extensionå¢åŠ å…¶ä»–åŠŸèƒ½ã€‚Flaskæ²¡æœ‰é»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“ã€çª—ä½“éªŒè¯å·¥å…·ã€‚ç„¶è€Œï¼ŒFlaskä¿ç•™äº†æ‰©å¢çš„å¼¹æ€§ï¼Œå¯ä»¥ç”¨Flask-extensionåŠ å…¥è¿™äº›åŠŸèƒ½ï¼šORMã€çª—ä½“éªŒè¯å·¥å…·ã€æ–‡ä»¶ä¸Šä¼ ã€å„ç§å¼€æ”¾å¼èº«ä»½éªŒè¯æŠ€æœ¯ SQLAlchemyFlaskæ˜¯ä¸€ä¸ªå¾®å‹æ¡†æ¶ï¼Œè‡ªèº«æ²¡æœ‰æä¾›æ•°æ®åº“ç®¡ç†ï¼Œè¡¨å•éªŒè¯ï¼Œcookieå¤„ç†ç­‰åŠŸèƒ½ï¼Œå¾ˆå¤šåŠŸèƒ½éœ€è¦é€šè¿‡æ‰©å±•æ‰èƒ½å®ç°ï¼Œæ•°æ®åº“ç®¡ç†å°±éœ€è¦SQLAlchemyã€‚SqlAlchemyæ˜¯Pythonç¼–ç¨‹è¯­è¨€ä¸‹çš„ä¸€æ¬¾ORMæ¡†æ¶ï¼Œè¯¥æ¡†æ¶å»ºç«‹åœ¨æ•°æ®åº“APIä¹‹ä¸Šï¼Œä½¿ç”¨å…³ç³»å¯¹è±¡æ˜ å°„è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œç®€è€Œè¨€ä¹‹ï¼šå°†å¯¹è±¡è½¬æ¢æˆSQLï¼Œç„¶åä½¿ç”¨æ•°æ®APIæ‰§è¡ŒSQLå¹¶è·å–æ‰§è¡Œç»“æœã€‚ The first demo123456789from flask import Flaskapp = Flask(__name__)@app.route("/")def index(): return "hello world"if __name__ == '__main__': app.run() ç¬¬ä¸€è¡Œ fromâ€¦importâ€¦å°±æ˜¯å¯¼å…¥flaskä¸­çš„Flaskæ¨¡å—ï¼Œä¸åŒäºç›´æ¥importï¼Œfromâ€¦importç®€å•æ¥è¯´å°±æ˜¯å¸®æˆ‘ä»è½¦é‡Œæ‹¿ç“¶æ°´ï¼Œè€Œimportåˆ™æ˜¯æŠŠè½¦æ‹¿è¿‡æ¥ï¼Œæ‰€ä»¥äºŒè€…åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯æœ‰äº›åŒºåˆ«çš„ï¼Œåœ¨å¯¼å…¥æŸä¸ª.pyæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨fromâ€¦importâ€¦å¯ä»¥ç›´æ¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨importåçš„å‡½æ•°åï¼Œè€Œå¦‚æœæ˜¯importï¼Œå¦‚æœè¦è°ƒç”¨å‡½æ•°å¿…é¡»ç”¨ç±».æ¨¡å—ã€‚ ç¬¬äºŒè¡Œ è¿™è¡Œä»£ç é‡Œæœ‰ä¸€ä¸ªå‚æ•°nameï¼Œè¿™ä¸ªå‚æ•°ç”¨åˆ°å‘Šè¯‰flaskä½ çš„applicationçš„åå­—ï¼Œå®˜æ–¹æœ‰ä¸€å¥è¯ï¼š 12If you are using a single module,__name__ is always the correct value.If you however are using a package, itâ€™s usually recommended to hardcode the name ofyour package there. æ„æ€å°±æ˜¯è¯´ï¼Œå¦‚æœæ˜¯å•ä¸€çš„åº”ç”¨ï¼Œç”¨nameå°±å¯ä»¥äº†ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºåŒ…ï¼Œå°±hardcodeä¸€ä¸ªåå­—ç»™è¿™ä¸ªå‚æ•°ã€‚æ¯”å¦‚ï¼š 1app = Flask(â€œmyAppâ€) ç”±äºç›®å‰æˆ‘ä»¬çš„åº”ç”¨éƒ½ç›¸å¯¹ç®€å•ï¼Œæ‰€ä»¥ç»Ÿä¸€ä½¿ç”¨nameä½œä¸ºå‚æ•°ã€‚ ç¬¬ä¸‰è¡Œ ä½¿ç”¨route()ä¿®é¥°å™¨æ³¨æ˜é€šè¿‡ä»€ä¹ˆæ ·çš„urlå¯ä»¥è®¿é—®æˆ‘ä»¬çš„å‡½æ•°ï¼ŒåŒæ—¶åœ¨å‡½æ•°ä¸­è¿”å›è¦æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­çš„ä¿¡æ¯ã€‚ æœ€å è°ƒç”¨run()æ–¹æ³•ï¼Œè¿è¡Œflask webåº”ç”¨ç¨‹åº 12if __name__ == '__main__': app.run() å…¶ä¸­if __name__==&#39;__main__&#39;çš„æ„æ€æ˜¯ï¼Œå¦‚æœæ­¤æ–‡ä»¶æ˜¯ç›´æ¥è¿è¡Œçš„æ‰ä¼šæ‰§è¡Œapp.run()è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœæ˜¯é€šè¿‡importåœ¨å…¶å®ƒpyæ–‡ä»¶ä¸­è°ƒç”¨çš„è¯æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚ æ¯”å¦‚æˆ‘ä»¬ä¿®æ”¹code.pyä¸­çš„hello_worldæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š 1234567@app.route('/index')def hello_world(): if __name__=='main': return 'Hello World!' else: return "hello my name is "+__name__ å³å½“nameä¸ºmainæ—¶è¿˜æ˜¯æ‰§è¡ŒåŸæ¥çš„é€»è¾‘ï¼Œè¿”å›hello worldï¼Œå¦‚æœä¸æ˜¯åˆ™è¾“å‡ºæ­¤æ—¶çš„åå­—ã€‚ ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ªsub.pyæ–‡ä»¶ç„¶åå¯¼å…¥code.pyï¼Œå¹¶ä¸”æ‰§è¡Œhello_worldæ–¹æ³•: 1234567import codedef CallCodeFun(): result = code.hello_world() print(result)CallCodeFun()print(__name__) æ­¤æ—¶çš„nameæ˜¯Codeè€Œä¸æ˜¯mainï¼Œè€Œæ­¤æ—¶ï¼Œåœ¨sub.pyä¸­åŠ ä¸€å¥print(name)å¯ä»¥å‘ç°sub.pyä¸­çš„nameå˜æˆäº†main ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡º name å¦‚æœæ˜¯ main é‚£ä¹ˆä»£è¡¨ä»–æ˜¯ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œçš„ã€‚ tip:å»ºæ–‡ä»¶æ—¶æ–‡ä»¶åæœ€å¥½ä¸è¦å«codeï¼Œå› ä¸ºpythonæœ‰æ¨¡å—åå°±å«codeã€‚ flask-sqlalchemy æ•°æ®åº“é…ç½®ï¼Œä¸Šdemo 12345678910111213141516171819202122from flask_sqlalchemy import SQLAlchemyfrom flask import Flaskimport configparser# å‘Šè¯‰flask appçš„åå­—app = Flask(__name__)//é€šè¿‡configparserè·å–è¯»å–é…ç½®æ–‡ä»¶çš„è§£é‡Šå™¨my_config = configparser.ConfigParser()my_config.read('db.conf')# dialect+driver://username:password@host:port/database?charset=utf8# é…ç½® sqlalchemy æ•°æ®åº“é©±åŠ¨://æ•°æ®åº“ç”¨æˆ·å:å¯†ç @ä¸»æœºåœ°å€:ç«¯å£/æ•°æ®åº“?ç¼–ç # py3æ— æ³•ç»§ç»­ä½¿ç”¨sqldbï¼Œæ‰€ä»¥é‡‡ç”¨pymysqlapp.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://' + my_config.get('DB', 'DB_USER') + ':' + \ my_config.get('DB', 'DB_PASSWORD') + '@' + my_config.get('DB', 'DB_HOST') + '/' + \ my_config.get('DB', 'DB_DB') # è®¾ä¸ºTrue è¡¨ç¤ºæ¯æ¬¡è¯·æ±‚ç»“æŸåéƒ½ä¼šè‡ªåŠ¨æäº¤æ•°æ®åº“çš„å˜åŠ¨ï¼Œä½†åƒadd delete insertç­‰ä»éœ€è¦commit,å»ºè®®ä¸è¦è®¾ä¸ºtrueapp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = Truemydb = SQLAlchemy()mydb.init_app(app)if __name__ == "__main__": app.run(debug=True) ä¸ºäº†ä½¿ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œè¿™é‡Œä½¿ç”¨å¦ä¸€ç§é…ç½®æ–¹å¼ï¼Œå³ä½¿ç”¨å•ç‹¬é…ç½®æ–‡ä»¶çš„æ–‡ä»¶æ¥åšå…¨å±€Flaské…ç½® ç®¡æ§æ‰€æœ‰çš„é…ç½®æ–‡ä»¶conf.py: 1234567DB_USER = 'root'DB_PASSWORD = 'jwyjwy9951206-=-'DB_HOST = 'localhost'DB_DB = 'flask_migrate_demo'DEBUG = True SQLALCHEMY_TRACK_MODIFICATIONS = FalseSQLALCHEMY_DATABASE_URI = 'mysql+pymysql://' + DB_USER + ':' + DB_PASSWORD + '@' + DB_HOST + '/' + DB_DB SQLAlchemyå…è®¸æˆ‘ä»¬æ ¹æ®æ•°æ®åº“çš„è¡¨ç»“æ„æ¥åˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œåä¹‹äº¦å¯ã€‚ æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æ— é¡»æ‰‹åŠ¨çš„ç™»å½•åˆ°æ•°æ®åº“ä¸­ä½¿ç”¨ SQL è¯­å¥æ¥åˆ›å»ºè¡¨, æˆ‘ä»¬åªéœ€æŠŠæ•°æ®æ¨¡å‹å®šä¹‰å¥½äº†ä¹‹å, è¡¨ç»“æ„ä¹Ÿå°±æœ‰äº† æ–°å»ºmodel.pyï¼Œå¹¶å®šä¹‰ä¸€ä¸ªç”¨æˆ·è¡¨æ•°æ®æ¨¡å‹ 12345678from flask_sqlalchemy import SQLAlchemydb = SQLAlchemy()class User(db.Model):user_id = db.Column(db.Integer, primary_key=True)user_name = db.Column(db.String(60), nullable=False)user_password = db.Column(db.String(30), nullable=False)user_nickname = db.Column(db.String(50))user_email = db.Column(db.String(30), nullable=False) æ–°å»ºdb.pyï¼Œåˆ©ç”¨Flask-Scriptå’ŒFlask-Migrateï¼Œæ­å»ºdbå’Œappä¹‹é—´çš„æ¡¥æ¢ 1234567891011from flask import Flaskfrom flask_script import Managerfrom flask_migrate import Migrate, MigrateCommandfrom model import dbapp = Flask(__name__)app.config.from_object('conf')migrate = Migrate(app, db)manager = Manager(app)manager.add_command('db', MigrateCommand)if __name__ == '__main__':manager.run() Flask-Scriptå’ŒFlask-Migrateä½¿ç”¨ æœ€åï¼Œåœ¨pycharmçš„æ§åˆ¶å°æ‰“ä¸‹ä¸‰è¡Œè¿ç§»ä»£ç ï¼Œè¿™æ ·å°±èƒ½åœ¨æ•°æ®åº“ä¸­çœ‹è§è·Ÿmodelå­—æ®µä¸€æ ·çš„è¡¨äº† 123python db.py db initpython db.py db migratepython db.py db upgrade ç¤ºä¾‹æ¥å£å®ç° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091# ç”¨åˆ°flaskä¸­çš„Flaskæ¡†æ¶ï¼Œjsonifyè¿”å›jsonæ•°æ®ï¼Œrequestå°†å‰ç«¯å­—æ®µä¼ å…¥åç«¯from flask import Flask, jsonify, request# å°†modelä¸­çš„Userï¼Œdbå¯¹è±¡ä¼ å…¥from model import db, User# å‘Šè¯‰flaskè¿™ä¸ªappè¦ç”¨å®ƒapp = Flask(__name__)# è¯»å–é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ˜¯è¿æ¥mysqlapp.config.from_object('conf')# åˆå§‹åŒ–db.init_app(app)# å¼€å§‹è·¯ç”±@app.route('/')def index(): return '&lt;h1&gt;Hello Flask!&lt;/h1&gt;'# å¢@app.route('/user', methods=['POST'])def addUser(): user_name = request.form.get('user_name') user_password = request.form.get('user_password') user_nickname = request.form.get('user_nickname') user_email = request.form.get('user_email') user = User(user_name=user_name, user_password=user_password, user_nickname=user_nickname, user_email=user_email) try: db.session.add(user) db.session.commit() except: db.session.rollback() db.session.flush() userId = user.user_id if (user.user_id is None): result = &#123;'msg': 'æ·»åŠ å¤±è´¥'&#125; return jsonify(data=result) data = User.query.filter_by(user_id=userId).first() result = &#123;'user_id': data.user_id, 'user_name': data.user_name, 'user_nickname': data.user_nickname, 'user_email': data.user_email&#125; return jsonify(data=result)# æŸ¥@app.route('/user/&lt;int:userId&gt;', methods=['GET'])def getUser(userId): user = User.query.filter_by(user_id=userId).first() if (user is None): result = &#123;'msg': 'æ‰¾ä¸åˆ°æ•°æ®'&#125; else: result = &#123;'user_id': user.user_id, 'user_name': user.user_name, 'user_nickname': user.user_nickname, 'user_email': user.user_email&#125; return jsonify(data=result)# æ”¹@app.route('/user/&lt;int:userId&gt;', methods=['PATCH'])def updateUser(userId): user_name = request.form.get('user_name') user_password = request.form.get('user_password') user_nickname = request.form.get('user_nickname') user_email = request.form.get('user_email') try: user = User.query.filter_by(user_id=userId).first() if (user is None): result = &#123;'msg': 'æ‰¾ä¸åˆ°è¦ä¿®æ”¹çš„è®°å½•'&#125; return jsonify(data=result) else: user.user_name = user_name user.user_password = user_password user.user_nickname = user_nickname user.user_email = user_email db.session.commit() except: db.session.rollback() db.session.flush() userId = user.user_id data = User.query.filter_by(user_id=userId).first() result = &#123;'user_id': data.user_id, 'user_name': data.user_name, 'user_password': data.user_password, 'user_nickname': data.user_nickname, 'user_email': data.user_email&#125; return jsonify(data=result)# æŸ¥å…¨éƒ¨@app.route('/user', methods=['GET'])def getUsers(): data = User.query.all() data_all = [] for user in data: data_all.append(&#123;'user_id': user.user_id, 'user_name': user.user_name, 'user_nickname': user.user_nickname, 'user_email': user.user_email&#125;) return jsonify(users=data_all)# åˆ @app.route('/user/&lt;int:userId&gt;', methods=['DELETE'])def deleteUser(userId): # åˆ é™¤æ•°æ® User.query.filter_by(user_id=userId).delete() db.session.commit() return getUsers()if __name__ == '__main__': app.run(debug=app.config['DEBUG']) â€‹ SQLAlchemy å‡ ç§æŸ¥è¯¢æ–¹å¼æ€»ç»“ ä½¿ç”¨Flask-RESTfulå¿«é€Ÿåˆ›å»ºRESTful APIæ¥å£å…ˆå®¹æˆ‘æŠŠé¡¹ç›®åšå®Œâ€¦å¾…ç»­â€¦â€¦.æ— èŠçœ‹çœ‹æ–‡æ¡£ï¼šflask-restfulä¸­æ–‡å®˜æ–¹æ–‡æ¡£ ä½¿ç”¨Flask + PyJWT å®ç°åŸºäºJson Web Tokençš„ç”¨æˆ·è®¤è¯æˆæƒå¾…æ›´â€¦æ— èŠçœ‹çœ‹æ–‡æ¡£ï¼šFlask + PyJWT å®ç°åŸºäºJson Web Tokençš„ç”¨æˆ·è®¤è¯æˆæƒ é—®é¢˜1.ä¸»è¦é—®é¢˜å°±æ˜¯flaskå’Œmysqlçš„è¿æ¥é—®é¢˜ï¼Œå‡ºç°çš„æœ€æ£˜æ‰‹çš„é—®é¢˜é¦–å…ˆæ˜¯mysqldbæ˜¯py2çš„ï¼Œpy3æ²¡æœ‰ï¼Œç”¨pymysqlä»£æ›¿ï¼Œåœ¨SQLALCHEMY_DATABASE_URIæ³¨æ„ä¿®æ”¹driveré©±åŠ¨ã€‚2.æœ€ç»ˆä¿®æ”¹æ–¹æ¡ˆæ˜¯è‡ªå·±ç”¨ä¸€ä¸ªdemoå»ºå¥½äº†æ•°æ®åº“å’Œè¡¨(è®°å¾—ä¿å­˜å¥½demo)ï¼Œdemoå¦‚ä¸‹ï¼Œç„¶åå†è¿è¡Œå°±å¯ä»¥äº†ã€‚ 12345678910111213141516from sqlalchemy import create_engine,Table,Column,Integer,String,MetaData,ForeignKeyengine=create_engine("mysql+pymysql://root:a5230411@localhost:3306/test",echo=True)metadata=MetaData(engine)user=Table('user',metadata, Column('id',Integer,primary_key=True), Column('name',String(20)), Column('fullname',String(40)), )address_table = Table('address', metadata, Column('id', Integer, primary_key=True), Column('user_id', None, ForeignKey('user.id')), Column('email', String(128), nullable=False) )metadata.create_all() 3.è§£å†³ sqlalchemy æŠ¥é”™:(1193, â€œUnknown system variable â€˜tx_isolationâ€™â€): ä¼ é€é—¨ å‚è€ƒç½‘å€ Flask + PyJWT å®ç°åŸºäºJson Web Tokençš„ç”¨æˆ·è®¤è¯æˆæƒ ä½¿ç”¨ Flask è®¾è®¡ RESTful çš„è®¤è¯ ä½¿ç”¨Flask-RESTfulå¿«é€Ÿåˆ›å»ºRESTful APIæ¥å£ Flask + flask-jwt å®ç°åŸºäºJson Web Tokençš„ç”¨æˆ·è®¤è¯æˆæƒ Flaskç¨‹åºç›®å½•ç»“æ„â€”â€”æ„å»ºå¯æ‰©å±•çš„Flaskåº”ç”¨ç¨‹åº Pythonçš„flaskï¼šmodels.pyæ¥åˆ›å»ºmysqlæ•°æ®åº“ pythonä½¿ç”¨sqlalchemyè¿æ¥mysqlæ•°æ®åº“ æ·±å…¥æµ…å‡ºFlask(å­¦ä¹ æ•™ç¨‹) æ·±å…¥æµ…å‡ºç†è§£Pythonè£…é¥°å™¨ flask-restfulä¸­æ–‡å®˜æ–¹æ–‡æ¡£]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>flask</tag>
        <tag>PyJWT</tag>
        <tag>restful</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaæ ¸å¿ƒæŠ€æœ¯]]></title>
    <url>%2F2019%2F08%2F20%2FJava%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html</url>
    <content type="text"><![CDATA[ç¬¬ä¸€ç« Javaçš„11ä¸ªå…³é”®æœ¯è¯­ ç®€å•æ€§ é¢å‘å¯¹è±¡ åˆ†å¸ƒå¼ å¥å£®æ€§ å®‰å…¨æ€§ ä½“ç³»ç»“æ„ä¸­ç«‹ å¯ç§»æ¤æ€§ è§£é‡Šå‹ é«˜æ€§èƒ½ å¤šçº¿ç¨‹ åŠ¨æ€æ€§ Java appletåœ¨ç½‘é¡µä¸­è¿è¡Œçš„Javaç¨‹åºç§°ä¸ºapplet ç¬¬äºŒç« éƒ¨åˆ†æœ¯è¯­ JDK(java development kit):javaå¼€å‘å·¥å…·åŒ… JRE(Java Runtime Environment):è¿è¡Œjavaç¨‹åºç”¨æˆ·æ‰€ä½¿ç”¨çš„è½¯ä»¶ SDK(Software Development Kit):è½¯ä»¶å¼€å‘åŒ… å®‰è£…è¿‡ç¨‹MACä¸­JAVAç¯å¢ƒå˜é‡é…ç½®ä»¥åŠIntellij IDEAå¦‚ä½•é…ç½®JDKIDEAçš„æ ¡å›­é‚®ç®±æ¿€æ´»æ–¹å¼IntelliJ IDEA å¸¸ç”¨å¿«æ·é”® ä¹‹ Mac ç‰ˆIntellij IDEAå¿«æ·ç”Ÿæˆå¸¸ç”¨ä»£ç  çç¢çŸ¥è¯†ç‚¹ 0x1.0p-3:0xè¡¨ç¤º16è¿›åˆ¶ï¼Œä½¿ç”¨pè¡¨ç¤ºæŒ‡æ•°ï¼Œæ‰€ä»¥å°±æ˜¯1.0*2çš„-3æ¬¡æ–¹ ä¸‰ä¸ªç‰¹æ®Šçš„æµ®ç‚¹æ•°å€¼ï¼šæ­£æ— ç©·å¤§(Double.POSITIVE_INFINITY)ã€è´Ÿæ— ç©·å¤§(Double.NEGATIVE_INFINITY)ã€NaN(Double.NaN) æµ®ç‚¹æ•°å€¼ä¸é€‚ç”¨äºæ— æ³•æ¥å—èˆå…¥è¯¯å·®çš„è®¡ç®—ä¸­ï¼Œè¦æƒ³å®Œå…¨æ²¡æœ‰è¯¯å·®ï¼Œéœ€è¦ä½¿ç”¨BigDecimalç±» éƒ¨åˆ†ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰åºåˆ—ï¼š\b é€€æ ¼ \t åˆ¶è¡¨ \n æ¢è¡Œ \r å›è½¦ \â€œåŒå¼•å· \åæ–œæ  å¼ºçƒˆå»ºè®®ä¸è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨charç±»å‹ï¼Œå› ä¸ºunicodeæ—©å·²ç»è¶…è¿‡äº†65536ä¸ª ç¬¬ä¸‰ç« éƒ¨åˆ†æœ¯è¯­ ç±»å¸¸é‡ï¼šstatic final,ç±»å¸¸é‡çš„å®šä¹‰åœ¨mainæ–¹æ³•çš„å¤–éƒ¨ æ•´æ•°è¢«0é™¤å°†ä¼šäº§ç”Ÿå¼‚å¸¸ï¼Œæµ®ç‚¹æ•°è¢«0é™¤å°†ä¼šå¾—åˆ°æ— ç©·å¤§æˆ–NaNç»“æœ public static strictfp void main(String[] args)ï¼Œåœ¨è¯¥mainå‡½æ•°ä¸­æ‰€æœ‰æŒ‡ä»¤éƒ½å°†ä½¿ç”¨ä¸¥æ ¼çš„æµ®ç‚¹è®¡ç®— condition ? expression1 : expression2 eg: x&lt;y ? x : y ä½è¿ç®—ç¬¦ï¼š&amp;ã€|ã€^ã€~æ‹“å±•ï¼šå¥‡æ•°ä¸ªæ•°ï¼Œä¸¤ä¸ªä¸¤ä¸ªæˆå¯¹æœ€æœ‰ä¸€ä¸ªå•ç‹¬ï¼Œå¦‚ä½•æ‰¾å‡ºè¿™ä¸ªå•ç‹¬çš„æ•°å­—æ˜¯å‡ ï¼Œå¤æ‚åº¦åœ¨O(n)ä»¥å†…ï¼šç”¨å¼‚æˆ–çš„æ€æƒ³å³å¯ï¼Œå…¨éƒ¨å¼‚æˆ– ç§»ä½è¿ç®—ç¬¦: &lt;&lt;(ç®—æ•°ç§»ä½)&gt;&gt; &gt;&gt;&gt;(é€»è¾‘å³ç§»),å…¶ä¸­&gt;&gt;&gt;ä¼šç”¨0å¡«å……é«˜ä½ï¼Œç§»ä½è¿ç®—ç¬¦çš„å³æ“ä½œæ•°è¦æ»¡è¶³æ¨¡32çš„è¿ç®—(å¦‚æœå·¦è¾¹æ“ä½œæ•°æ˜¯longåˆ™è¦æ»¡è¶³æ¨¡64)ï¼Œ1&lt;&lt;35 == 1&lt;&lt;3 == 8 æšä¸¾ç±»å‹ï¼šenum Size{SMALL,MEDIUM,LARGE } å­—ç¬¦ä¸² å­ä¸²: 12String greeting = "Hello";String s = greeting.substring(0,3); æ‹¼æ¥:ç›´æ¥ç”¨+è¿æ¥ã€å¦‚æœéœ€è¦å¤šä¸ªå­—ç¬¦ä¸²æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”ç”¨ä¸€ä¸ªå®šç•Œç¬¦åˆ†å‰²ï¼Œå¯ä»¥é‡‡ç”¨é™æ€joinæ–¹æ³•ï¼š 12String all = String.join("/","S","M","L","XL")// string: "S/M/L/XL" javaä¸­ä¸å…è®¸ä¿®æ”¹å­—ç¬¦ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å­—ç¬¦ä¸²å˜é‡*å­—ç¬¦ä¸²æ¯”è¾ƒç”¨equalsæ–¹æ³•ï¼Œä¾‹å¦‚ï¼šâ€Helloâ€.equals(greeting),â€Helloâ€.equalsIgnoreCase(â€œhelloâ€)ã€Œæ— è§†å¤§å°å†™çš„æ¯”è¾ƒã€ java.lang.stringéƒ¨åˆ†apiStringç±»å¸¸ç”¨æ–¹æ³•ä¹‹charAt()ã€codePointAt()ç¤ºä¾‹offsetByCodePoints()ä¸codePointAt() æ³¨æ„lastIndexOf(int cp,int fromindex)ï¼Œæ˜¯è¿”å›ä»indexä½ç½®å¼€å§‹æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªç¬¦åˆçš„å­—ç¬¦ä¸²çš„ä½ç½® 12345678910111213141516public int lastIndexOf(int ch, int fromIndex) &#123; if (ch &lt; Character.MIN_SUPPLEMENTARY_CODE_POINT) &#123; // handle most cases here (ch is a BMP code point or a // negative value (invalid code point)) final char[] value = this.value; int i = Math.min(fromIndex, value.length - 1); for (; i &gt;= 0; i--) &#123; if (value[i] == ch) &#123; return i; &#125; &#125; return -1; &#125; else &#123; return lastIndexOfSupplementary(ch, fromIndex); &#125; &#125; input Scanneråœ¨utilåŒ…ä¸­ï¼Œå½“ä½¿ç”¨çš„ç±»ä¸åœ¨java.langä¸­æ—¶ï¼Œéƒ½éœ€è¦å¯¼åŒ… 1234567Scanner sc = new Scanner(System.in); String nextLine = sc.nextLine(); System.out.println("please input your name:" + nextLine); int nextInt = sc.nextInt(); System.out.println("please input your age:" + nextInt);String next = sc.next();System.out.println("please input your name:" + next);]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿæ´»å¥½éš¾å•Š]]></title>
    <url>%2F2019%2F08%2F18%2F%E7%94%9F%E6%B4%BB%E5%A5%BD%E9%9A%BE%E5%95%8A.html</url>
    <content type="text"><![CDATA[ä»Šå¤©è¢«æ‰“å‡»äº†â€¦å§æ§½è¿™ä¸ªå¤§æ•°æ®æ€ä¹ˆè¿™ä¹ˆæ¯ç‡¥â€¦å†æ¬¡æ€€ç–‘ä¸é€‚åˆå­¦è®¡ç®—æœºâ€¦æŠŠæˆ‘çœ‹ç¡ç€äº†å¯è¿˜è¡Œï¼ˆåè¡€â€¦ç®—äº†è¿˜æ˜¯æ¥ç€å¹²å§ï¼‰]]></content>
      <categories>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>è´Ÿæƒ…ç»ª</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[kafka]]></title>
    <url>%2F2019%2F08%2F18%2Fkafka.html</url>
    <content type="text"><![CDATA[åˆè¯†kafkakafkaæ¦‚å¿µKafkaæ˜¯ä¸€ç§é«˜ååé‡çš„åˆ†å¸ƒå¼å‘å¸ƒè®¢é˜…æ¶ˆæ¯ç³»ç»Ÿï¼Œå®ƒå¯ä»¥å¤„ç†æ¶ˆè´¹è€…åœ¨ç½‘ç«™ä¸­çš„æ‰€æœ‰åŠ¨ä½œæµæ•°æ®,æ˜¯ç”¨äºæ„å»ºå®æ—¶æ•°æ®ç®¡é“å’Œæµåº”ç”¨ç¨‹åºã€‚ å››ä¸ªæœ¯è¯­ TopicKafkaå°†æ¶ˆæ¯ç§å­(Feed)åˆ†é—¨åˆ«ç±»ï¼Œæ¯ä¸€ç±»çš„æ¶ˆæ¯ç§°ä¹‹ä¸ºä¸€ä¸ªä¸»é¢˜(Topic)ã€‚ Producerå‘å¸ƒæ¶ˆæ¯çš„å¯¹è±¡ç§°ä¹‹ä¸ºä¸»é¢˜ç”Ÿäº§è€…(Kafka topic producer)ã€‚ç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯æ—¶è¦é€‰å®šTopicä¸Šçš„åˆ†åŒºã€‚ Consumerè®¢é˜…æ¶ˆæ¯å¹¶å¤„ç†å‘å¸ƒçš„æ¶ˆæ¯çš„ç§å­çš„å¯¹è±¡ç§°ä¹‹ä¸ºä¸»é¢˜æ¶ˆè´¹è€…(consumers)ã€‚ä¸€èˆ¬æ¶ˆè´¹è€…æ¨¡å‹å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šé˜Ÿåˆ—å’Œå‘å¸ƒ-è®¢é˜…å¼ã€‚é˜Ÿåˆ—çš„å¤„ç†æ–¹å¼å°±æ˜¯ä¸€æ¡æ¶ˆæ¯åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…çŸ¥é“å¹¶å¤„ç†ï¼Œå‘å¸ƒ-è®¢é˜…çš„å¤„ç†æ–¹å¼åˆ™æ˜¯æ¶ˆæ¯è¢«æ‰€æœ‰äººéƒ½çŸ¥é“ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥æ¥å¤„ç†è¯¥æ¶ˆæ¯ï¼Œkafkaä¸ºè¿™ä¸¤ç§æ¨¡å‹æä¾›äº†å•ä¸€æŠ½è±¡æ¨¡å‹ï¼šæ¶ˆè´¹è€…ç»„ï¼ˆcosumer groupï¼‰ã€‚æ¯ä¸ªæ¶ˆè´¹è€…éƒ½æœ‰ä¸€ä¸ªç»„åï¼Œå½“æ‰€æœ‰äººçš„ç»„åéƒ½ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œå› ä¸ºæ¶ˆæ¯è¦æŒ‰ç…§æ¶ˆè´¹è€…ç»„ä¸ºå•ä½å‘å‡ºçš„ï¼Œè¿™æ„å‘³ç€æ­¤æ—¶æ¯ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šæ”¶åˆ°æ¶ˆæ¯å¹¶å¯ä»¥è¿›è¡Œå¤„ç†ï¼›å½“æ‰€æœ‰äººçš„æ¶ˆè´¹è€…ç»„åå­—éƒ½ä¸€æ ·æ—¶ï¼Œæ„å‘³ç€åªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…æ”¶åˆ°æ¶ˆæ¯å¹¶å¯ä»¥è¿›è¡Œå¤„ç†ï¼Œæ­¤æ—¶å°±æ˜¯é˜Ÿåˆ—æ¨¡å¼äº†ã€‚ Brokerå·²å‘å¸ƒçš„æ¶ˆæ¯ä¿å­˜åœ¨ä¸€ç»„æœåŠ¡å™¨ä¸­ï¼Œç§°ä¹‹ä¸ºKafkaé›†ç¾¤ã€‚é›†ç¾¤ä¸­çš„æ¯ä¸€ä¸ªæœåŠ¡å™¨éƒ½æ˜¯ä¸€ä¸ªä»£ç†(Broker). æ¶ˆè´¹è€…å¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜ï¼ˆtopicï¼‰ï¼Œå¹¶ä»Brokeræ‹‰æ•°æ®ï¼Œä»è€Œæ¶ˆè´¹è¿™äº›å·²å‘å¸ƒçš„æ¶ˆæ¯ã€‚ ä¸‰ä¸ªå…³é”®èƒ½åŠ› å‘å¸ƒå’Œè®¢é˜…æ¶ˆæ¯æµï¼Œåœ¨è¿™æ–¹é¢ï¼Œå®ƒç±»ä¼¼äºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æˆ–ä¼ä¸šæ¶ˆæ¯ç³»ç»Ÿ ä»¥å®¹é”™çš„æ–¹å¼å­˜å‚¨æ¶ˆæ¯ï¼ˆæµ) åœ¨æ¶ˆæ¯æµå‘ç”Ÿæ—¶å¤„ç†ä»–ä»¬ å››ä¸ªæ ¸å¿ƒAPI åº”ç”¨ç¨‹åºä½¿ç”¨ Producer API å‘å¸ƒæ¶ˆæ¯åˆ°1ä¸ªæˆ–å¤šä¸ªtopicï¼ˆä¸»é¢˜ï¼‰ã€‚ åº”ç”¨ç¨‹åºä½¿ç”¨ Consumer API æ¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªtopicï¼Œå¹¶å¤„ç†äº§ç”Ÿçš„æ¶ˆæ¯ åº”ç”¨ç¨‹åºä½¿ç”¨ Streams API å……å½“ä¸€ä¸ªæµå¤„ç†å™¨ï¼Œä»1ä¸ªæˆ–å¤šä¸ªtopicæ¶ˆè´¹è¾“å…¥æµï¼Œå¹¶ç”Ÿäº§ä¸€ä¸ªè¾“å‡ºæµåˆ°1ä¸ªæˆ–å¤šä¸ªè¾“å‡ºtopicï¼Œæœ‰æ•ˆåœ°å°†è¾“å…¥æµè½¬æ¢åˆ°è¾“å‡ºæµã€‚ Connector APIå…è®¸æ„å»ºæˆ–è¿è¡Œå¯é‡å¤ä½¿ç”¨çš„ç”Ÿäº§è€…æˆ–æ¶ˆè´¹è€…ï¼Œå°†topicè¿æ¥åˆ°ç°æœ‰çš„åº”ç”¨ç¨‹åºæˆ–æ•°æ®ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå…³ç³»æ•°æ®åº“çš„è¿æ¥å™¨å¯æ•è·æ¯ä¸€ä¸ªå˜åŒ–ã€‚ kafkaå®‰è£…è¿‡ç¨‹ kafkaçš„å®‰è£… 1brew install kafka å®‰è£…ä¼šä¾èµ–zookeeper æ³¨æ„ï¼šå®‰è£…ç›®å½•ï¼š/usr/local/Cellar/kafka/0.10.2.0 å®‰è£…çš„é…ç½®æ–‡ä»¶ä½ç½®/usr/local/etc/kafka/server.properties/usr/local/etc/kafka/zookeeper.properties å¯åŠ¨zookeeper 1zookeeper-server-start /usr/local/etc/kafka/zookeeper.properties &amp; å¯åŠ¨kafka 1kafka-server-start /usr/local/etc/kafka/server.properties &amp; åˆ›å»ºtopicè®©æˆ‘ä»¬ä½¿ç”¨å•ä¸ªåˆ†åŒºå’Œåªæœ‰ä¸€ä¸ªå‰¯æœ¬åˆ›å»ºä¸€ä¸ªåä¸ºâ€œtestâ€çš„ä¸»é¢˜ 1kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test æŸ¥çœ‹åˆ›å»ºçš„topicæˆ‘ä»¬ç°åœ¨å¯ä»¥çœ‹åˆ°è¯¥ä¸»é¢˜ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œlist topicå‘½ä»¤ï¼š 1kafka-topics --list --zookeeper localhost:2181 å‘é€æ¶ˆæ¯Kafkaæä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå®ƒå°†ä»æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥æ¥æ”¶è¾“å…¥ï¼Œå¹¶å°†å…¶ä½œä¸ºæ¶ˆæ¯å‘é€åˆ°Kafkaé›†ç¾¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯è¡Œéƒ½å°†ä½œä¸ºå•ç‹¬çš„æ¶ˆæ¯å‘é€ã€‚è¿è¡Œç”Ÿäº§è€…ï¼Œç„¶ååœ¨æ§åˆ¶å°ä¸­é”®å…¥ä¸€äº›æ¶ˆæ¯å‘é€åˆ°æœåŠ¡å™¨ã€‚ 1kafka-console-producer --broker-list localhost:9092 --topic test æ¶ˆè´¹æ¶ˆæ¯Kafkaè¿˜æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œæ¶ˆè´¹è€…ï¼Œå°†æ¶ˆæ¯è½¬å‚¨åˆ°æ ‡å‡†è¾“å‡ºã€‚ 1kafka-console-consumer --bootstrap-server localhost:9092 --topic test --from-beginning TipQ:å®‰è£…kafkaå‡ºç°é”™è¯¯ï¼š 1234kafka: Java 1.8 is required to install this formula.Install AdoptOpenJDK 8 with Homebrew Cask: brew cask install homebrew/cask-versions/adoptopenjdk8Error: An unsatisfied requirement failed this build. A: 1brew cask install homebrew/cask-versions/adoptopenjdk8 bilibiliå­¦ä¹ kafkahttps://www.bilibili.com/video/av36607048?p=2 zookeeper é»˜è®¤æ˜¯å‰å°å¯åŠ¨(å…³é—­äº†æ§åˆ¶å°åœæ­¢)ï¼Œå¯ä»¥åœ¨æœ€å‰é¢åŠ ä¸Š nohupï¼Œè¿™æ ·å°±å¯ä»¥åå°å¯åŠ¨äº†ã€‚ ä¸‰ä¸ªç›®å½• binç›®å½•1cd usr/local/Cellar/kafka/2.2.1/bin * configæ–‡ä»¶ 1/usr/local/etc/kafka/server.properties * æ—¥å¿— 1234############################# Log Basics ############################## A comma separated list of directories under which to store log fileslog.dirs=/usr/local/var/lib/kafka-logs åˆ é™¤topic1kafka-topics --delete --zookeeper localhost:2181 --topic test]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>kafka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®è·µwinrmï¼Œå®ç°è¿œç¨‹è¿æ¥è°ƒåº¦WindowsæœåŠ¡å™¨]]></title>
    <url>%2F2019%2F08%2F17%2Fpython%E5%AE%9E%E8%B7%B5winrm%EF%BC%8C%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E8%B0%83%E5%BA%A6Windows%E6%9C%8D%E5%8A%A1%E5%99%A8.html</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘æœ‰ä¸ªéœ€æ±‚ï¼šç”¨è‡ªå·±ä¸»æœºæ§åˆ¶å¤šä¸ªwindowsèŠ‚ç‚¹ï¼Œå®æ—¶è·å–ä»–ä»¬çš„cpuå’Œè¿å­˜å ç”¨æƒ…å†µï¼Œé€šè¿‡æŸ¥è¯¢ï¼Œå†³å®šé‡‡ç”¨pythonä¸­çš„winrmã€‚Tip:winrmæœåŠ¡æ˜¯windows ä¸€ç§æ–¹ä¾¿è¿œç¨‹ç®¡ç†çš„æœåŠ¡ï¼›å¼€å¯winrm service,ä¾¿äºåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œè¿œç¨‹ç®¡ç†æœåŠ¡å™¨ï¼Œæˆ–é€šè¿‡è„šæœ¬ï¼ŒåŒæ—¶ç®¡ç†å¤šå°æœåŠ¡å™¨ï¼Œæ¥æé«˜å·¥ä½œæ•ˆç‡ã€‚ å¸¸è§„åšæ³•é…ç½®è¿œç¨‹ä¸»æœº,ä½¿å…¶æ”¯æŒè¢«è¿œç¨‹æ§åˆ¶ æŸ¥çœ‹winrm service listenerï¼ˆåˆ†ä¸ºhttpå’Œhttpsï¼‰:1winrm e winrm/config/listener å¦‚æœæ²¡æœ‰è¿”å›ï¼Œåˆ™æ²¡æœ‰å¼€å¯winrmæœåŠ¡ã€‚ å¼€å¯winrmæœåŠ¡ï¼š 1winrm quickconfig ä¸ºwinrm service é…ç½®auth: 1winrm set winrm/config/service/auth @&#123;Basic="true"&#125; ä¸ºwinrm service é…ç½®åŠ å¯†æ–¹å¼ä¸ºå…è®¸éåŠ å¯†ï¼š 1winrm set winrm/config/service @&#123;AllowUnencrypted="true"&#125; æŸ¥çœ‹winrmæœåŠ¡çš„é…ç½®ï¼š 1winrm get winrm/config å®¢æˆ·ç«¯ä¸»æœº è£…winrm 1pip install pywinrm æµ‹è¯• 1234import winrmwintest = winrm.Session('http://47.98.149.160:5985/wsman',auth=('Administrator','Jwy12345a'))ret = wintest.run_cmd('ipconfig')print(ret) é‡åˆ°çš„é—®é¢˜åŠè§£å†³æªæ–½ åœ¨æµ‹è¯•ç¯èŠ‚ï¼Œå¯¼å…¥winrmåŒ…åï¼Œæ§åˆ¶å°æ˜¾ç¤ºï¼šwinrm has no attribute session è§£å†³åŠæ³•ï¼špipå¯¼é”™äº†åŒ…ï¼Œåº”è¯¥æ˜¯pywinrmè¿™ä¸ªåŒ…ï¼Œå°†pipåŸæ¥çš„åŒ…åˆ é™¤ï¼Œé‡æ–°å¯¼å…¥ä¸€éã€‚ pycharmé—®é¢˜ï¼šmodule â€˜pipâ€™ has no attribute â€˜mainâ€™ è§£å†³åŠæ³•ï¼špipå‡çº§å¯¼è‡´æ— æ³•å¯¼åŒ… æµ‹è¯•çš„æ—¶å€™ï¼ŒæŠ¥å‡ºä»¥ä¸‹é”™è¯¯ï¼š 1requests.exceptions.ConnectTimeout: HTTPConnectionPool(host='47.98.149.160', port=5985): Max retries exceeded with url: /wsman (Caused by ConnectTimeoutError(&lt;urllib3.connection.HTTPConnection object at 0x104921650&gt;, 'Connection to 47.98.149.160 timed out. (connect timeout=30)')) è§£å†³åŠæ³•ï¼šç”±äºäº‘æœåŠ¡å™¨æœ‰å…¬ç½‘ipåœ°å€ï¼Œæ‰€ä»¥æœ¬æœºå¯ä»¥pingé€šæœåŠ¡å™¨ï¼Œä½†æ˜¯ç”±äºæœ¬æœºä¸å­˜åœ¨å…¬ç½‘åœ°å€ï¼Œæ˜¯å±€åŸŸç½‘åœ°å€ï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¸èƒ½pingé€šä¸»æœºï¼Œå¯¼è‡´äºŒè€…ä¸èƒ½æ­£å¸¸é€šä¿¡ï¼Œåªèƒ½æ¢ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨äº‘æœåŠ¡å™¨ç«¯è¿è¡Œç¨‹åºï¼Œç¨‹åºæä¾›äº†å½“å‰cpuè¿è¡Œæƒ…å†µå’Œè¿å­˜æƒ…å†µï¼Œæœ¬æœºå¯ä»¥éšæ—¶è®¿é—®å¹¶å¾—åˆ°ä¿¡æ¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485import timeimport psutil # cd C:\Python36-32\Scripts pip install psutil# è·å–æœ¬æœºç£ç›˜ä½¿ç”¨ç‡å’Œå‰©ä½™ç©ºé—´Gä¿¡æ¯import pymysqlconn = pymysql.connect(user="root", passwd="No.93329332", host="134.175.5.88", port=3306, db="node_status")cur = conn.cursor()flag = 0while(True): # å¾ªç¯ç£ç›˜åˆ†åŒº content = "" for disk in psutil.disk_partitions(): # è¯»å†™æ–¹å¼ å…‰ç›˜ or æœ‰æ•ˆç£ç›˜ç±»å‹ if 'cdrom' in disk.opts or disk.fstype == '': continue disk_name_arr = disk.device.split(':') disk_name = disk_name_arr[0] disk_info = psutil.disk_usage(disk.device) # ç£ç›˜å‰©ä½™ç©ºé—´ï¼Œå•ä½G free_disk_size = disk_info.free // 1024 // 1024 // 1024 # å½“å‰ç£ç›˜ä½¿ç”¨ç‡å’Œå‰©ä½™ç©ºé—´Gä¿¡æ¯ if (disk_name == 'C'): disk_c_name = disk_name disk_c_info = disk_info free_c_disk_size = free_disk_size info = "%sç›˜ä½¿ç”¨ç‡ï¼š%s%%ï¼Œ å‰©ä½™ç©ºé—´ï¼š%iG" % (disk_c_name, str(disk_c_info.percent), free_c_disk_size) # print(info) # print(disk_name) if (disk_name == 'C'): # æ‹¼æ¥å¤šä¸ªç£ç›˜çš„ä¿¡æ¯ content = content + info print(content) # return content # cpuä¿¡æ¯ cpu_percent = psutil.cpu_percent(interval=1) cpu_info = "CPUä½¿ç”¨ç‡ï¼š%i%%" % cpu_percent print(cpu_info) # return cpu_info # å†…å­˜ä¿¡æ¯ virtual_memory = psutil.virtual_memory() used_memory = virtual_memory.used / 1024 / 1024 / 1024 free_memory = virtual_memory.free / 1024 / 1024 / 1024 memory_percent = virtual_memory.percent memory_info = "å†…å­˜ä½¿ç”¨ï¼š%0.2fGï¼Œä½¿ç”¨ç‡%0.1f%%ï¼Œå‰©ä½™å†…å­˜ï¼š%0.2fG" % (used_memory, memory_percent, free_memory) print(memory_info) # return memory_info now = time.asctime() if(flag == 0): sql = "INSERT INTO status(ip, \ disk_percent, disk_freesize, CPU_percent, memory_used,memory_free,memory_percent,mytime) \ VALUES ('%s', '%s', '%s', '%s', '%s','%s','%s','%s')" % \ ('106.13.70.159', str(disk_c_info.percent) + "%", str(free_c_disk_size) + "G", str(cpu_percent) + "%",str(used_memory)[:3] + "G",str(free_memory)[:3] + "G",str(memory_percent) + "%",now) flag = 1 else: used_memory_float = str(used_memory)[:3] + 'G' free_memory_folat = str(free_memory)[:3] + 'G' disk_c_info_percent_str = str(disk_c_info.percent) + '%' free_c_disk_size_str = str(free_c_disk_size) + 'G' cpu_percent_str = str(cpu_percent) + '%' memory_percent_str = str(memory_percent) + '%' sql = "update status set disk_percent = '%s', disk_freesize = '%s', \ CPU_percent = '%s', memory_used = '%s' , memory_free = '%s' ,\ memory_percent = '%s' , mytime = '%s' where ip = '106.13.70.159'" % \ (disk_c_info_percent_str,free_c_disk_size_str,cpu_percent_str,used_memory_float,free_memory_folat,memory_percent_str,now) flag = 2 try: # æ‰§è¡Œsqlè¯­å¥ cur.execute(sql) # æ‰§è¡Œsqlè¯­å¥ conn.commit() if(flag==1): print("insert ok") else: print("update ok") except Exception as e: # å‘ç”Ÿé”™è¯¯æ—¶å›æ»š conn.rollback() print("failed") print(e) time.sleep(60)# å…³é—­æ•°æ®åº“è¿æ¥conn.close() sqlä¸­updateä¹Ÿå¯ä»¥ 1sql = "update table set ss = '%s'where id = '1'"% disk]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>winrm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºHexoçš„NexTä¸»é¢˜---ä»å…¥é—¨åˆ°å…¥åœŸ]]></title>
    <url>%2F2019%2F08%2F15%2F%E5%9F%BA%E4%BA%8EHexo%E7%9A%84NexT%E4%B8%BB%E9%A2%98-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E5%9C%9F.html</url>
    <content type="text"><![CDATA[å‰è¨€æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯é’ˆå¯¹nexTä¸»é¢˜çš„ä¼˜åŒ–è¯´æ˜ï¼Œä½¿ç”¨hexoå…¶ä»–ä¸»é¢˜çš„ç«¥é´è¯·ç»•é“~~æ•´ç†ä¸€ä¸‹å¤§æ¦‚ä¼˜åŒ–ï¼š1.æ ‡é¢˜éƒ¨åˆ†ä¼˜åŒ–ï¼Œé¢œè‰²æ ·å¼ï¼›2.è®¾ç½®åšå®¢æ–‡ç« è¿æ¥ä¸ºyear/month/day/title.htmlæ ¼å¼3.Menuå¢åŠ å…³äºã€æ ‡ç­¾ã€åˆ†ç±»ã€äº’åŠ¨ã€æœç´¢èœå•4.ç¦ç”¨å…³äºã€æ ‡ç­¾ã€åˆ†ç±»èœå•è¯„è®ºåŠŸèƒ½5.æ·»åŠ RSS6.è®¾ç½®èƒŒæ™¯å›¾ç‰‡7.Canvas_neståŠ¨æ€èƒŒæ™¯8.å›¾ç‰‡å¿«é€ŸåŠ è½½è®¾ç½®9.å¾®ä¿¡æ”¯ä»˜å®æ‰“èµåŠŸèƒ½10.ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ11.ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ12.è®¾ç½®ä»£ç é«˜äº®13.é¡¶æ èƒŒæ™¯è‰²14.åº•æ èƒŒæ™¯è‰²15.ä¿®æ”¹æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼16.ä¿®æ”¹æ–‡ç« åº•éƒ¨æ ‡ç­¾æ ·å¼17.åœ¨æ–‡ç« æœ«å°¾æ·»åŠ â€œæ–‡ç« ç»“æŸâ€æ ‡è®°18.è®¾ç½®å¤´åƒ19.ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡20.ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡21.ç½‘ç«™åº•éƒ¨æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´22.ç½‘ç«™åº•éƒ¨æ·»åŠ åŠ¨æ€æ¡ƒå¿ƒ23.åº•éƒ¨éšè—ç”±Hexoå¼ºåŠ›é©±åŠ¨ã€ä¸»é¢˜â€“NexT.Mist24.è®¾ç½®ç½‘ç«™çš„å›¾æ ‡Favicon25.å®ç°æ–‡ç« æ–‡å­—ç»Ÿè®¡åŠŸèƒ½å’Œé˜…è¯»æ—¶é•¿26.åŠ æ¥å¿…åŠ›äº‘è·Ÿå¸–åŠŸèƒ½27.å»æ‰åº•éƒ¨é‡å¤å­—æ•°ç»Ÿè®¡28.ä¿®æ”¹å­—ä½“å¤§å°29.ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½®30.æ·»åŠ ä¾§æ æ¨èé˜…è¯»31.ä¿®æ”¹ä¾§è¾¹æ èƒŒæ™¯å›¾ç‰‡32.æ·»åŠ ä¾§è¾¹æ éŸ³ä¹33.ä¿®æ”¹ä¾§è¾¹æ æ–‡å­—é¢œè‰²34.åœ¨æ–‡ç« åº•éƒ¨å¢åŠ ç‰ˆæƒä¿¡æ¯35.Hexoåšå®¢æ·»åŠ ç«™å†…æœç´¢36.ä¿®æ”¹é€‰ä¸­å­—ç¬¦çš„é¢œè‰²37.æ·»åŠ aplayéŸ³ä¹æ’­æ”¾38.æ·»åŠ åšå®¢å·¦ä¸‹è§’é—¨ç¥(çœ‹é—¨ğŸ¶)39.å¢åŠ äº†3Dåº“three_wavesï¼Œé»˜è®¤å…³é—­40.å¢åŠ äº†canvasé¡µé¢ä¸å¸¦(è¯è¯´è¿™ç©æ„çœŸçš„å¾ˆåƒcpuï¼Œä¸€å¼€æˆ‘çš„macå°±é“æ¿çƒ§äº†)41.å¢åŠ äº†é¦–é¡µpaceåŠ è½½è¿›åº¦42.å¢åŠ å›¾ç‰‡æ‡’åŠ è½½lazyload43.å¢åŠ äº†fancybox44.å¢åŠ äº†fastclickè§£å†³å»¶è¿Ÿé—®é¢˜45.å¢åŠ äº†gulpå‹ç¼©ç½‘é¡µcss jsæ ·å¼46.æˆªæ–­é¦–é¡µæ–‡ç« å†…å®¹47.ä»£ç å¤åˆ¶åŠŸèƒ½ hexoç›®å½•ç»“æ„ä¸»ç›®å½•ç»“æ„ _config.ymlå…¨å±€é…ç½®æ–‡ä»¶ï¼Œç½‘ç«™çš„å¾ˆå¤šä¿¡æ¯éƒ½åœ¨è¿™é‡Œé…ç½®ï¼Œè¯¸å¦‚ç½‘ç«™åç§°ï¼Œå‰¯æ ‡é¢˜ï¼Œæè¿°ï¼Œä½œè€…ï¼Œè¯­è¨€ï¼Œä¸»é¢˜ï¼Œéƒ¨ç½²ç­‰ç­‰å‚æ•°ã€‚ package.jsonhexoæ¡†æ¶çš„å‚æ•°å’Œæ‰€ä¾èµ–æ’ä»¶ã€‚ scaffoldsscaffoldsæ˜¯â€œè„šæ‰‹æ¶ã€éª¨æ¶â€çš„æ„æ€ï¼Œå½“ä½ æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼ˆhexo new â€˜titleâ€™ï¼‰çš„æ—¶å€™ï¼Œhexoæ˜¯æ ¹æ®è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œæ„å»ºçš„ã€‚åŸºæœ¬ä¸ç”¨å…³å¿ƒã€‚ sourceè¿™ä¸ªç›®å½•å¾ˆé‡è¦ï¼Œæ–°å»ºçš„æ–‡ç« éƒ½æ˜¯åœ¨ä¿å­˜åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„._postsï¼Œéœ€è¦æ–°å»ºçš„åšæ–‡éƒ½æ”¾åœ¨_postsç›®å½•ä¸‹ã€‚_postsç›®å½•ä¸‹æ˜¯ä¸€ä¸ªä¸ª markdown æ–‡ä»¶ã€‚ä½ åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€ä¸ª hello-world.md çš„æ–‡ä»¶ï¼Œæ–‡ç« å°±åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç¼–è¾‘ã€‚_posts ç›®å½•ä¸‹çš„mdæ–‡ä»¶ï¼Œä¼šè¢«ç¼–è¯‘æˆhtmlæ–‡ä»¶ï¼Œæ”¾åˆ° public ï¼ˆæ­¤æ–‡ä»¶ç°åœ¨åº”è¯¥æ²¡æœ‰ï¼Œå› ä¸ºä½ è¿˜æ²¡æœ‰ç¼–è¯‘è¿‡ï¼‰æ–‡ä»¶å¤¹ä¸‹ã€‚é‡Œé¢è¿˜æœ‰ä¸€ä¸ªé‡è¦æ–‡ä»¶å¤¹ï¼šimagesï¼Œæ˜¯ç”¨æ¥å­˜æ”¾åšæ–‡çš„å›¾ç‰‡çš„ï¼Œè¿™é‡Œå»ºè®®ä½¿ç”¨ä¸ƒç‰›äº‘å›¾åºŠæ¥å­˜å‚¨å›¾ç‰‡ï¼Œå› ä¸ºå¯ä»¥æ›´å¿«çš„åŠ è½½å›¾ç‰‡ã€‚åŒæ—¶å¼ºçƒˆå»ºè®®å¤§å®¶ç”¨ä¸€æ¬¾hexoâ€”clientæ¥è¿›è¡Œå¯è§†åŒ–åšå®¢çš„ä¹¦å†™ï¼Œä¸€ç«™å¼æœåŠ¡ï¼Œæ”¯æŒä¸ƒç‰›äº‘å›¾åºŠï¼Œæ¥å¥½ä¼ é€é—¨ï¼šhexoclientã€‚ themesç½‘ç«™ä¸»é¢˜ç›®å½•ï¼Œæˆ‘ç”¨çš„å°±æ˜¯nexTä¸»é¢˜ã€‚ node_moduleshexoä¾èµ–çš„ç»„ä»¶éƒ½åœ¨å…¶ä¸­ã€‚ ä¸»é¢˜ç›®å½•ç»“æ„12345678910111213141516171819202122232425262728293031323334353637â”œâ”€â”€ .github #gitä¿¡æ¯â”œâ”€â”€ languages #å¤šè¯­è¨€| â”œâ”€â”€ default.yml #é»˜è®¤è¯­è¨€| â””â”€â”€ zh-Hans.yml #ç®€ä½“ä¸­æ–‡| â””â”€â”€ zh-tw.yml #ç¹ä½“ä¸­æ–‡â”œâ”€â”€ layout #å¸ƒå±€ï¼Œæ ¹ç›®å½•ä¸‹çš„*.ejsæ–‡ä»¶æ˜¯å¯¹ä¸»é¡µï¼Œåˆ†é¡µï¼Œå­˜æ¡£ç­‰çš„æ§åˆ¶| â”œâ”€â”€ _custom #å¯ä»¥è‡ªå·±ä¿®æ”¹çš„æ¨¡æ¿ï¼Œè¦†ç›–åŸæœ‰æ¨¡æ¿| | â”œâ”€â”€ _header.swig #å¤´éƒ¨æ ·å¼| | â”œâ”€â”€ _sidebar.swig #ä¾§è¾¹æ æ ·å¼| â”œâ”€â”€ _macro #å¯ä»¥è‡ªå·±ä¿®æ”¹çš„æ¨¡æ¿ï¼Œè¦†ç›–åŸæœ‰æ¨¡æ¿| | â”œâ”€â”€ post.swig #æ–‡ç« æ¨¡æ¿| | â”œâ”€â”€ reward.swig #æ‰“èµæ¨¡æ¿| | â”œâ”€â”€ sidebar.swig #ä¾§è¾¹æ æ¨¡æ¿| â”œâ”€â”€ _partial #å±€éƒ¨çš„å¸ƒå±€| | â”œâ”€â”€ head #å¤´éƒ¨æ¨¡æ¿| | â”œâ”€â”€ search #æœç´¢æ¨¡æ¿| | â”œâ”€â”€ share #åˆ†äº«æ¨¡æ¿| â”œâ”€â”€ _script #å±€éƒ¨çš„å¸ƒå±€| â”œâ”€â”€ _third-party #ç¬¬ä¸‰æ–¹æ¨¡æ¿| â”œâ”€â”€ _layout.swig #ä¸»é¡µé¢æ¨¡æ¿| â”œâ”€â”€ index.swig #ä¸»é¡µé¢æ¨¡æ¿| â”œâ”€â”€ page #é¡µé¢æ¨¡æ¿| â””â”€â”€ tag.swig #tagæ¨¡æ¿â”œâ”€â”€ scripts #scriptæºç | â”œâ”€â”€ tags #tagsçš„scriptæºç | â”œâ”€â”€ marge.js #é¡µé¢æ¨¡æ¿â”œâ”€â”€ source #æºç | â”œâ”€â”€ css #cssæºç | | â”œâ”€â”€ _common #*.stylåŸºç¡€css| | â”œâ”€â”€ _custom #*.stylå±€éƒ¨css| | â””â”€â”€ _mixins #mixinsçš„css| â”œâ”€â”€ fonts #å­—ä½“| â”œâ”€â”€ images #å›¾ç‰‡| â”œâ”€â”€ uploads #æ·»åŠ çš„æ–‡ä»¶| â””â”€â”€ js #javascriptæºä»£ç â”œâ”€â”€ _config.yml #ä¸»é¢˜é…ç½®æ–‡ä»¶â””â”€â”€ README.md #ç”¨GitHubçš„éƒ½çŸ¥é“ é«˜åº¦å®šåˆ¶ä¼˜åŒ–ç¯‡æ ‡é¢˜éƒ¨åˆ†ä¼˜åŒ–ï¼Œé¢œè‰²æ ·å¼é¦–å…ˆä½ è¦ç¡®å®šä½ æ˜¯ä¸»é¢˜ä¸­çš„å“ªä¸ªschemeï¼šMuseã€Mistã€Piscesã€Geminiï¼Œæˆ‘çš„æ˜¯Mist,æ‰€ä»¥æˆ‘å°±å»themes/nexT/source/css/_schemes/Mist/_header.stylä¸‹ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12345//å¯ä»¥åŠ å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è°ƒè‰²å½©.header &#123; //background: url('/images/headbg.jpg') repeat !important; background: rgba(#EBF2EA,1) none repeat scroll !important; &#125; è®¾ç½®èƒŒæ™¯å›¾ç‰‡é»˜è®¤ç¦ç”¨ï¼Œå¯ä»¥åœ¨themes/nexT/source/css/_custom/custon.stylæ–‡ä»¶ä¸­å¯ç”¨12345678//è®¾ç½®èƒŒæ™¯å›¾ç‰‡body &#123; background:url(http://pw5u1sbg2.bkt.clouddn.com/145676.jpg); background-repeat: repeat; background-attachment:fixed; background-position:50% 50%; background-size:cover;&#125; Canvas_neståŠ¨æ€èƒŒæ™¯èƒŒæ™¯çš„å‡ ä½•çº¿æ¡æ˜¯é‡‡ç”¨çš„nestæ•ˆæœ, ä¸€ä¸ªåŸºäºhtml5 canvasç»˜åˆ¶çš„ç½‘é¡µèƒŒæ™¯æ•ˆæœ, éå¸¸èµï¼æ¥è‡ªgithubçš„å¼€æºé¡¹ç›®canvas-nest ç‰¹æ€§ ä¸ä¾èµ–ä»»ä½•æ¡†æ¶æˆ–è€…å†…åº“ï¼Œæ¯”å¦‚ä¸ä¾èµ–jQueryï¼Œä½¿ç”¨åŸç”Ÿçš„javascript éå¸¸å°ï¼Œåªæœ‰1.66kbï¼Œå¦‚æœå¼€å¯gzipï¼Œå¯ä»¥æ›´å° éå¸¸å®¹æ˜“å®ç°ï¼Œé…ç½®ç®€å•ï¼Œå³ä½¿ä½ ä¸æ˜¯webå¼€å‘è€…ï¼Œä¹Ÿèƒ½ç®€å•æå®šè¯´æ˜ colorï¼šçº¿æ¡é¢œè‰²ï¼Œé»˜è®¤ï¼š â€˜0,0,0â€™ ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)ï¼Œè¿™é‡Œæ¨èä¸€ä¸ªé¢œè‰²é‡‡é›†å™¨ï¼šColorSlurpï¼Œåœ¨AppStoreä¸­å°±å¯ä»¥æœåˆ° opacityï¼šçº¿æ¡é€æ˜åº¦ï¼ˆ0~1ï¼‰ï¼Œé»˜è®¤: 0.5 countï¼šçº¿æ¡çš„æ€»æ•°é‡ï¼Œ é»˜è®¤ï¼š150 zIndexï¼šèƒŒæ™¯çš„z-indexå±æ€§ï¼Œcsså±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®ï¼Œé»˜è®¤ï¼š-1ä¸è¶³å†…å­˜å ç”¨è¿‡é«˜åšæ³•ç›´æ¥æ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œå°†canvasæ”¹ä¸ºtrueå³å¯ã€‚RSSåœ¨ä½ çš„hexoç«™ç‚¹ç›®å½•ä¸‹ï¼š1$ npm install hexo-generator-feed --save æ‰“å¼€ç«™ç‚¹ç›®å½•ä¸‹çš„_config.yml:12345678# feed# Dependencies: https://github.com/hexojs/hexo-generator-feedfeed: type: atom path: atom.xml limit: 20 hub: content: æ¥å¿…åŠ›è¯„è®ºç³»ç»Ÿç­‰ç¬¬ä¸‰æ–¹æ’ä»¶ç™»å½• æ¥å¿…åŠ› ï¼Œè·å–LiveRe UIDï¼Œç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œç¼–è¾‘livere_uidå­—æ®µï¼Œå°†idå¡«å…¥å³å¯ï¼Œæ›´å¤šç¬¬ä¸‰æ–¹é›†æˆæ’ä»¶å¯è§ï¼šnexTå®˜ç½‘ï¼ŒåŒ…æ‹¬è¯„è®ºç³»ç»Ÿã€æ•°æ®ç»Ÿè®¡ä¸åˆ†æã€å†…å®¹åˆ†äº«æœåŠ¡ã€æœç´¢æœåŠ¡ç­‰ç­‰ã€‚ æ‰“èµåŠŸèƒ½nexTé›†æˆäº†æ”¯ä»˜å®å¾®ä¿¡æ‰“èµåŠŸèƒ½ï¼Œç›´æ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æœç´¢wechatæˆ–è€…alipayå³å¯,ç„¶åè·Ÿä¸Šè‡ªå·±çš„å¾®ä¿¡å’Œæ”¯ä»˜å®çš„æ”¶é’±ç å›¾ç‰‡åœ°å€å³å¯ã€‚ ç‚¹å‡»å‡ºç°æ¡ƒå¿ƒæ•ˆæœ1!function(e,t,a)&#123;function n()&#123;c(".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"),o(),r()&#125;function r()&#123;for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)&#125;function o()&#123;var t="function"==typeof e.onclick&amp;&amp;e.onclick;e.onclick=function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a=t.createElement("div");a.className="heart",d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a=t.createElement("style");a.type="text/css";try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName("head")[0].appendChild(a)&#125;function s()&#123;return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"&#125;var d=[];e.requestAnimationFrame=function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3/60)&#125;&#125;(),n()&#125;(window,document); æ–°å»º clicklove.js æ–‡ä»¶å¹¶ä¸”å°†ä»¥ä¸Šä»£ç å¤åˆ¶è¿›å»ï¼Œç„¶åä¿å­˜ã€‚ å°† clicklove.jsæ–‡ä»¶æ”¾åˆ°è·¯å¾„ /themes/next/source/js/src é‡Œé¢ ç„¶åæ‰“å¼€ \themes\next\layout\_layout.swig æ–‡ä»¶,åœ¨æœ«å°¾ï¼ˆåœ¨å‰é¢å¼•ç”¨ä¼šå‡ºç°æ‰¾ä¸åˆ°çš„bugï¼‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12&lt;!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ --&gt;&lt;script type="text/javascript" src="/js/src/clicklove.js"&gt;&lt;/script&gt; ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœæ‰“å¼€ themes/next/source/css/_custom/custom.stylï¼Œå‘é‡Œé¢åŠ ä»£ç :12345678// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæœ.post &#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);&#125; ä»£ç é«˜äº®ç›´æ¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æœç´¢ highlight_themeï¼š1234# Code Highlight theme# Available values: normal | night | night eighties | night blue | night bright# https://github.com/chriskempson/tomorrow-themehighlight_theme: night bright é¡¶éƒ¨åº•éƒ¨èƒŒæ™¯è‰²æ”¹å˜é¦–å…ˆä½ è¦ç¡®å®šä½ æ˜¯ä¸»é¢˜ä¸­çš„å“ªä¸ªschemeï¼šMuseã€Mistã€Piscesã€Geminiï¼Œæˆ‘çš„æ˜¯Mist,æ‰€ä»¥æˆ‘å°±themes/nexT/source/css/_schemes/Mist/_header.stylä¸‹ï¼Œå°†é¢œè‰²è¿›è¡Œä¿®æ”¹å³å¯ã€‚åº•éƒ¨é¢œè‰²åˆ™åœ¨themes/nexT/source/css/_schemes/Mist/index.stylä¸­è¿›è¡Œä¿®æ”¹ï¼š123456789101112131415161718// Footer// --------------------------------------------------.footer &#123; margin-top: 80px; padding: 10px 0; //background: url('/images/headbg.jpg') repeat !important; background: rgba(#EBF2EA,1) none repeat scroll !important; color: $grey-dim;&#125;.footer-inner &#123; margin: 0 auto; text-align: left; +mobile() &#123; width: auto; text-align: center; &#125;&#125; ä¿®æ”¹æ–‡ç« å†…æ–‡æœ¬è¿æ¥æ ·å¼æ‰“å¼€ themes/next/source/css/_custom/custom.styl,æ·»åŠ ä»£ç ï¼š1234567891011// æ–‡ç« å†…é“¾æ¥æ–‡æœ¬æ ·å¼.post-body p a&#123; color: #0593d3; border-bottom: none; border-bottom: 1px solid #0593d3; &amp;:hover &#123; color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; &#125;&#125; ä¿®æ”¹ç½‘é¡µåº•éƒ¨ åœ¨å›¾æ ‡åº“ä¸­æ‰¾åˆ°ä½ è‡ªå·±å–œæ¬¢çš„å›¾æ ‡, ä¿®æ”¹æ¡ƒå¿ƒ,æ‰“å¼€ themes/next_config.yml ,æœç´¢å…³é”®å­— authoricon,æ›¿æ¢å›¾æ ‡åï¼š 12# icon between year and author @Footerauthoricon: id-card éšè—ç½‘é¡µåº•éƒ¨ Hexo å¼ºåŠ›é©±åŠ¨ æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶,æœç´¢å…³é”®å­— copyright ï¼Œå¦‚ä¸‹: 12# Footer `powered-by` and `theme-info` copyrightcopyright: false æ·»åŠ æ–‡ç« ç»“æŸæ ‡è®°åœ¨themes/next/layout/_macro/post.swigä¸­, åœ¨wechat-subscriber.swigä¹‹å‰æ·»åŠ å¦‚ä¸‹ä»£ç :123&lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;---------------- The End ----------------&lt;/div&gt; ç»Ÿè®¡åŠŸèƒ½ï¼Œç»Ÿè®¡åŠŸèƒ½,æ˜¾ç¤ºæ–‡ç« å­—æ•°ç»Ÿè®¡,é˜…è¯»æ—¶é•¿,æ€»å­—æ•°åœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹ï¼š1$ npm i --save hexo-wordcount æ‰“å¼€ themes/next/_config.yml ï¼Œæœç´¢å…³é”®å­— post_wordcountï¼š1234567891011# Post wordcount display settings# Dependencies: https://github.com/willin/hexo-wordcountpost_wordcount: item_text: true #å­—æ•°ç»Ÿè®¡ wordcount: true #é¢„è§ˆæ—¶é—´ min2read: true #æ€»å­—æ•°,æ˜¾ç¤ºåœ¨é¡µé¢åº•éƒ¨ totalcount: true separated_meta: true è®¾ç½®å¤´åƒæ‰“å¼€ themes/next/_config.yml ï¼Œæœç´¢å…³é”®å­— avatarï¼š123456789101112# Sidebar Avataravatar: # In theme directory (source/images): /images/avatar.gif # In site directory (source/uploads): /uploads/avatar.gif # You can also use other linking images. url: http://pw5u1sbg2.bkt.clouddn.com/avatar.png #/images/avatar.png # If true, the avatar would be dispalyed in circle. rounded: true # The value of opacity should be choose from 0 to 1 to set the opacity of the avatar. opacity: 1 # If true, the avatar would be rotated with the cursor. rotated: false åº•éƒ¨æ·»åŠ è®¿é—®é‡å’Œå­—æ•°ç»Ÿè®¡è¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œè§nexTå®˜ç½‘ï¼Œæ¨èç™¾åº¦ç»Ÿè®¡å’Œä¸è’œå­ç»Ÿè®¡ã€‚ åº•éƒ¨æ·»åŠ è¿è¡Œæ—¶é—´æ‰¾åˆ°\themes\next\layout\_partials\ä¸‹é¢çš„footer.swigæ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ æ‰€ç¤ºä»£ç ï¼š12345678910111213141516171819&lt;div class="run_time" style=" text-align:center;"&gt; &lt;span id="timeDate"&gt;è½½å…¥å¤©æ•°...&lt;/span&gt;&lt;span id="times"&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/span&gt; &lt;script&gt; var now = new Date(); function createtime() &#123; var grt= new Date("08/06/2019 19:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´ now.setTime(now.getTime()+250); days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 )&#123;hnum = "0" + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = "0" + mnum;&#125; seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = "0" + snum;&#125; document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© "; document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; &#125; setInterval("createtime()",250); &lt;/script&gt;&lt;/div&gt; åº•éƒ¨æ·»åŠ çº¢å¿ƒæ‰“å¼€ themes/next/_config.yml ï¼Œæœç´¢å…³é”®å­— footerï¼š123456789101112131415footer: # Specify the date when the site was setup. If not defined, current year will be used. since: 2019 # visitors count counter: true # Icon between year and copyright info. icon: # Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons/ # `heart` is recommended with animation in red (#ff0000). name: heart # If you want to animate the icon, set it to true. animated: true # Change the color of icon, using Hex Code. color: "#ff0000" æ·»åŠ ä¾§è¾¹æ éŸ³ä¹æ¡†å»å¾€ç½‘æ˜“äº‘éŸ³ä¹æœç´¢å–œæ¬¢çš„éŸ³ä¹ï¼Œç‚¹å‡»ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨ï¼Œ å¤åˆ¶ä»£ç ç›´æ¥æ”¾åˆ°åšæ–‡æœ«å°¾å³å¯ï¼Œheightè®¾ä¸º0å¯éšè—æ’­æ”¾å™¨ï¼Œä½†ä»ç„¶å¯ä»¥æ’­æ”¾éŸ³ä¹ï¼Œautoè®¾æˆ0å¯æ‰‹åŠ¨æ’­æ”¾ï¼Œé»˜è®¤æ˜¯1è‡ªåŠ¨æ’­æ”¾ï¼Œå¯æŠŠä»£ç æ”¾åˆ°themes/next/layout/_custom/sidebar.swigæ–‡ä»¶é‡Œï¼Œæ’­æ”¾å™¨ä¼šæ˜¾ç¤ºåœ¨ç«™ç‚¹é¢„è§ˆä¸­,ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š12&lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&amp;id=2588481240&amp;auto=1&amp;height=90"&gt;&lt;/iframe&gt; æ·»åŠ aplayeréŸ³ä¹æ’­æ”¾ç”±äºæˆ‘æƒ³åœ¨å•ç‹¬çš„é¡µé¢åŠ å…¥æ­Œå•ï¼Œæ‰€ä»¥é¢å¤–åˆ›äº†ä¸ªé¡µé¢ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨æ–‡ç« ä¸­æ’å…¥ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚ æ–°å»ºé¡µé¢ï¼Œå‘½åä¸ºguestbookï¼š 1hexo new page guestbook è¿™æ—¶å€™åœ¨ /Hexo/source æ–‡ä»¶å¤¹ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªguestbookæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€é‡Œé¢çš„index.mdï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456789101112---title: ç•™è¨€äº’åŠ¨date: 2019-08-15 12:18:09type: "guestbook"---&lt;div align="center"&gt; &lt;img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1558956326532&amp;di=82cc9907fc903cfb978a35206986d3f6&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20160809%2F31283a3e2d7f411492d3fb27297180ec_th.jpg" /&gt;&lt;/div&gt;[//]: #(aplayéŸ³é¢‘æ’­æ”¾https://github.com/MoePlayer/hexo-tag-aplayer)&#123;% meting "2331951308" "netease" "playlist" "autoplay" "mutex:false" "order:random" "listmaxheight:250px" "preload:none" "theme:#f7f7f7"%&#125; metingä¸­é…ç½®å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š é€‰é¡¹ é»˜è®¤å€¼ æè¿° id å¿…é¡»å€¼ æ­Œæ›² id / æ’­æ”¾åˆ—è¡¨ id / ç›¸å†Œ id / æœç´¢å…³é”®å­— server å¿…é¡»å€¼ éŸ³ä¹å¹³å°: netease, tencent, kugou, xiami, baidu type å¿…é¡»å€¼ song, playlist, album, search, artist fixed false å¼€å¯å›ºå®šæ¨¡å¼ mini false å¼€å¯å›ºå®šæ¨¡å¼ loop all åˆ—è¡¨å¾ªç¯æ¨¡å¼ï¼šall, one,none order list åˆ—è¡¨æ’­æ”¾æ¨¡å¼ï¼š list, random volume 0.7 æ’­æ”¾å™¨éŸ³é‡ lrctype 0 æ­Œè¯æ ¼å¼ç±»å‹ listfolded false æŒ‡å®šéŸ³ä¹æ’­æ”¾åˆ—è¡¨æ˜¯å¦æŠ˜å  storagename metingjs LocalStorage ä¸­å­˜å‚¨æ’­æ”¾å™¨è®¾å®šçš„é”®å autoplay true è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½ mutex true è¯¥é€‰é¡¹å¼€å¯æ—¶ï¼Œå¦‚æœåŒé¡µé¢æœ‰å…¶ä»– aplayer æ’­æ”¾ï¼Œè¯¥æ’­æ”¾å™¨ä¼šæš‚åœ theme #ad7a86 æ’­æ”¾å™¨é£æ ¼è‰²å½©è®¾ç½® listmaxheight 340px æ’­æ”¾åˆ—è¡¨çš„æœ€å¤§é•¿åº¦ preload auto éŸ³ä¹æ–‡ä»¶é¢„è½½å…¥æ¨¡å¼ï¼Œå¯é€‰é¡¹ï¼š none, metadata, auto æ‰“å¼€ä¸»é¢˜_config.ymlæ–‡ä»¶ï¼Œåœ¨menuä¸‹æ–°å»ºä¸€ä¸ªåä¸ºguestbookçš„ç±»ï¼Œå®Œæˆåå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567menu: home: / || home tags: /tags/ || tags categories: /categories/ || bookmark archives: /archives/ || archive about: /about/ || user äº’åŠ¨: /guestbook/ || comments æ‰“å¼€/Hexo/themes/hexo-theme-next/languages/zh-Hans.ymlï¼Œæ·»åŠ å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘ï¼š 12menu: guestbook: äº’åŠ¨ è‡³æ­¤ï¼Œæ­Œå•é¡µé¢åˆ›å»ºå®Œæˆï¼Œç°åœ¨åªéœ€è¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­å¼€å¯metingæ¨¡å¼ï¼Œåœ¨_config.ymlä¸­æœç´¢metingï¼š 12aplayer: meting: true TipåŒä¸€ä¸ªæ­Œå•ä¸èƒ½åšåˆ°å®æ—¶åˆ·æ–°ï¼Œéœ€è¦24å°æ—¶åaplayeræ‰ä¼šè‡ªåŠ¨æ›´æ–°ç¼“å­˜ æ·»åŠ åšå®¢å·¦ä¸‹è§’é—¨ç¥å®‰è£…ä¾èµ–:12npm install --save hexo-helper-live2dnpm install --save live2d-widget-model-wanko ç«™ç‚¹é…ç½®æ·»åŠ :12345678910111213141516171819202122# hexo-helper-live2dé…ç½®, å‚è€ƒhttps://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.mdlive2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ tagMode: false debug: false model: scale: 1 use: live2d-widget-model-wanko display: superSample: 2 # è¶…é‡‡æ ·ç­‰çº§ width: 100 height: 100 position: left # ä½ç½® mobile: show: false react: opacityDefault: 0.9 # é»˜è®¤é€æ˜åº¦ opacityOnHover: 0.5 # é¼ æ ‡ç§»ä¸Šé€æ˜åº¦ å¢åŠ é¦–é¡µpaceåŠ è½½è¿›åº¦æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š12345678# Progress bar in the top during page loading.# Dependencies: https://github.com/theme-next/theme-next-pacepace: true# Themes list:# pace-theme-big-counter | pace-theme-bounce | pace-theme-barber-shop | pace-theme-center-atom# pace-theme-center-circle | pace-theme-center-radar | pace-theme-center-simple | pace-theme-corner-indicator# pace-theme-fill-left | pace-theme-flash | pace-theme-loading-bar | pace-theme-mac-osx | pace-theme-minimalpace_theme: pace-theme-bounce å¢åŠ å›¾ç‰‡æ‡’åŠ è½½lazyloadæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š123# Vanilla JavaScript plugin for lazyloading images.# Dependencies: https://github.com/theme-next/theme-next-jquery-lazyloadlazyload: true å¢åŠ fancyboxå’Œfastclickè§£å†³å»¶è¿Ÿé—®é¢˜æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š123456789# Fancybox. There is support for old version 2 and new version 3.# Choose only one variant, do not need to install both.# To install 2.x: https://github.com/theme-next/theme-next-fancybox# To install 3.x: https://github.com/theme-next/theme-next-fancybox3fancybox: true# Polyfill to remove click delays on browsers with touch UIs.# Dependencies: https://github.com/theme-next/theme-next-fastclickfastclick: true æˆªæ–­é¦–é¡µæ–‡ç« å†…å®¹æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœç´¢auto_excerptï¼š12345# Automatically Excerpt (Not recommend).# Use &lt;!-- more --&gt; in the post to control excerpt accurately.auto_excerpt: enable: true length: 150 ä»£ç å¤åˆ¶åŠŸèƒ½ å¤åˆ¶è¯¥ç½‘é¡µçš„ä»£ç ï¼Œä¼ é€é—¨ï¼šclipboard.min.jsï¼Œç„¶ååœ¨themes\next\source\js\srcä¸‹æ–°å»ºclipboard.min.jsæ–‡ä»¶ï¼Œå°†ä»¥ä¸Šå†…å®¹å¤åˆ¶è¿›å»å³å¯ï¼› åœ¨themes\next\source\js\srcç›®å½•ä¸‹ï¼Œåˆ›å»ºclipboard-use.jsï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718 /*é¡µé¢è½½å…¥å®Œæˆåï¼Œåˆ›å»ºå¤åˆ¶æŒ‰é’®*/ !function (e, t, a) &#123; /* code */ var initCopyCode = function()&#123; var copyHtml = ''; copyHtml += '&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'; //fa fa-globeå¯ä»¥å»å­—ä½“åº“æ›¿æ¢è‡ªå·±æƒ³è¦çš„å›¾æ ‡copyHtml += ' &lt;i class="fa fa-clipboard"&gt;&lt;/i&gt;&lt;span&gt;copy&lt;/span&gt;'; copyHtml += '&lt;/button&gt;'; $(".highlight .code pre").before(copyHtml); new ClipboardJS('.btn-copy', &#123; target: function(trigger) &#123; return trigger.nextElementSibling; &#125; &#125;); &#125; initCopyCode(); &#125;(window, document); åœ¨themes\next\source\css\_custom\custom.stylæ ·å¼æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536//ä»£ç å—å¤åˆ¶æŒ‰é’®.highlight&#123; //æ–¹ä¾¿copyä»£ç æŒ‰é’®ï¼ˆbtn-copyï¼‰çš„å®šä½ position: relative;&#125;.btn-copy &#123; display: inline-block; cursor: pointer; background-color: #eee; background-image: linear-gradient(#fcfcfc,#eee); border: 1px solid #d5d5d5; border-radius: 3px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-appearance: none; font-size: 13px; font-weight: 700; line-height: 20px; color: #333; -webkit-transition: opacity .3s ease-in-out; -o-transition: opacity .3s ease-in-out; transition: opacity .3s ease-in-out; padding: 2px 6px; position: absolute; right: 5px; top: 5px; opacity: 0;&#125;.btn-copy span &#123; margin-left: 5px;&#125;.highlight:hover .btn-copy&#123; opacity: 1;&#125; åœ¨themes\next\layout\_layout.swigæ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¼•ç”¨ï¼ˆæ³¨ï¼šåœ¨ swig æœ«å°¾æˆ– body ç»“æŸæ ‡ç­¾ï¼ˆL2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"superSample":1,"width":250,"height":300,"position":"left"},"mobile":{"show":false},"react":{"opacityDefault":0.9,"opacityOnHover":0.5},"log":false});ï¼‰ä¹‹å‰æ·»åŠ ï¼‰ï¼š 123&lt;!-- ä»£ç å—å¤åˆ¶åŠŸèƒ½ --&gt;&lt;script type="text/javascript" src="/js/src/clipboard.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="/js/src/clipboard-use.js"&gt;&lt;/script&gt; å°è¯•äº†ä½†æœªå®ç°çš„åŠŸèƒ½1.ç”¨mob_shareçš„app_keyæœªèƒ½å®ç°shareçš„åŠŸèƒ½ï¼Œç»è¿‡å…¶å®˜æ–¹äººå‘˜ç”µè¯æ²Ÿé€šï¼Œå·²ç»ä¸å†æ”¯æŒpcç«¯åšå®¢æœåŠ¡2.aplayéŸ³ä¹æ’­æ”¾æ­Œå•ï¼Œä¸èƒ½åšåˆ°å®æ—¶æ›´æ–°æ­Œå•ï¼Œç©¶å…¶åŸå› æ˜¯å…¶apiè®¾ç½®äº†24å°æ—¶ç¼“å­˜ï¼ŒåŒä¸€ä¸ªæ­Œå•24å°æ—¶å†…ä¸ä¼šå‘ç”Ÿæ”¹å˜ éå¸¸æœ‰ç›Šçš„ç½‘å€ NexTä¸»é¢˜è¿›é˜¶ åŸºäºHexoçš„ä¸ªäººåšå®¢æ­å»º(è¿›é˜¶ç‰ˆ) Hexo+Nextä¸»é¢˜ä¼˜åŒ–]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰‘æŒ‡offerç®—æ³•é¢˜]]></title>
    <url>%2F2019%2F08%2F12%2F%E5%89%91%E6%8C%87offer%E7%AE%97%E6%B3%95%E9%A2%98.html</url>
    <content type="text"><![CDATA[äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼ˆæ¯ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ç›¸åŒï¼‰ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚ è§£é¢˜æ€è·¯è¦æ±‚æ—¶é—´å¤æ‚åº¦ O(M + N)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ã€‚å…¶ä¸­ M ä¸ºè¡Œæ•°ï¼ŒN ä¸ºåˆ—æ•°ã€‚è¯¥äºŒç»´æ•°ç»„ä¸­çš„ä¸€ä¸ªæ•°ï¼Œå°äºå®ƒçš„æ•°ä¸€å®šåœ¨å…¶å·¦è¾¹ï¼Œå¤§äºå®ƒçš„æ•°ä¸€å®šåœ¨å…¶ä¸‹è¾¹ã€‚å› æ­¤ï¼Œä»å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ï¼Œå°±å¯ä»¥æ ¹æ® target å’Œå½“å‰å…ƒç´ çš„å¤§å°å…³ç³»æ¥ç¼©å°æŸ¥æ‰¾åŒºé—´ï¼Œå½“å‰å…ƒç´ çš„æŸ¥æ‰¾åŒºé—´ä¸ºå·¦ä¸‹è§’çš„æ‰€æœ‰å…ƒç´ ã€‚ My code1234567891011121314151617# -*- coding:utf-8 -*-class Solution: # array äºŒç»´åˆ—è¡¨ def Find(self, target, array): # write code here row = len(array) col = len(array[0]) c = col - 1 r = 0 while(r &lt;= row-1 and c &gt;=0): if(target == array[r][c]): return True elif(target &gt; array[r][c]): r+=1 else: c-=1 return False æ›¿æ¢ç©ºæ ¼é¢˜ç›®æè¿°è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚ è§£é¢˜æ€è·¯å°†å­—ç¬¦ä¸²å¤åˆ¶ç»™ä¸€ä¸ªæ–°çš„åˆ—è¡¨ï¼Œç¢°åˆ°ç©ºæ ¼åˆ™æ›¿æ¢ï¼Œæ²¡æœ‰åˆ™copyåŸå­—ç¬¦ä¸²ï¼Œæœ€åå¯¹åˆ—è¡¨è¿›è¡Œjoinï¼Œè¿”å›å­—ç¬¦ä¸²ã€‚ æ˜“é”™ç‚¹ My code12345678910111213141516171819202122# -*- coding:utf-8 -*-class Solution: # s æºå­—ç¬¦ä¸² def replaceSpace(self, s): # write code here t = len(s) j = 0 m = list(s) for i in range(0,t): if(s[i] == ' '): m[j] = '%20' j+=1 else: m[j] = s[i] j+=1 pass return ''.join(m)# s = 'I want to sleep'# solution = Solution()# ss = solution.replaceSpace(s)# print(ss) ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼ŒæŒ‰é“¾è¡¨å€¼ä»å°¾åˆ°å¤´çš„é¡ºåºè¿”å›ä¸€ä¸ªArrayListã€‚ è§£é¢˜æ€è·¯çŸ¥è¯†ç‚¹è¡¥å……pythonä¸­é“¾è¡¨çš„æ“ä½œ1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768class Node(): 'åˆ›å»ºèŠ‚ç‚¹' def __init__(self,data): self.data = data self.next = None class LinkList(): 'åˆ›å»ºåˆ—è¡¨' def __init__(self, node): 'åˆå§‹åŒ–åˆ—è¡¨' self.head = node self.head.next = None self.tail = self.head def add_node(self, node): 'æ·»åŠ èŠ‚ç‚¹' self.tail.next = node self.tail = self.tail.next def view(self): 'æŸ¥çœ‹åˆ—è¡¨' node = self.head link_str = '' while node is not None: if node.next is not None: link_str += str(node.data) + '--&gt;' else: link_str += str(node.data) node = node.next print ('The Linklist is:' + link_str) def length(self): 'åˆ—è¡¨é•¿åº¦' node = self.head count = 1 while node.next is not None: count += 1 node = node.next print ('The length of linklist are %d' % count) return count def delete_node(self, index): 'åˆ é™¤èŠ‚ç‚¹' if index+1 &gt; self.length(): raise IndexError('index out of bounds') num = 0 node = self.head while True: if num == index-1: break node = node.next num += 1 tmp_node = node.next node.next = node.next.next return tmp_node.data def find_node(self, index): 'æŸ¥çœ‹å…·ä½“èŠ‚ç‚¹' if index+1 &gt; self.length(): raise IndexError('index out of bounds') num = 0 node = self.head while True: if num == index: break node = node.next num += 1 return node.data My code123456789101112131415# -*- coding:utf-8 -*-# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: # è¿”å›ä»å°¾éƒ¨åˆ°å¤´éƒ¨çš„åˆ—è¡¨å€¼åºåˆ—ï¼Œä¾‹å¦‚[1,2,3] def printListFromTailToHead(self, listNode): # write code here res=[] while listNode: res.append(listNode.val) listNode=listNode.next return res[::-1] #é€†åºæ‰“å° é‡å»ºäºŒå‰æ ‘é¢˜ç›®æè¿°è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºå‡ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥å‰åºéå†åºåˆ—{1,2,4,7,3,5,6,8}å’Œä¸­åºéå†åºåˆ—{4,7,2,1,5,3,8,6}ï¼Œåˆ™é‡å»ºäºŒå‰æ ‘å¹¶è¿”å›ã€‚ è§£é¢˜æ€è·¯ é€’å½’ æ•´ä½“æ€è·¯å°±æ˜¯ï¼šåˆ©ç”¨é€’å½’çš„æ€æƒ³ï¼Œè·Ÿå½’å¹¶å’Œå¿«æ’æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚æŠ“ä½ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶ååœ¨ä¸­åºéå†ä¸­å®šä½è¯¥èŠ‚ç‚¹ï¼Œå·¦è¾¹å³ä¸ºæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œå³è¾¹å³ä¸ºæ ¹èŠ‚ç‚¹çš„å³å­æ ‘ã€‚ç„¶åå¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«è¿›è¡Œé€’å½’å³å¯ï¼Œç›´åˆ°å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ²¡äº†ã€‚ éé€’å½’ æ•´ä½“æ€è·¯ï¼šæˆ‘è¿˜æ²¡è®¤çœŸçœ‹å‘¢ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ç”¨ä¸¤ä¸ªå †æ ˆæ¥åˆ†åˆ«å­˜å‚¨äºŒå‰æ ‘å’Œå…ˆåºä¸­åºåºåˆ—ç´¢å¼•å€¼ï¼Œè·Ÿé€’å½’æ€è·¯ä¸€æ ·ï¼Œå…ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶ååˆ†åˆ«åˆ¤æ–­åœ¨ä¸­åºéå†ä¸­æ˜¯å¦è¿˜æœ‰å·¦å³å­æ ‘ï¼Œå¦‚æœæœ‰åˆ™è®¡æ•°å€¼count+=1,å½“æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åå°±å°†è®¡æ•°å€¼count-=1ï¼Œç›´åˆ°ä¸­åºéå†ä¸­å†ä¹Ÿæ²¡æœ‰å·¦å³å­æ ‘ã€‚ My codeé€’å½’1234567891011121314151617181920212223242526272829303132333435/** * Definition for binary tree * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */public class Solution &#123; public TreeNode reConstructBinaryTree(int [] pre, int [] in) &#123; if(pre == null || in == null || pre.length == 0 || in.length == 0)&#123; return null; &#125; return constructBinaryTree(pre,in,0,pre.length-1,0,in.length-1); // é¦–å…ˆçœ‹å…ˆåºéå†çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œè¿™æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ ¹æ®ä¸­åºéå†ç„¶ååˆ†ä¸ºå·¦å³ä¸¤ä¸ªèŠ‚ç‚¹å— // å†çœ‹å·¦è¾¹çš„ç¬¬ä¸€ä¸ªæ•°ï¼Œè¿™ä¸ªè‚¯å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åå®šä½åˆ°ä¸­åºéå†è¯¥æ•°çš„ä½ç½®ï¼Œå†å°†å…¶åˆ†ä¸ºå·¦å³ä¸¤ä¸ªèŠ‚ç‚¹å—ï¼Œä»¥æ­¤ç±»æ¨ã€‚ &#125; private TreeNode constructBinaryTree(int[] pre, int[] in, int preStart, int preEnd, int inStart, int inEnd) &#123; if(preStart &gt; preEnd || inStart &gt; inEnd)&#123; return null; &#125; TreeNode node = new TreeNode(pre[preStart]); int mid = inStart; while (pre[preStart] != in[mid]) mid++; int preNumber = mid - inStart; node.left = constructBinaryTree(pre,in,preStart + 1,preStart + preNumber,inStart,mid - 1); node.right = constructBinaryTree(pre,in,preStart + preNumber + 1,preEnd,mid + 1,inEnd); return node; &#125;&#125; éé€’å½’123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475/** * Definition for binary tree * public class TreeNode &#123; * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) &#123; val = x; &#125; * &#125; */import java.util.*;public class Solution &#123; public TreeNode reConstructBinaryTree(int [] pre,int [] in) &#123; //pç”¨æ¥ä¿å­˜ä¸¤ä¸ªåºåˆ—çš„ç´¢å¼•å€¼ Stack&lt;Integer&gt; p = new Stack&lt;Integer&gt;(); Stack&lt;TreeNode&gt; l = new Stack&lt;TreeNode&gt;(); TreeNode cur = null; p.push(0); p.push(pre.length - 1); p.push(0); p.push(in.length - 1); int count = 1; int pStart = 0; int pEnd = pre.length - 1; int iStart = 0; int iEnd = in.length - 1; TreeNode root = new TreeNode(-1); l.push(root); while( count != 0)&#123; iEnd = p.pop(); iStart = p.pop(); pEnd = p.pop(); pStart = p.pop(); cur = l.pop(); count -= 1; int index = find(pre[pStart], in, iStart, iEnd); cur.val = pre[pStart]; int lenL = index - iStart; if(lenL == 0)&#123; &#125;else&#123; p.push(pStart + 1); p.push(pStart + lenL); p.push(iStart); p.push(index - 1); count += 1; cur.left = new TreeNode(-1); l.push(cur.left); &#125; int lenR = iEnd - index; if(lenR == 0)&#123; &#125;else&#123; p.push(pStart + lenL + 1); p.push(pEnd); p.push(index + 1); p.push(iEnd); count += 1; cur.right = new TreeNode(-1); l.push(cur.right); &#125; &#125; return root; &#125; int find(int target, int[] all, int start , int end)&#123; for(int i = start; i &lt;= end; ++i)&#123; if(all[i] == target) return i; &#125; return -1; &#125;&#125; çŸ¥è¯†ç‚¹è¡¥å……Tips: äºŒå‰æ ‘çš„å‰åºï¼Œä¸­åºï¼Œååºéå†æ–¹æ³•æ€»ç»“ å‰åºé€’å½’å’Œéé€’å½’ç®—æ³•å‰åºé€’å½’é€’å½’çš„æ–¹æ³•å¾ˆå®¹æ˜“å®ç°ï¼Œä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼šæˆ‘ä»¬å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åé€’å½’è®¿é—®å·¦å­æ ‘ï¼Œå†é€’å½’è®¿é—®å³å­æ ‘ï¼Œå³å®ç°äº†æ ¹-&gt;å·¦-&gt;å³çš„è®¿é—®é¡ºåºï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯é€’å½’æ–¹æ³•ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªå­æ ‘éƒ½å®ç°äº†è¿™æ ·çš„é¡ºåºã€‚ 1234567891011121314class Solution &#123; public List&lt;Integer&gt; preorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); preorderHelper(root, result); return result; &#125; private void preorderHelper(TreeNode root, List&lt;Integer&gt; result) &#123; if (root == null) return; result.add(root.val); // è®¿é—®æ ¹èŠ‚ç‚¹ preorderHelper(root.left, result); // é€’å½’éå†å·¦å­æ ‘ preorderHelper(root.right, result); //é€’å½’éå†å³å­æ ‘ &#125;&#125; å‰åºéé€’å½’åœ¨è¿­ä»£æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ ˆæ¥å®ç°ã€‚ç”±äºå‡ºæ ˆé¡ºåºå’Œå…¥æ ˆé¡ºåºç›¸åï¼Œæ‰€ä»¥æ¯æ¬¡æ·»åŠ èŠ‚ç‚¹çš„æ—¶å€™å…ˆæ·»åŠ å³èŠ‚ç‚¹ï¼Œå†æ·»åŠ å·¦èŠ‚ç‚¹ã€‚è¿™æ ·åœ¨ä¸‹ä¸€è½®è®¿é—®å­æ ‘çš„æ—¶å€™ï¼Œå°±ä¼šå…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®å³å­æ ‘ï¼š 123456789101112131415161718class Solution &#123; public List&lt;Integer&gt; preorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); if (root == null) return result; Stack&lt;TreeNode&gt; toVisit = new Stack&lt;&gt;(); toVisit.push(root); TreeNode cur; while (!toVisit.isEmpty()) &#123; cur = toVisit.pop(); result.add(cur.val); // è®¿é—®æ ¹èŠ‚ç‚¹ if (cur.right != null) toVisit.push(cur.right); // å³èŠ‚ç‚¹å…¥æ ˆ if (cur.left != null) toVisit.push(cur.left); // å·¦èŠ‚ç‚¹å…¥æ ˆ &#125; return result; &#125;&#125; ä¸­åºé€’å½’å’Œéé€’å½’ç®—æ³•ä¸­åºé€’å½’æ— è®ºå¯¹äºå“ªç§æ–¹å¼ï¼Œé€’å½’çš„æ–¹æ³•æ€»æ˜¯å¾ˆå®¹æ˜“å®ç°çš„ï¼Œä¹Ÿæ˜¯å¾ˆç¬¦åˆç›´è§‰çš„ã€‚å¯¹äºä¸­åºéå†ï¼Œå°±æ˜¯å…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œå†è®¿é—®å³å­æ ‘ï¼Œå³ å·¦-&gt;æ ¹-&gt;å³ï¼š 1234567891011121314class Solution &#123; public List&lt;Integer&gt; inorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); inorderHelper(root, result); return result; &#125; private void inorderHelper(TreeNode root, List&lt;Integer&gt; result) &#123; if(root == null) return; inorderHelper(root.left, result); // é€’å½’éå†å·¦å­æ ‘ result.add(root.val); // è®¿é—®æ ¹èŠ‚ç‚¹ inorderHelper(root.right, result); // é€’å½’éå†å³å­æ ‘ &#125;&#125; ä¸­åºéé€’å½’ä¸­åºéå†çš„è¿­ä»£æ³•è¦ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå› ä¸ºæœ€å…ˆé‡åˆ°çš„æ ¹èŠ‚ç‚¹ä¸æ˜¯æœ€å…ˆè®¿é—®çš„ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†å›é€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œè¿™é‡Œçš„ä¸€ä¸ªéš¾ç‚¹æ˜¯ä»å·¦å­æ ‘å›é€€åˆ°æ ¹èŠ‚ç‚¹çš„æ“ä½œï¼Œè™½ç„¶å¯ä»¥ç”¨æ ˆæ¥å®ç°å›é€€ï¼Œä½†æ˜¯è¦æ³¨æ„åœ¨å‡ºæ ˆæ—¶ä¿å­˜æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡æ ¹èŠ‚ç‚¹æ¥è®¿é—®å³å­æ ‘ï¼š 123456789101112131415161718class Solution &#123; public List&lt;Integer&gt; inorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); Stack&lt;TreeNode&gt; toVisit = new Stack&lt;&gt;(); TreeNode cur = root; while (cur != null || !toVisit.isEmpty()) &#123; while (cur != null) &#123; toVisit.push(cur); // æ·»åŠ æ ¹èŠ‚ç‚¹ cur = cur.left; // å¾ªç¯æ·»åŠ å·¦èŠ‚ç‚¹ &#125; cur = toVisit.pop(); // å½“å‰æ ˆé¡¶å·²ç»æ˜¯æœ€åº•å±‚çš„å·¦èŠ‚ç‚¹äº†ï¼Œå–å‡ºæ ˆé¡¶å…ƒç´ ï¼Œè®¿é—®è¯¥èŠ‚ç‚¹ result.add(cur.val); cur = cur.right; // æ·»åŠ å³èŠ‚ç‚¹ &#125; return result; &#125;&#125; åœ¨çœ‹è¿™éƒ¨åˆ†ä»£ç ä¸­ï¼Œè„‘æµ·ä¸­è¦æœ‰ä¸€ä¸ªæ¦‚å¿µï¼šå½“å‰æ ‘çš„æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œæ˜¯å®ƒçš„å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚å› æ­¤ä»ä¸åŒçš„å±‚æ¬¡ä¸Šçœ‹ï¼Œå·¦èŠ‚ç‚¹ä¹Ÿæ˜¯æ ¹èŠ‚ç‚¹ã€‚å¦å¤–ï¼ŒLeetCodeä¸Šä¹Ÿæä¾›äº†å…³äºä¸­åºéå†çš„åŠ¨æ€å›¾çš„æ¼”ç¤ºï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥å»çœ‹ä¸€çœ‹ã€‚ ååºé€’å½’å’Œéé€’å½’ç®—æ³•ååºé€’å½’æ— è®ºå¯¹äºå“ªç§æ–¹å¼ï¼Œé€’å½’çš„æ–¹æ³•æ€»æ˜¯å¾ˆå®¹æ˜“å®ç°çš„ï¼Œä¹Ÿæ˜¯å¾ˆç¬¦åˆç›´è§‰çš„ã€‚å¯¹äºååºéå†ï¼Œå°±æ˜¯å…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®å³å­æ ‘ï¼Œå†è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œå³ å·¦-&gt;å³-&gt;æ ¹ï¼š 1234567891011121314class Solution &#123; public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); postorderHelper(root, result); return result; &#125; private void postorderHelper(TreeNode root, List&lt;Integer&gt; result) &#123; if (root == null) return; postorderHelper(root.left, result); // éå†å·¦å­æ ‘ postorderHelper(root.right, result); // éå†å³å­æ ‘ result.add(root.val); // è®¿é—®æ ¹èŠ‚ç‚¹ &#125;&#125; ååºéé€’å½’å‰é¢è¯´è¿‡ï¼Œä¸ä¸­åºéå†ä¸åŒçš„æ˜¯ï¼Œååºéå†åœ¨è®¿é—®å®Œå·¦å­æ ‘å‘ä¸Šå›é€€åˆ°æ ¹èŠ‚ç‚¹çš„æ—¶å€™ä¸æ˜¯ç«‹é©¬è®¿é—®æ ¹èŠ‚ç‚¹çš„ï¼Œè€Œæ˜¯å¾—å…ˆå»è®¿é—®å³å­æ ‘ï¼Œè®¿é—®å®Œå³å­æ ‘ååœ¨å›é€€åˆ°æ ¹èŠ‚ç‚¹ï¼Œå› æ­¤ï¼Œåœ¨è¿­ä»£è¿‡ç¨‹ä¸­è¦å¤æ‚ä¸€ç‚¹ï¼š 1234567891011121314151617181920212223242526class Solution &#123; public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123; List&lt;Integer&gt; result = new LinkedList&lt;&gt;(); Stack&lt;TreeNode&gt; toVisit = new Stack&lt;&gt;(); TreeNode cur = root; TreeNode pre = null; while (cur != null || !toVisit.isEmpty()) &#123; while (cur != null) &#123; toVisit.push(cur); // æ·»åŠ æ ¹èŠ‚ç‚¹ cur = cur.left; // é€’å½’æ·»åŠ å·¦èŠ‚ç‚¹ &#125; cur = toVisit.peek(); // å·²ç»è®¿é—®åˆ°æœ€å·¦çš„èŠ‚ç‚¹äº† //åœ¨ä¸å­˜åœ¨å³èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ ¹èŠ‚ç‚¹ if (cur.right == null || cur.right == pre) &#123; toVisit.pop(); result.add(cur.val); pre = cur; cur = null; &#125; else &#123; cur = cur.right; // å³èŠ‚ç‚¹è¿˜æ²¡æœ‰è®¿é—®è¿‡å°±å…ˆè®¿é—®å³èŠ‚ç‚¹ &#125; &#125; return result; &#125;&#125; è¿™é‡Œå°¤å…¶æ³¨æ„åç»­éå†å’Œä¸­åºéå†ä¸­å¯¹äºä»æœ€å·¦ä¾§èŠ‚ç‚¹å‘ä¸Šå›é€€æ—¶çš„å¤„ç†ï¼š åœ¨ååºéå†ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨çš„æ˜¯ï¼š 1cur = toVisit.peek(); æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯peekè€Œä¸æ˜¯popï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦é¦–å…ˆå»è®¿é—®å³èŠ‚ç‚¹ï¼Œä¸‹é¢çš„ï¼š 1if (cur.right == null || cur.right == pre) å°±æ˜¯ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨å³èŠ‚ç‚¹ï¼Œæˆ–è€…å³èŠ‚ç‚¹æ˜¯å¦å·²ç»è®¿é—®è¿‡äº†ï¼Œå¦‚æœå³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡äº†ï¼Œåˆ™æ¥ä¸‹æ¥çš„æ“ä½œå°±å’Œä¸­åºéå†çš„æƒ…å†µå·®ä¸å¤šäº†ï¼Œæ‰€ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œå¤šäº†ä¸¤æ­¥ï¼š 12pre = cur;cur = null; è¿™ä¸¤æ­¥çš„ç›®çš„éƒ½æ˜¯ä¸ºäº†åœ¨ä¸‹ä¸€è½®éå†ä¸­ä¸å†è®¿é—®è‡ªå·±ï¼Œcur = nullå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»åœ¨ä¸€è½®ç»“æŸåæ”¹å˜curçš„å€¼ï¼Œä»¥æ·»åŠ ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥å®ƒå’Œcur = cur.rightä¸€æ ·ï¼Œç›®çš„éƒ½æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªå¾…éå†çš„èŠ‚ç‚¹ï¼Œåªæ˜¯åœ¨è¿™é‡Œï¼Œå³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡äº†ï¼Œåˆ™ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ•´ä¸ªå­æ ‘éƒ½å·²ç»è®¿é—®è¿‡äº†ï¼Œæ¥ä¸‹æ¥åº”è¯¥å›é€€åˆ°å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè€Œå½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å·²ç»åœ¨æ ˆé‡Œäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹¶æ²¡æœ‰æ–°çš„èŠ‚ç‚¹è¦æ·»åŠ ï¼Œç›´æ¥å°†curè®¾ä¸ºnullå³å¯ã€‚ pre = cur çš„ç›®çš„æœ‰ç‚¹ç±»ä¼¼äºå°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå®ƒæ˜¯å’Œifæ¡ä»¶ä¸­çš„cur.right == preé…åˆä½¿ç”¨çš„ã€‚æ³¨æ„è¿™é‡Œçš„ä¸¤ä¸ªcuræŒ‡çš„ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬å‡è®¾å½“å‰èŠ‚ç‚¹ä¸ºCï¼Œå½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºAï¼Œè€ŒCæ˜¯Açš„å³å­©å­ï¼Œåˆ™å½“å‰curæ˜¯Cï¼Œä½†åœ¨ä¸€è½®ä¸­ï¼Œcurå°†å˜æˆAï¼Œåˆ™ï¼š 123 A / \B C (pre) pre = cur å°±æ˜¯ pre = C if (cur.right == null || cur.right == pre) å°±æ˜¯ if (A.right == null || A.right == pre) è¿™é‡Œï¼Œç”±äºAæ˜¯æœ‰å³èŠ‚ç‚¹çš„ï¼Œå®ƒçš„å³èŠ‚ç‚¹å°±æ˜¯Cï¼Œæ‰€ä»¥A.right == nullä¸æˆç«‹ã€‚ä½†æ˜¯CèŠ‚ç‚¹æˆ‘ä»¬åœ¨ä¸Šä¸€è½®å·²ç»è®¿é—®è¿‡äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¸ºäº†é˜²æ­¢è¿›å…¥elseè¯­å¥é‡å¤æ·»åŠ èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¤šåŠ äº†ä¸€ä¸ªA.right == preæ¡ä»¶ï¼Œå®ƒè¡¨ç¤ºAçš„å³èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡äº†ï¼Œæˆ‘ä»¬å¾—ä»¥è¿›å…¥ifè¯­å¥å†…ï¼Œç›´æ¥è®¿é—®AèŠ‚ç‚¹ã€‚ ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—tipsï¼šåªè¦æ˜¯å…³äºæœ‰åºæ•°ç»„ï¼ŒåŸºæœ¬å°±åœ¨è€ƒå¯ŸäºŒåˆ†æ³• æ–æ³¢é‚£å¥‘æ•°åˆ—å˜æ€è·³å°é˜¶]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>å‰‘æŒ‡offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨macOSä¸Šä½¿ç”¨GitHub Pages+Hexoæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2019%2F08%2F08%2F%E5%9C%A8macOS%E4%B8%8A%E4%BD%BF%E7%94%A8GitHub-Pages-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.html</url>
    <content type="text"><![CDATA[æ­å»ºç¯å¢ƒæ“ä½œç³»ç»Ÿï¼šmacos 10.14.5å·¥å…·ï¼šgithub Desktop, Node.js, Gitæ¡†æ¶ï¼šHexo, Github Pages å…·ä½“æ­¥éª¤å®‰è£…gitç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥git --versionåˆ¤æ–­è‡ªå·±ç³»ç»Ÿæ˜¯å¦å·²æœ‰gitï¼Œå¦‚æœæ²¡æœ‰ï¼Œç‚¹å‡»è¯¥é“¾æ¥gitä¸‹è½½ï¼Œå®‰è£…å®Œåè¿›å…¥ç»ˆç«¯è¾“å…¥git --versionæ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚ å®‰è£…node.jsè¯ä¸å¤šè¯´ï¼Œä¸Šé“¾æ¥ï¼šnode.jsä¸‹è½½ï¼Œç„¶åå‚»ç“œå¼å®‰è£…å°±è¡Œã€‚å®‰è£…å®Œä¹‹åè¯·è®°å¾—å»æ§åˆ¶å°çœ‹çœ‹æ˜¯å¦å®‰è£…æˆåŠŸnode --version,ç„¶åæ›´æ–°ä¸€ä¸‹npm,è¾“å…¥:npm install -g npm æ³¨å†Œè´¦å·å¹¶åˆ›å»ºåšå®¢ä»“åº“a.é¦–å…ˆè¿›å…¥githubå®˜ç½‘ï¼šgithub,è¿›è¡Œç›¸åº”çš„æ³¨å†Œç™»å½•ï¼Œç„¶ååˆ›å»ºä»“åº“ï¼Œå°±åœ¨å·¦ä¸Šè§’é‚£ä¸ªçŒ«çŒ«æ—è¾¹ã€‚b.æˆ³è¿›å»ä¹‹å,Respository nameå¿…é¡»æ˜¯:æ‚¨çš„githubè´¦æˆ·å.github.io,ç„¶åå‹¾é€‰ä¸‹é¢çš„åˆ›å»ºreadmeï¼Œåˆ›å»ºå®Œæˆã€‚c.è¿›å…¥ä»“åº“ï¼Œç‚¹å‡»Settingï¼Œå¯ç”¨GitHub Pages,æ­¤æ—¶ä½ è¾“å…¥æ‚¨çš„githubè´¦æˆ·å.github.io,å°±èƒ½çœ‹åˆ°ä¸æ˜¯404äº†ï¼Œè¯´æ˜æ­¤æ—¶åšå®¢å·²ç»å»ºç«‹äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åˆ©ç”¨Hexoæ¡†æ¶è®©ä½ çš„åšå®¢ç¾èµ·æ¥å•¦ï¼ï¼ï¼ï¼ å®‰è£…é…ç½®Hexoa.é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹(éšä¾¿ä½ å»ºåœ¨å“ª)b.åœ¨è¯¥æ–‡ä»¶å¤¹å†…æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š1$ npm install hexo-cli -g æ¥ä¸‹æ¥ä½ å°±èƒ½çœ‹åˆ°æ–‡ä»¶å¤¹å†…çš„ä¸œè¥¿å¤šäº†èµ·æ¥å“ˆå“ˆå“ˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ–‡ä»¶ç»“æ„ï¼šc.Hexoå·²ç»æœ‰äº†ï¼Œgithub pagesä¹Ÿæœ‰äº†ï¼Œç°åœ¨å°±å‰©æŠŠä»–ä»¬è”ç³»èµ·æ¥äº†ï¼Œæ‰€ä»¥è¿™æ­¥å°±æ˜¯å…³é”®å’¯ï¼Œæ‰“å¼€ä¸Šå›¾ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼š_config.yml,ç„¶ååœ¨æ–‡æœ¬çš„ç»“å°¾åŠ ä¸Šä¸‹é¢çš„ä¸€æ®µä»£ç ï¼š1234deploy: type: git repository: https://github.com/jeromememory/jeromememory.github.io.git branch: master å…¶ä¸­repositoryå°±æ˜¯ä½ æœ€å¼€å§‹è®¾ç½®çš„ä»“åº“å“Ÿï¼Œè®°å¾—æ›¿æ¢è‡ªå·±çš„githubç”¨æˆ·åã€‚ æ£€æµ‹æ˜¯å¦éƒ¨ç½²æˆåŠŸé¦–å…ˆå¦‚æœä½ æƒ³åœ¨æœ¬åœ°é¢„è§ˆä½ çš„åšå®¢ï¼Œåªéœ€è¦æ‰“å¼€ç»ˆç«¯,é¦–å…ˆè¿›å…¥Hexoæ–‡ä»¶å¤¹å†…ï¼Œç„¶åè¿›è¡Œ hexo så³å¯ï¼š12$ cd /Users/jerome/Hexo $ hexo s ç„¶åä½ å°±ä¼šçœ‹åˆ°åœ¨ç»ˆç«¯æç¤ºä½ åœ¨localhost:4000é¢„è§ˆä½ çš„åšå®¢å•¦ï¼ï¼å¦‚æœä½ æƒ³åœ¨ç½‘é¡µä¸Šçœ‹åˆ°ä½ çš„åšå®¢ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯è¾“å…¥ï¼š12$ hexo g$ hexo d ç¨ç­‰ä¸€å°ä¼š(github pageséœ€è¦ä¸€å°æ®µæ—¶é—´æ‰ä¼šæ›´æ–°)ï¼Œä½ å°±èƒ½åœ¨ä½ ä»“åº“å¯¹åº”çš„é‚£ä¸ªç½‘å€(æ‚¨çš„githubç”¨æˆ·å.io.git)çœ‹åˆ°æ‚¨çš„åšå®¢äº†ï¼Œè‡³æ­¤ï¼Œæ‚¨çš„åšå®¢åº”è¯¥å°±å·²ç»æ­å»ºå®Œæˆäº†ï¼Œå½“ç„¶æ‚¨è‚¯å®šä¼šè¯´è¿™ä¹Ÿå¤ªä¸‘äº†å§ï¼Œå¯¹ï¼Œæˆ‘ä¹Ÿè§‰å¾—ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¯·ç»§ç»­çœ‹ä¸‹é¢çš„æ“ä½œå§ï¼ï¼ï¼ Hexoä¸»é¢˜é…ç½®é»˜è®¤çš„ä¸»é¢˜å¾ˆä¸‘ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å»githubè¿™ä¸ªæœ€å¤§çš„å¼€æºç½‘ç«™æ‰¾äº†ï¼Œæˆ‘æ¨èHexoçš„nextä¸»é¢˜ï¼Œæˆ‘è‡ªå·±ç”¨çš„å°±æ˜¯è¿™ä¸ªï¼Œæç®€è‡³æï¼Œæ‰¾åˆ°åˆ«äººçš„ä¸»é¢˜ä¹‹åï¼ŒæŠŠä»–çš„ä»£ç cloneä¸‹æ¥ï¼Œæ”¾åˆ°/Hexo/themesè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼šç„¶åå»å¼€å§‹çš„_config.ymlä¸­å®šä½åˆ°themeï¼Œå°†åé¢çš„å€¼æ”¹ä¸ºä½ çš„ä¸»é¢˜åï¼Œåˆ«å¿˜äº†ï¼Œæ”¹å®Œè¿™äº›åï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š12$ hexo g$ hexo d è¿‡ä¸€å°ä¼šä½ å°±èƒ½çœ‹åˆ°è‡ªå·±çš„ä¸»é¢˜å‘ç”Ÿå˜åŒ–å•¦ï¼å‰©ä¸‹çš„å…·ä½“é…ç½®ï¼Œæˆ‘å°±å·å·æ‡’æ”¾ä¸ªé“¾æ¥ï¼šNexTä¸»é¢˜ï¼Œå…¶ä»–ä¸»é¢˜çš„åŒå­¦ï¼Œä½ ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æŸ¥ä¸€ä¸‹å¯¹åº”çš„å®˜ç½‘å“Ÿï¼Œéƒ½å†™çš„è´¼è¯¦ç»†ï¼Œå¥½ç”¨ï¼ æ€»ç»“è‡³æ­¤ï¼Œä¸ªäººåšå®¢å°±åº”è¯¥æ­å»ºå¥½äº†ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€æ”¶è·ï¼!(è¯è¯´ç¬¬ä¸€ç¯‡åšå®¢æœç„¶æ˜¯ç‹—å±ä¸é€šå•Šå¤§å®¶å‡‘åˆçœ‹å§)]]></content>
      <categories>
        <category>ç¨‹åºçŒ¿</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>GitHub Pages</tag>
      </tags>
  </entry>
</search>
